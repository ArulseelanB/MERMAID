{"version":3,"file":"mermaid.core.js","mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;;;;;;;;;ACVA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA,eAAe,kCAAkC;AACjD,iBAAiB,kCAAkC;AACnD;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oJAAoJ;AACpJ,SAAS;;AAET;AACA;AACA,qBAAqB,+BAA+B;AACpD;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,WAAW,YAAY,IAAI,WAAW,SAAS;AACvE,cAAc,4BAA4B;AAC1C,MAAM;AACN,WAAW,4uCAA4uC;AACvvC,aAAa,yvBAAyvB;AACtwB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,iDAAiD,wBAAwB;AACzE;AACA;AACA,sBAAsB,mCAAmC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA,kCAAkC;AAClC;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB,qCAAqC;AACvD;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB,+BAA+B;AACjD;AACA;AACA,kBAAkB,uCAAuC;AACzD;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB,+CAA+C;AACjE;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,SAAS,kEAAkE,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,mEAAmE,EAAE,QAAQ,sDAAsD,gBAAgB,EAAE,UAAU,EAAE,UAAU,EAAE,QAAQ,EAAE,uBAAuB,oBAAoB,sMAAsM,EAAE,UAAU,EAAE,gBAAgB,EAAE,UAAU,EAAE,UAAU,EAAE,oBAAoB,eAAe,UAAU,kHAAkH,gFAAgF,GAAG,8CAA8C,8BAA8B,2BAA2B,EAAE,8CAA8C,EAAE,8CAA8C,EAAE,8CAA8C,EAAE,UAAU,eAAe,wDAAwD,gBAAgB,UAAU,mHAAmH,aAAa,EAAE,UAAU,EAAE,SAAS,EAAE,gNAAgN,gBAAgB,wDAAwD,EAAE,4DAA4D,gBAAgB,oBAAoB,eAAe,kCAAkC,oGAAoG,oBAAoB,GAAG,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,oBAAoB,EAAE,2BAA2B,4CAA4C,UAAU,EAAE,UAAU,gBAAgB,8CAA8C,EAAE,wDAAwD,eAAe,kCAAkC,iBAAiB,2BAA2B,EAAE,aAAa,EAAE,8CAA8C,eAAe,UAAU,gBAAgB,oBAAoB,gBAAgB,oBAAoB,gBAAgB,sBAAsB,2DAA2D,+CAA+C,6BAA6B,WAAW,GAAG,WAAW,EAAE,wBAAwB,yDAAyD,WAAW,8BAA8B,WAAW,8BAA8B,WAAW,iBAAiB,cAAc,gBAAgB,UAAU,4CAA4C,WAAW;AACh1F,iBAAiB,8FAA8F;AAC/G;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,kCAAkC;AAClC,sBAAsB;AACtB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL,sDAAsD;AACtD;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL,WAAW;AACX;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA,yBAAyB,6BAA6B;AACtD;AACA,yBAAyB,iBAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,iCAAiC;AAChE;AACA;AACA;AACA;AACA;AACA,wCAAwC,mBAAmB;AAC3D;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,iBAAiB,yIAAyI,8BAA8B,mBAAmB,yBAAyB,6HAA6H,oBAAoB,WAAW,yBAAyB,0fAA0f,EAAE,MAAM,YAAY,EAAE;AACz6B,aAAa,iBAAiB,gCAAgC,mBAAmB,gCAAgC,mBAAmB,8BAA8B,kBAAkB,kCAAkC,kBAAkB,qCAAqC,SAAS,kCAAkC,WAAW,2CAA2C,YAAY,kCAAkC,aAAa,kCAAkC,WAAW,kCAAkC,YAAY;AACpgB,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,CAAC;;;AAGD,IAAI,IAAgE;AACpE,cAAc;AACd,cAAc;AACd,aAAa,iBAAiB;AAC9B,YAAY;AACZ;AACA;AACA;AACA;AACA,iBAAiB,mDAA0B,CAAC,oFAAyB;AACrE;AACA;AACA,IAAI,KAA6B,IAAI,4CAAY;AACjD;AACA;AACA;;;;;;;;;;;ACt3BA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA,eAAe,kCAAkC;AACjD,iBAAiB,kCAAkC;AACnD;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oJAAoJ;AACpJ,SAAS;;AAET;AACA;AACA,qBAAqB,+BAA+B;AACpD;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,WAAW,YAAY,IAAI,WAAW,SAAS;AACvE,cAAc,4BAA4B;AAC1C,MAAM;AACN,WAAW,kqBAAkqB;AAC7qB,aAAa,oWAAoW;AACjX;AACA;AACA;;AAEA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mCAAmC;AACrD;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,YAAY;AACZ;AACA;AACA,YAAY;AACZ;AACA;AACA,YAAY;AACZ;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,kEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA,qBAAqB;AACrB;AACA;AACA,CAAC;AACD,SAAS,0BAA0B,EAAE,MAAM,cAAc,IAAI,GAAG,0BAA0B,EAAE,cAAc,EAAE,UAAU,EAAE,qEAAqE,EAAE,QAAQ,EAAE,uBAAuB,gCAAgC,QAAQ,gBAAgB,oCAAoC,uDAAuD,kDAAkD,8CAA8C,UAAU,EAAE,gBAAgB,EAAE,UAAU,eAAe,aAAa,EAAE,mCAAmC,EAAE,0BAA0B,uEAAuE,aAAa,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,gBAAgB,mCAAmC,EAAE,gBAAgB,EAAE,UAAU,EAAE,kCAAkC,8BAA8B,UAAU,EAAE,0BAA0B,gBAAgB,UAAU,eAAe,0BAA0B,2BAA2B,UAAU,uEAAuE,UAAU;AAClkC,iBAAiB,mEAAmE;AACpF;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,kCAAkC;AAClC,sBAAsB;AACtB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL,sDAAsD;AACtD;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL,UAAU,wBAAwB;AAClC;AACA;AACA;AACA,sCAAsC;AACtC;AACA,sCAAsC;AACtC;AACA,yBAAyB,6BAA6B;AACtD;AACA,yBAAyB,iBAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,iBAAiB,kBAAkB,gCAAgC,oBAAoB,yBAAyB,oBAAoB,gGAAgG,2GAA2G,mCAAmC,cAAc,uCAAuC,aAAa;AACpb,aAAa,kBAAkB,8BAA8B,mBAAmB,gCAAgC,kBAAkB,gCAAgC,UAAU,iDAAiD,YAAY;AACzO,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,CAAC;;;AAGD,IAAI,IAAgE;AACpE,cAAc;AACd,cAAc;AACd,aAAa,iBAAiB;AAC9B,YAAY;AACZ;AACA;AACA;AACA;AACA,iBAAiB,mDAA0B,CAAC,oFAAyB;AACrE;AACA;AACA,IAAI,KAA6B,IAAI,4CAAY;AACjD;AACA;AACA;;;;;;;;;;;ACjwBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA,eAAe,kCAAkC;AACjD,iBAAiB,kCAAkC;AACnD;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oJAAoJ;AACpJ,SAAS;;AAET;AACA;AACA,qBAAqB,+BAA+B;AACpD;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,WAAW,YAAY,IAAI,WAAW,SAAS;AACvE,cAAc,4BAA4B;AAC1C,MAAM;AACN,WAAW,qzDAAqzD;AACh0D,aAAa,wkCAAwkC;AACrlC;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,2BAA2B;AAC3B;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,8CAA8C,WAAW;AACtG;AACA;AACA,+CAA+C,gDAAgD,WAAW;AAC1G;AACA;AACA,iCAAiC,aAAa;AAC9C;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA,iCAAiC;AACjC;AACA;AACA,mCAAmC,qDAAqD;AACxF;AACA;AACA,oBAAoB;AACpB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,+BAA+B,kBAAkB;AACjD;AACA;AACA,uBAAuB;AACvB;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,6CAA6C,UAAU;AACvD;AACA;AACA,kCAAkC,UAAU;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB,qCAAqC;AACvD;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB,+CAA+C;AACjE;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB,+BAA+B;AACjD;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB,uCAAuC;AACzD;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB,8CAA8C;AAChE;AACA;AACA,kBAAkB,4CAA4C;AAC9D;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD,SAAS,iDAAiD,EAAE,MAAM,EAAE,QAAQ,EAAE,kDAAkD,YAAY,MAAM,GAAG,eAAe,EAAE,2BAA2B,EAAE,2BAA2B,EAAE,oBAAoB,EAAE,SAAS,EAAE,QAAQ,EAAE,gTAAgT,EAAE,sBAAsB,6DAA6D,uCAAuC,sFAAsF,0DAA0D,EAAE,0BAA0B,EAAE,0BAA0B,EAAE,0BAA0B,EAAE,0BAA0B,EAAE,0BAA0B,EAAE,oCAAoC,6BAA6B,aAAa,GAAG,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,4KAA4K,2EAA2E,WAAW,gBAAgB,yOAAyO,mPAAmP,2BAA2B,EAAE,kBAAkB,yDAAyD,WAAW,eAAe,cAAc,iBAAiB,6IAA6I,0DAA0D,6BAA6B,GAAG,mSAAmS,iJAAiJ,mSAAmS,aAAa,OAAO,gBAAgB,QAAQ,GAAG,0JAA0J,EAAE,6BAA6B,EAAE,0JAA0J,EAAE,+IAA+I,eAAe,sBAAsB,iBAAiB,WAAW,iBAAiB,oJAAoJ,iBAAiB,WAAW,mSAAmS,iIAAiI,EAAE,mSAAmS,EAAE,8SAA8S,EAAE,mSAAmS,EAAE,mSAAmS,EAAE,mSAAmS,EAAE,mSAAmS,EAAE,8SAA8S,EAAE,mSAAmS,EAAE,mSAAmS,EAAE,mSAAmS,+BAA+B,aAAa,EAAE,SAAS,2CAA2C,cAAc,iBAAiB,WAAW,GAAG,WAAW,EAAE,mSAAmS,EAAE,+RAA+R,qWAAqW,0TAA0T,EAAE,mTAAmT,EAAE,cAAc,EAAE,oJAAoJ,EAAE,WAAW,EAAE,WAAW,EAAE,sBAAsB,kBAAkB,WAAW,EAAE,oJAAoJ,EAAE,oJAAoJ,EAAE,WAAW,eAAe,WAAW,GAAG,sBAAsB,EAAE,WAAW,kBAAkB,sBAAsB,eAAe,2HAA2H,GAAG,+RAA+R,EAAE,mSAAmS,EAAE,+RAA+R,EAAE,+RAA+R,EAAE,+RAA+R,EAAE,+RAA+R,EAAE,+RAA+R,EAAE,+RAA+R,EAAE,mSAAmS,EAAE,+RAA+R,EAAE,0SAA0S,EAAE,0SAA0S,EAAE,2BAA2B,eAAe,QAAQ,iCAAiC,+RAA+R,gCAAgC,mSAAmS,aAAa,OAAO,iBAAiB,uIAAuI,EAAE,mHAAmH,EAAE,mHAAmH,EAAE,8HAA8H,EAAE,8HAA8H,EAAE,WAAW,EAAE,mHAAmH,EAAE,mHAAmH,EAAE,+IAA+I,gBAAgB,WAAW,gBAAgB,WAAW,+CAA+C,WAAW,gCAAgC,+RAA+R,sFAAsF,+RAA+R,4JAA4J,+RAA+R,EAAE,mTAAmT,8BAA8B,QAAQ,kBAAkB,qGAAqG,iNAAiN,QAAQ,iBAAiB,QAAQ,GAAG,WAAW,gBAAgB,QAAQ,GAAG,WAAW,+BAA+B,QAAQ,gBAAgB,QAAQ,gBAAgB,yIAAyI,iBAAiB,WAAW,EAAE,WAAW,EAAE,WAAW,EAAE,WAAW,EAAE,2BAA2B,gBAAgB,4GAA4G,kBAAkB,+IAA+I,EAAE,+IAA+I,uEAAuE,OAAO,kBAAkB,qGAAqG,iBAAiB,oJAAoJ,iBAAiB,oJAAoJ,GAAG,mTAAmT,EAAE,mHAAmH,EAAE,mHAAmH,8BAA8B,QAAQ,iBAAiB,QAAQ;AACr2kB,iBAAiB,mCAAmC;AACpD;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,kCAAkC;AAClC,sBAAsB;AACtB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL,sDAAsD;AACtD;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL,WAAW;AACX;AACA;AACA;AACA,sCAAsC;AACtC;AACA,sCAAsC;AACtC;AACA,yBAAyB,6BAA6B;AACtD;AACA,yBAAyB,iBAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qBAAqB;AACrD;AACA,gCAAgC,qBAAqB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,iBAAiB,iBAAiB,8BAA8B,mBAAmB,yBAAyB,mBAAmB,0xBAA0xB,mzJAAmzJ,UAAU;AACttL,aAAa,mBAAmB,6BAA6B,kBAAkB,gCAAgC,mBAAmB,gCAAgC,mBAAmB,8BAA8B,iBAAiB,kCAAkC,iBAAiB,qCAAqC,SAAS,kCAAkC,UAAU,kCAAkC,WAAW,6BAA6B,QAAQ,6DAA6D,WAAW,gCAAgC,YAAY;AACvjB,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,CAAC;;;AAGD,IAAI,IAAgE;AACpE,cAAc;AACd,cAAc;AACd,aAAa,iBAAiB;AAC9B,YAAY;AACZ;AACA;AACA;AACA;AACA,iBAAiB,mDAA0B,CAAC,oFAAyB;AACrE;AACA;AACA,IAAI,KAA6B,IAAI,4CAAY;AACjD;AACA;AACA;;;;;;;;;;;AC7/BA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA,eAAe,kCAAkC;AACjD,iBAAiB,kCAAkC;AACnD;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oJAAoJ;AACpJ,SAAS;;AAET;AACA;AACA,qBAAqB,+BAA+B;AACpD;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,WAAW,YAAY,IAAI,WAAW,SAAS;AACvE,cAAc,4BAA4B;AAC1C,MAAM;AACN,WAAW,+hBAA+hB;AAC1iB,aAAa,oVAAoV;AACjW;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,aAAa;AACb;AACA;AACA,oCAAoC;AACpC;AACA;AACA,iCAAiC;AACjC;AACA;AACA,qCAAqC;AACrC;AACA;AACA,8BAA8B;AAC9B;AACA;AACA,gCAAgC;AAChC;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB,2CAA2C;AAC7D;AACA;AACA,kBAAkB,+CAA+C;AACjE;AACA;AACA,kBAAkB,yCAAyC;AAC3D;AACA;AACA,kBAAkB,6CAA6C;AAC/D;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA,qBAAqB;AACrB;AACA;AACA,CAAC;AACD,SAAS,0BAA0B,EAAE,MAAM,EAAE,0BAA0B,cAAc,IAAI,GAAG,cAAc,EAAE,UAAU,EAAE,QAAQ,EAAE,oIAAoI,EAAE,uBAAuB,gCAAgC,QAAQ,gBAAgB,mGAAmG,yJAAyJ,UAAU,gBAAgB,oBAAoB,EAAE,UAAU,EAAE,gBAAgB,EAAE,UAAU,0CAA0C,oBAAoB,gBAAgB,UAAU,iBAAiB,aAAa,EAAE,UAAU,eAAe,UAAU,8BAA8B,UAAU,GAAG,UAAU;AAC33B,iBAAiB,qCAAqC;AACtD;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,kCAAkC;AAClC,sBAAsB;AACtB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL,sDAAsD;AACtD;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL,UAAU,wBAAwB;AAClC;AACA;AACA;AACA,sCAAsC;AACtC;AACA,sCAAsC;AACtC;AACA,yBAAyB,6BAA6B;AACtD;AACA,yBAAyB,iBAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,iBAAiB,kBAAkB,gCAAgC,oBAAoB,0BAA0B,qBAAqB,8TAA8T,2EAA2E,2BAA2B,6BAA6B,qDAAqD,2BAA2B,kBAAkB,kBAAkB;AAC3rB,aAAa,mBAAmB,6BAA6B,kBAAkB,gCAAgC,mBAAmB,gCAAgC,mBAAmB,8BAA8B,iBAAiB,kCAAkC,iBAAiB,qCAAqC,SAAS,kCAAkC,UAAU,kCAAkC,YAAY;AAC/Z,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,CAAC;;;AAGD,IAAI,IAAgE;AACpE,cAAc;AACd,cAAc;AACd,aAAa,iBAAiB;AAC9B,YAAY;AACZ;AACA;AACA;AACA;AACA,iBAAiB,mDAA0B,CAAC,oFAAyB;AACrE;AACA;AACA,IAAI,KAA6B,IAAI,4CAAY;AACjD;AACA;AACA;;;;;;;;;;;ACxvBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA,eAAe,kCAAkC;AACjD,iBAAiB,kCAAkC;AACnD;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oJAAoJ;AACpJ,SAAS;;AAET;AACA;AACA,qBAAqB,+BAA+B;AACpD;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,WAAW,YAAY,IAAI,WAAW,SAAS;AACvE,cAAc,4BAA4B;AAC1C,MAAM;AACN,WAAW,uSAAuS;AAClT,aAAa,0JAA0J;AACvK;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,SAAS,YAAY,EAAE,MAAM,EAAE,gBAAgB,EAAE,qBAAqB,EAAE,QAAQ,EAAE,QAAQ,cAAc,gBAAgB,gBAAgB,sBAAsB,EAAE,QAAQ,EAAE,gFAAgF,eAAe,SAAS,eAAe,UAAU,gBAAgB,0BAA0B,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,0BAA0B,EAAE,QAAQ,eAAe,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,UAAU,EAAE,oBAAoB,EAAE,UAAU,EAAE,UAAU;AAC1lB,iBAAiB,2GAA2G;AAC5H;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,kCAAkC;AAClC,sBAAsB;AACtB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL,sDAAsD;AACtD;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL,UAAU,wBAAwB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,aAAa,WAAW,kCAAkC,WAAW,kCAAkC,YAAY;AACnH,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,CAAC;;;AAGD,IAAI,IAAgE;AACpE,cAAc;AACd,cAAc;AACd,aAAa,iBAAiB;AAC9B,YAAY;AACZ;AACA;AACA;AACA;AACA,iBAAiB,mDAA0B,CAAC,oFAAyB;AACrE;AACA;AACA,IAAI,KAA6B,IAAI,4CAAY;AACjD;AACA;AACA;;;;;;;;;;;ACvrBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA,eAAe,kCAAkC;AACjD,iBAAiB,kCAAkC;AACnD;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oJAAoJ;AACpJ,SAAS;;AAET;AACA;AACA,qBAAqB,+BAA+B;AACpD;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,WAAW,YAAY,IAAI,WAAW,SAAS;AACvE,cAAc,4BAA4B;AAC1C,MAAM;AACN,WAAW,mHAAmH;AAC9H,aAAa,gDAAgD;AAC7D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,SAAS,YAAY,EAAE,MAAM,cAAc,IAAI,GAAG,iCAAiC,EAAE,QAAQ;AAC7F,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,kCAAkC;AAClC,sBAAsB;AACtB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL,sDAAsD;AACtD;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL,UAAU,wBAAwB;AAClC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,aAAa,WAAW;AACxB,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,CAAC;;;AAGD,IAAI,IAAgE;AACpE,cAAc;AACd,cAAc;AACd,aAAa,iBAAiB;AAC9B,YAAY;AACZ;AACA;AACA;AACA;AACA,iBAAiB,mDAA0B,CAAC,oFAAyB;AACrE;AACA;AACA,IAAI,KAA6B,IAAI,4CAAY;AACjD;AACA;AACA;;;;;;;;;;;AC7mBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA,eAAe,kCAAkC;AACjD,iBAAiB,kCAAkC;AACnD;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oJAAoJ;AACpJ,SAAS;;AAET;AACA;AACA,qBAAqB,+BAA+B;AACpD;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,WAAW,YAAY,IAAI,WAAW,SAAS;AACvE,cAAc,4BAA4B;AAC1C,MAAM;AACN,WAAW,sPAAsP,mHAAmH;AACpX,aAAa,wGAAwG,2FAA2F;AAChN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA,qBAAqB;AACrB;AACA;AACA,CAAC;AACD,SAAS,mDAAmD,EAAE,MAAM,EAAE,oDAAoD,EAAE,oDAAoD,YAAY,cAAc,6CAA6C,gBAAgB,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,YAAY,kDAAkD,aAAa,KAAK,GAAG,uBAAuB,iCAAiC,0BAA0B,EAAE,UAAU,EAAE,UAAU,0BAA0B,kDAAkD,iBAAiB,gBAAgB,wDAAwD,aAAa,EAAE,UAAU;AAClqB,iBAAiB,qCAAqC;AACtD;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,kCAAkC;AAClC,sBAAsB;AACtB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL,sDAAsD;AACtD;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL,UAAU,wBAAwB;AAClC;AACA;AACA;AACA,sCAAsC;AACtC;AACA,sCAAsC;AACtC;AACA,yBAAyB,6BAA6B;AACtD;AACA,yBAAyB,iBAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA,4BAA4B,kBAAkB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,iBAAiB,kBAAkB,gCAAgC,oBAAoB,0BAA0B,oBAAoB;AACrI,aAAa,mBAAmB,6BAA6B,kBAAkB,gCAAgC,mBAAmB,gCAAgC,mBAAmB,8BAA8B,UAAU,+BAA+B,WAAW,kCAAkC,YAAY;AACrT,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,CAAC;;;AAGD,IAAI,IAAgE;AACpE,cAAc;AACd,cAAc;AACd,aAAa,iBAAiB;AAC9B,YAAY;AACZ;AACA;AACA;AACA;AACA,iBAAiB,mDAA0B,CAAC,oFAAyB;AACrE;AACA;AACA,IAAI,KAA6B,IAAI,4CAAY;AACjD;AACA;AACA;;;;;;;;;;;ACppBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA,eAAe,kCAAkC;AACjD,iBAAiB,kCAAkC;AACnD;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oJAAoJ;AACpJ,SAAS;;AAET;AACA;AACA,qBAAqB,+BAA+B;AACpD;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,WAAW,YAAY,IAAI,WAAW,SAAS;AACvE,cAAc,4BAA4B;AAC1C,MAAM;AACN,WAAW,6iCAA6iC;AACxjC,aAAa,yrBAAyrB;AACtsB;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,SAAS,yBAAyB,EAAE,MAAM,EAAE,iCAAiC,EAAE,QAAQ,EAAE,eAAe,EAAE,SAAS,EAAE,0BAA0B,EAAE,QAAQ,EAAE,8HAA8H,EAAE,uBAAuB,mBAAmB,QAAQ,EAAE,SAAS,EAAE,8HAA8H,EAAE,8HAA8H,EAAE,8HAA8H,EAAE,8HAA8H,EAAE,8HAA8H,EAAE,0BAA0B,EAAE,0BAA0B,EAAE,oBAAoB,+HAA+H,gBAAgB,eAAe,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,uDAAuD,EAAE,uDAAuD,EAAE,aAAa,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,UAAU,oGAAoG,UAAU,eAAe,+CAA+C,EAAE,iCAAiC,EAAE,oBAAoB,EAAE,oBAAoB,gBAAgB,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,+CAA+C,8BAA8B,UAAU,EAAE,UAAU,EAAE,iCAAiC,4CAA4C,oBAAoB,EAAE,0BAA0B,EAAE,oCAAoC,EAAE,8CAA8C,gBAAgB,4BAA4B,EAAE,6BAA6B,gBAAgB,UAAU,EAAE,UAAU,EAAE,SAAS,EAAE,SAAS,EAAE,UAAU,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,UAAU,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,UAAU,EAAE,SAAS,EAAE,SAAS,EAAE,UAAU,EAAE,SAAS,EAAE,SAAS,EAAE,gDAAgD,EAAE,gDAAgD,EAAE,gDAAgD,EAAE,gDAAgD,EAAE,kCAAkC,EAAE,kCAAkC;AAC5qF,iBAAiB,2QAA2Q;AAC5R;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,kCAAkC;AAClC,sBAAsB;AACtB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL,sDAAsD;AACtD;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL,UAAU,wBAAwB;AAClC;AACA;AACA;AACA,sCAAsC;AACtC;AACA,sCAAsC;AACtC;AACA,yBAAyB,6BAA6B;AACtD;AACA,yBAAyB,iBAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA,CAAC;AACD,iBAAiB,kBAAkB,gCAAgC,oBAAoB,yHAAyH,WAAW,qoBAAqoB;AACh2B,aAAa,mBAAmB,6BAA6B,kBAAkB,gCAAgC,mBAAmB,gCAAgC,mBAAmB,8BAA8B,cAAc,6BAA6B,UAAU,6BAA6B,WAAW,kCAAkC,YAAY;AAC9V,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,CAAC;;;AAGD,IAAI,IAAgE;AACpE,cAAc;AACd,cAAc;AACd,aAAa,iBAAiB;AAC9B,YAAY;AACZ;AACA;AACA;AACA;AACA,iBAAiB,mDAA0B,CAAC,oFAAyB;AACrE;AACA;AACA,IAAI,KAA6B,IAAI,4CAAY;AACjD;AACA;AACA;;;;;;;;;;;AC/xBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA,eAAe,kCAAkC;AACjD,iBAAiB,kCAAkC;AACnD;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oJAAoJ;AACpJ,SAAS;;AAET;AACA;AACA,qBAAqB,+BAA+B;AACpD;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,WAAW,YAAY,IAAI,WAAW,SAAS;AACvE,cAAc,4BAA4B;AAC1C,MAAM;AACN,WAAW,g1BAAg1B;AAC31B,aAAa,yhBAAyhB;AACtiB;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,QAAQ;AACR;AACA;AACA,SAAS,+BAA+B;AACxC;AACA;AACA;AACA,oBAAoB,0FAA0F;AAC9G,iBAAiB,qEAAqE;AACtF;AACA;AACA;AACA;AACA,oBAAoB,wFAAwF;AAC5G,iBAAiB,oFAAoF;AACrG;AACA;AACA;AACA;AACA,oBAAoB,uFAAuF;AAC3G,iBAAiB,mFAAmF;AACpG;AACA;AACA;AACA;AACA;AACA,oBAAoB,uFAAuF;AAC3G;AACA;AACA,iBAAiB,gDAAgD;AACjE;AACA;AACA;AACA;AACA;AACA,oBAAoB,uFAAuF;AAC3G;AACA;AACA,iBAAiB,gDAAgD;AACjE;AACA;AACA;AACA,4BAA4B,gFAAgF;AAC5G;AACA;AACA,4BAA4B,kFAAkF;AAC9G;AACA;AACA;AACA,uBAAuB,sEAAsE;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,qFAAqF;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,4FAA4F;AAC1H,gBAAgB;AAChB;AACA;AACA;AACA,8BAA8B,4FAA4F;AAC1H,eAAe;AACf;AACA;AACA;AACA,8BAA8B,4FAA4F;AAC1H;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA,qBAAqB;AACrB;AACA;AACA,CAAC;AACD,SAAS,sCAAsC,EAAE,MAAM,EAAE,sCAAsC,EAAE,sCAAsC,EAAE,uCAAuC,uDAAuD,KAAK,GAAG,gBAAgB,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,sJAAsJ,EAAE,uBAAuB,iCAAiC,6HAA6H,4BAA4B,aAAa,EAAE,SAAS,gBAAgB,aAAa,EAAE,aAAa,EAAE,SAAS,EAAE,aAAa,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,gBAAgB,sFAAsF,EAAE,oCAAoC,iDAAiD,SAAS,EAAE,gBAAgB,EAAE,SAAS,eAAe,mBAAmB,gBAAgB,SAAS,EAAE,SAAS,gBAAgB,SAAS,EAAE,SAAS,YAAY,KAAK,aAAa,KAAK,aAAa,KAAK,aAAa,WAAW,aAAa,WAAW,GAAG,iCAAiC,kHAAkH,aAAa,EAAE,mBAAmB,EAAE,UAAU,EAAE,UAAU,gBAAgB,aAAa,EAAE,UAAU,EAAE,UAAU,0DAA0D,wJAAwJ,EAAE,wJAAwJ,EAAE,wJAAwJ,EAAE,UAAU,EAAE,kKAAkK,EAAE,UAAU,EAAE,kKAAkK,EAAE,aAAa,EAAE,aAAa,EAAE,aAAa,EAAE,aAAa,EAAE,aAAa,EAAE,oBAAoB,EAAE,SAAS,EAAE,UAAU,0DAA0D,WAAW,gBAAgB,WAAW,EAAE,cAAc,EAAE,cAAc,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,cAAc,wCAAwC,YAAY,aAAa,YAAY,GAAG,SAAS,EAAE,SAAS,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU;AAC5vF,iBAAiB,yKAAyK;AAC1L;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,kCAAkC;AAClC,sBAAsB;AACtB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL,sDAAsD;AACtD;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL,UAAU,wBAAwB;AAClC;AACA;AACA;AACA,sCAAsC;AACtC;AACA,sCAAsC;AACtC;AACA,yBAAyB,6BAA6B;AACtD;AACA,yBAAyB,iBAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA,yCAAyC,qBAAqB;AAC9D;AACA,0BAA0B,iBAAiB,oBAAoB;AAC/D;AACA,0BAA0B,iBAAiB;AAC3C;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,iBAAiB,kBAAkB,gCAAgC,oBAAoB,uFAAuF,oBAAoB,kDAAkD,iCAAiC,sKAAsK,8MAA8M,qBAAqB,yCAAyC,4IAA4I;AACn1B,aAAa,kBAAkB,gCAAgC,mBAAmB,kCAAkC,kBAAkB,kCAAkC,OAAO,mCAAmC,UAAU,sCAAsC,SAAS,mCAAmC,YAAY;AAC1T,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,CAAC;;;AAGD,IAAI,IAAgE;AACpE,cAAc;AACd,cAAc;AACd,aAAa,iBAAiB;AAC9B,YAAY;AACZ;AACA;AACA;AACA;AACA,iBAAiB,mDAA0B,CAAC,oFAAyB;AACrE;AACA;AACA,IAAI,KAA6B,IAAI,4CAAY;AACjD;AACA;AACA;;;;;;;;;;;ACl1BA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA,eAAe,kCAAkC;AACjD,iBAAiB,kCAAkC;AACnD;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oJAAoJ;AACpJ,SAAS;;AAET;AACA;AACA,qBAAqB,+BAA+B;AACpD;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,WAAW,YAAY,IAAI,WAAW,SAAS;AACvE,cAAc,4BAA4B;AAC1C,MAAM;AACN,WAAW,khBAAkhB,qJAAqJ;AAClrB,aAAa,iVAAiV,6HAA6H;AAC3d;AACA;AACA;;AAEA;AACA;AACA;AACA,yCAAyC,yBAAyB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,6DAA6D,WAAW;AACxE;AACA;AACA;AACA,2CAA2C,iCAAiC;AAC5E,iBAAiB,4BAA4B,+DAA+D,WAAW;AACvH;AACA;AACA;AACA;AACA,sEAAsE;AACtE,iBAAiB,4BAA4B,+DAA+D,WAAW,8DAA8D;AACrL;AACA;AACA;AACA;AACA,2EAA2E;AAC3E,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,2GAA2G;AAC3G,kBAAkB;AAClB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,6GAA6G;AAC7G,iBAAiB,0CAA0C;AAC3D;AACA;AACA;AACA,uBAAuB,QAAQ;AAC/B;AACA;AACA,uBAAuB,QAAQ;AAC/B;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA,uBAAuB,QAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA,qBAAqB;AACrB;AACA;AACA,CAAC;AACD,SAAS,sCAAsC,EAAE,MAAM,EAAE,sCAAsC,EAAE,sCAAsC,EAAE,uCAAuC,gEAAgE,KAAK,GAAG,gBAAgB,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,qKAAqK,EAAE,uBAAuB,iCAAiC,4IAA4I,yCAAyC,oBAAoB,iBAAiB,UAAU,eAAe,UAAU,GAAG,UAAU,0DAA0D,oCAAoC,gIAAgI,gBAAgB,2CAA2C,oBAAoB,0BAA0B,KAAK,GAAG,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,aAAa,EAAE,UAAU,eAAe,UAAU,GAAG,uKAAuK,eAAe,UAAU,GAAG,UAAU,EAAE,UAAU,sDAAsD,KAAK,+BAA+B,uKAAuK;AACvrD,iBAAiB,gEAAgE;AACjF;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,kCAAkC;AAClC,sBAAsB;AACtB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL,sDAAsD;AACtD;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL,UAAU,wBAAwB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA,sCAAsC;AACtC;AACA,yBAAyB,6BAA6B;AACtD;AACA,yBAAyB,iBAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA,6BAA6B,kCAAkC;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,wCAAwC;AAC1E;AACA;AACA;AACA;AACA;AACA,gEAAgE;AAChE;AACA,wBAAwB,0CAA0C,yCAAyC;AAC3G;AACA,wBAAwB,yCAAyC,yCAAyC;AAC1G;AACA,wBAAwB,0CAA0C,yCAAyC;AAC3G;AACA,wBAAwB,yCAAyC,yCAAyC;AAC1G;AACA,wBAAwB,yCAAyC,yCAAyC;AAC1G;AACA,wBAAwB,0CAA0C,yCAAyC;AAC3G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA,wBAAwB,2BAA2B;AACnD;AACA,wBAAwB,uCAAuC;AAC/D;AACA;AACA;AACA,wDAAwD;AACxD;AACA,oDAAoD;AACpD;AACA;AACA;AACA,wBAAwB,0BAA0B,0CAA0C;AAC5F;AACA,wCAAwC,oBAAoB;AAC5D;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,yBAAyB,0BAA0B;AACnD;AACA,yBAAyB,0BAA0B;AACnD;AACA,yBAAyB;AACzB;AACA,wBAAwB,mCAAmC;AAC3D;AACA;AACA;AACA,2DAA2D;AAC3D;AACA,wBAAwB,8CAA8C;AACtE;AACA,yBAAyB,4BAA4B,6CAA6C;AAClG;AACA,yBAAyB,mDAAmD,2CAA2C;AACvH;AACA,yBAAyB,mDAAmD,6CAA6C;AACzH;AACA,4DAA4D;AAC5D;AACA,4DAA4D;AAC5D;AACA,qDAAqD;AACrD;AACA,iDAAiD;AACjD;AACA,2CAA2C;AAC3C;AACA,yCAAyC,sCAAsC;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,6IAA6I,kBAAkB,gCAAgC,oBAAoB,0BAA0B,oBAAoB,ocAAoc,6CAA6C,wBAAwB,WAAW,gLAAgL,oJAAoJ,qBAAqB;AAC9mC,aAAa,QAAQ,kCAAkC,oBAAoB,kCAAkC,kBAAkB,sCAAsC,mBAAmB,sCAAsC,mBAAmB,oCAAoC,WAAW,yEAAyE,qBAAqB,+BAA+B,kBAAkB,qCAAqC,cAAc,kCAAkC,YAAY,+BAA+B,SAAS,qCAAqC,UAAU,kCAAkC,UAAU,6BAA6B,aAAa,+BAA+B,iBAAiB,kCAAkC,eAAe,6BAA6B,UAAU,mEAAmE,OAAO,kCAAkC,YAAY;AAC77B,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,CAAC;;;AAGD,IAAI,IAAgE;AACpE,cAAc;AACd,cAAc;AACd,aAAa,iBAAiB;AAC9B,YAAY;AACZ;AACA;AACA;AACA;AACA,iBAAiB,mDAA0B,CAAC,oFAAyB;AACrE;AACA;AACA,IAAI,KAA6B,IAAI,4CAAY;AACjD;AACA;AACA;;;;;;;;;;;ACp0BA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA,eAAe,kCAAkC;AACjD,iBAAiB,kCAAkC;AACnD;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oJAAoJ;AACpJ,SAAS;;AAET;AACA;AACA,qBAAqB,+BAA+B;AACpD;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,WAAW,YAAY,IAAI,WAAW,SAAS;AACvE,cAAc,4BAA4B;AAC1C,MAAM;AACN,WAAW,8VAA8V;AACzW,aAAa,gMAAgM;AAC7M;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA,gCAAgC;AAChC;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA,qBAAqB;AACrB;AACA;AACA,CAAC;AACD,SAAS,0BAA0B,EAAE,MAAM,cAAc,IAAI,GAAG,0BAA0B,EAAE,cAAc,EAAE,UAAU,EAAE,6EAA6E,EAAE,QAAQ,EAAE,uBAAuB,gCAAgC,QAAQ,gBAAgB,4CAA4C,wDAAwD,UAAU,gBAAgB,UAAU,EAAE,gBAAgB,EAAE,UAAU,0CAA0C,aAAa,EAAE,UAAU,EAAE,UAAU;AACrhB,iBAAiB,qCAAqC;AACtD;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,kCAAkC;AAClC,sBAAsB;AACtB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL,sDAAsD;AACtD;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL,UAAU,wBAAwB;AAClC;AACA;AACA;AACA,sCAAsC;AACtC;AACA,sCAAsC;AACtC;AACA,yBAAyB,6BAA6B;AACtD;AACA,yBAAyB,iBAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,iBAAiB,kBAAkB,gCAAgC,oBAAoB,yBAAyB,oBAAoB,2FAA2F,2BAA2B,kBAAkB,kBAAkB;AAC9R,aAAa,kBAAkB,8BAA8B,mBAAmB,gCAAgC,kBAAkB,gCAAgC,YAAY;AAC9K,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,CAAC;;;AAGD,IAAI,IAAgE;AACpE,cAAc;AACd,cAAc;AACd,aAAa,iBAAiB;AAC9B,YAAY;AACZ;AACA;AACA;AACA;AACA,iBAAiB,mDAA0B,CAAC,oFAAyB;AACrE;AACA;AACA,IAAI,KAA6B,IAAI,4CAAY;AACjD;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wUCvpBO,GAAMI,CAAAA,aAAa,CAAGC,MAAM,CAACC,MAAP,CAAcH,sDAAd,CAAtB,CAEP,GAAII,CAAAA,UAAU,CAAGP,uDAAe,CAAC,EAAD,CAAKI,aAAL,CAAhC,CACA,GAAII,CAAAA,oBAAJ,CACA,GAAIC,CAAA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bvgB,MAAM,CAANA,MAnBa,CAoBbkyB,OAAO,CAAPA,OApBa,CAqBbn1C,OAAO,CAAPA,OArBa,CAsBbmtC,YAAY,CAAZA,YAtBa,CAuBbH,gBAAgB,CAAhBA,gBAvBa,CAwBbqC,kBAAkB,CAAlBA,kBAxBa,CAAf;;;;;;;;;;;AC31BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,uCAAuC,8BAA8B;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,oBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,WAAW,yBAAyB;AACpC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,qBAAqB;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,YAAY;AACZ;AACA,sCAAsC;AACtC;AACA;AACA,UAAU;AACV;AACA;AACA,iDAAiD;AACjD;AACA,YAAY;AACZ;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4CAA4C,cAAc;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,QAAQ;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gDAAgD;AAChD;AACA,MAAM;AACN,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,QAAQ;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oFAAoF;AACpF;AACA,MAAM;AACN;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA,8DAA8D;;AAE9D;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;;;;;;AChhBA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WC5BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;UEJA;UACA;UACA;UACA","sources":["webpack://mermaid/webpack/universalModuleDefinition","webpack://mermaid/./src/diagrams/class/parser/classDiagram.jison","webpack://mermaid/./src/diagrams/er/parser/erDiagram.jison","webpack://mermaid/./src/diagrams/flowchart/parser/flow.jison","webpack://mermaid/./src/diagrams/gantt/parser/gantt.jison","webpack://mermaid/./src/diagrams/git/parser/gitGraph.jison","webpack://mermaid/./src/diagrams/info/parser/info.jison","webpack://mermaid/./src/diagrams/pie/parser/pie.jison","webpack://mermaid/./src/diagrams/requirement/parser/requirementDiagram.jison","webpack://mermaid/./src/diagrams/sequence/parser/sequenceDiagram.jison","webpack://mermaid/./src/diagrams/state/parser/stateDiagram.jison","webpack://mermaid/./src/diagrams/user-journey/parser/journey.jison","webpack://mermaid/./src/config.js","webpack://mermaid/./src/dagre-wrapper/clusters.js","webpack://mermaid/./src/dagre-wrapper/createLabel.js","webpack://mermaid/./src/dagre-wrapper/edges.js","webpack://mermaid/./src/dagre-wrapper/index.js","webpack://mermaid/./src/dagre-wrapper/intersect/index.js","webpack://mermaid/./src/dagre-wrapper/intersect/intersect-circle.js","webpack://mermaid/./src/dagre-wrapper/intersect/intersect-ellipse.js","webpack://mermaid/./src/dagre-wrapper/intersect/intersect-line.js","webpack://mermaid/./src/dagre-wrapper/intersect/intersect-node.js","webpack://mermaid/./src/dagre-wrapper/intersect/intersect-polygon.js","webpack://mermaid/./src/dagre-wrapper/intersect/intersect-rect.js","webpack://mermaid/./src/dagre-wrapper/markers.js","webpack://mermaid/./src/dagre-wrapper/mermaid-graphlib.js","webpack://mermaid/./src/dagre-wrapper/nodes.js","webpack://mermaid/./src/dagre-wrapper/shapes/note.js","webpack://mermaid/./src/dagre-wrapper/shapes/util.js","webpack://mermaid/./src/defaultConfig.js","webpack://mermaid/./src/diagrams/class/classDb.js","webpack://mermaid/./src/diagrams/class/classRenderer-v2.js","webpack://mermaid/./src/diagrams/class/classRenderer.js","webpack://mermaid/./src/diagrams/class/styles.js","webpack://mermaid/./src/diagrams/class/svgDraw.js","webpack://mermaid/./src/diagrams/common/common.js","webpack://mermaid/./src/diagrams/er/erDb.js","webpack://mermaid/./src/diagrams/er/erMarkers.js","webpack://mermaid/./src/diagrams/er/erRenderer.js","webpack://mermaid/./src/diagrams/er/styles.js","webpack://mermaid/./src/diagrams/flowchart/flowChartShapes.js","webpack://mermaid/./src/diagrams/flowchart/flowDb.js","webpack://mermaid/./src/diagrams/flowchart/flowRenderer-v2.js","webpack://mermaid/./src/diagrams/flowchart/flowRenderer.js","webpack://mermaid/./src/diagrams/flowchart/styles.js","webpack://mermaid/./src/diagrams/gantt/ganttDb.js","webpack://mermaid/./src/diagrams/gantt/ganttRenderer.js","webpack://mermaid/./src/diagrams/gantt/styles.js","webpack://mermaid/./src/diagrams/git/gitGraphAst.js","webpack://mermaid/./src/diagrams/git/gitGraphRenderer.js","webpack://mermaid/./src/diagrams/git/styles.js","webpack://mermaid/./src/diagrams/info/infoDb.js","webpack://mermaid/./src/diagrams/info/infoRenderer.js","webpack://mermaid/./src/diagrams/info/styles.js","webpack://mermaid/./src/diagrams/pie/pieDb.js","webpack://mermaid/./src/diagrams/pie/pieRenderer.js","webpack://mermaid/./src/diagrams/pie/styles.js","webpack://mermaid/./src/diagrams/requirement/requirementDb.js","webpack://mermaid/./src/diagrams/requirement/requirementMarkers.js","webpack://mermaid/./src/diagrams/requirement/requirementRenderer.js","webpack://mermaid/./src/diagrams/requirement/styles.js","webpack://mermaid/./src/diagrams/sequence/sequenceDb.js","webpack://mermaid/./src/diagrams/sequence/sequenceRenderer.js","webpack://mermaid/./src/diagrams/sequence/styles.js","webpack://mermaid/./src/diagrams/sequence/svgDraw.js","webpack://mermaid/./src/diagrams/state/id-cache.js","webpack://mermaid/./src/diagrams/state/shapes.js","webpack://mermaid/./src/diagrams/state/stateDb.js","webpack://mermaid/./src/diagrams/state/stateRenderer-v2.js","webpack://mermaid/./src/diagrams/state/stateRenderer.js","webpack://mermaid/./src/diagrams/state/styles.js","webpack://mermaid/./src/diagrams/user-journey/journeyDb.js","webpack://mermaid/./src/diagrams/user-journey/journeyRenderer.js","webpack://mermaid/./src/diagrams/user-journey/styles.js","webpack://mermaid/./src/diagrams/user-journey/svgDraw.js","webpack://mermaid/./src/errorRenderer.js","webpack://mermaid/./src/logger.js","webpack://mermaid/./src/mermaid.js","webpack://mermaid/./src/mermaidAPI.js","webpack://mermaid/./src/styles.js","webpack://mermaid/./src/themes/index.js","webpack://mermaid/./src/themes/theme-base.js","webpack://mermaid/./src/themes/theme-dark.js","webpack://mermaid/./src/themes/theme-default.js","webpack://mermaid/./src/themes/theme-forest.js","webpack://mermaid/./src/themes/theme-helpers.js","webpack://mermaid/./src/themes/theme-neutral.js","webpack://mermaid/./src/utils.js","webpack://mermaid/./node_modules/path-browserify/index.js","webpack://mermaid/external commonjs \"@braintree/sanitize-url\"","webpack://mermaid/external commonjs \"d3\"","webpack://mermaid/external commonjs \"dagre\"","webpack://mermaid/external commonjs \"dagre-d3\"","webpack://mermaid/external commonjs \"dagre-d3/lib/label/add-html-label.js\"","webpack://mermaid/external commonjs \"dompurify\"","webpack://mermaid/external commonjs \"graphlib\"","webpack://mermaid/external commonjs \"khroma\"","webpack://mermaid/external commonjs \"moment-mini\"","webpack://mermaid/external commonjs \"stylis\"","webpack://mermaid/ignored|C:\\ProgramJava\\github_projects\\mermaid\\src\\diagrams\\class\\parser|fs","webpack://mermaid/ignored|C:\\ProgramJava\\github_projects\\mermaid\\src\\diagrams\\er\\parser|fs","webpack://mermaid/ignored|C:\\ProgramJava\\github_projects\\mermaid\\src\\diagrams\\flowchart\\parser|fs","webpack://mermaid/ignored|C:\\ProgramJava\\github_projects\\mermaid\\src\\diagrams\\gantt\\parser|fs","webpack://mermaid/ignored|C:\\ProgramJava\\github_projects\\mermaid\\src\\diagrams\\git\\parser|fs","webpack://mermaid/ignored|C:\\ProgramJava\\github_projects\\mermaid\\src\\diagrams\\info\\parser|fs","webpack://mermaid/ignored|C:\\ProgramJava\\github_projects\\mermaid\\src\\diagrams\\pie\\parser|fs","webpack://mermaid/ignored|C:\\ProgramJava\\github_projects\\mermaid\\src\\diagrams\\requirement\\parser|fs","webpack://mermaid/ignored|C:\\ProgramJava\\github_projects\\mermaid\\src\\diagrams\\sequence\\parser|fs","webpack://mermaid/ignored|C:\\ProgramJava\\github_projects\\mermaid\\src\\diagrams\\state\\parser|fs","webpack://mermaid/ignored|C:\\ProgramJava\\github_projects\\mermaid\\src\\diagrams\\user-journey\\parser|fs","webpack://mermaid/webpack/bootstrap","webpack://mermaid/webpack/runtime/compat get default export","webpack://mermaid/webpack/runtime/define property getters","webpack://mermaid/webpack/runtime/hasOwnProperty shorthand","webpack://mermaid/webpack/runtime/make namespace object","webpack://mermaid/webpack/runtime/node module decorator","webpack://mermaid/webpack/before-startup","webpack://mermaid/webpack/startup","webpack://mermaid/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mermaid\"] = factory();\n\telse\n\t\troot[\"mermaid\"] = factory();\n})(typeof self !== \"undefined\" ? self : this, function() {\nreturn ","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,6],$V1=[1,7],$V2=[1,8],$V3=[1,9],$V4=[1,12],$V5=[1,11],$V6=[1,15,24],$V7=[1,19],$V8=[1,31],$V9=[1,34],$Va=[1,32],$Vb=[1,33],$Vc=[1,35],$Vd=[1,36],$Ve=[1,37],$Vf=[1,38],$Vg=[1,41],$Vh=[1,42],$Vi=[1,43],$Vj=[1,44],$Vk=[15,24],$Vl=[1,56],$Vm=[1,57],$Vn=[1,58],$Vo=[1,59],$Vp=[1,60],$Vq=[1,61],$Vr=[15,24,31,38,39,47,50,51,52,53,54,55,60,62],$Vs=[15,24,29,31,38,39,43,47,50,51,52,53,54,55,60,62,77,78,79,80],$Vt=[7,8,9,10,15,18,22,24],$Vu=[47,77,78,79,80],$Vv=[47,54,55,77,78,79,80],$Vw=[47,50,51,52,53,77,78,79,80],$Vx=[15,24,31],$Vy=[1,93];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"mermaidDoc\":4,\"direction\":5,\"directive\":6,\"direction_tb\":7,\"direction_bt\":8,\"direction_rl\":9,\"direction_lr\":10,\"graphConfig\":11,\"openDirective\":12,\"typeDirective\":13,\"closeDirective\":14,\"NEWLINE\":15,\":\":16,\"argDirective\":17,\"open_directive\":18,\"type_directive\":19,\"arg_directive\":20,\"close_directive\":21,\"CLASS_DIAGRAM\":22,\"statements\":23,\"EOF\":24,\"statement\":25,\"className\":26,\"alphaNumToken\":27,\"classLiteralName\":28,\"GENERICTYPE\":29,\"relationStatement\":30,\"LABEL\":31,\"classStatement\":32,\"methodStatement\":33,\"annotationStatement\":34,\"clickStatement\":35,\"cssClassStatement\":36,\"CLASS\":37,\"STYLE_SEPARATOR\":38,\"STRUCT_START\":39,\"members\":40,\"STRUCT_STOP\":41,\"ANNOTATION_START\":42,\"ANNOTATION_END\":43,\"MEMBER\":44,\"SEPARATOR\":45,\"relation\":46,\"STR\":47,\"relationType\":48,\"lineType\":49,\"AGGREGATION\":50,\"EXTENSION\":51,\"COMPOSITION\":52,\"DEPENDENCY\":53,\"LINE\":54,\"DOTTED_LINE\":55,\"CALLBACK\":56,\"LINK\":57,\"LINK_TARGET\":58,\"CLICK\":59,\"CALLBACK_NAME\":60,\"CALLBACK_ARGS\":61,\"HREF\":62,\"CSSCLASS\":63,\"commentToken\":64,\"textToken\":65,\"graphCodeTokens\":66,\"textNoTagsToken\":67,\"TAGSTART\":68,\"TAGEND\":69,\"==\":70,\"--\":71,\"PCT\":72,\"DEFAULT\":73,\"SPACE\":74,\"MINUS\":75,\"keywords\":76,\"UNICODE_TEXT\":77,\"NUM\":78,\"ALPHA\":79,\"BQUOTE_STR\":80,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",7:\"direction_tb\",8:\"direction_bt\",9:\"direction_rl\",10:\"direction_lr\",15:\"NEWLINE\",16:\":\",18:\"open_directive\",19:\"type_directive\",20:\"arg_directive\",21:\"close_directive\",22:\"CLASS_DIAGRAM\",24:\"EOF\",29:\"GENERICTYPE\",31:\"LABEL\",37:\"CLASS\",38:\"STYLE_SEPARATOR\",39:\"STRUCT_START\",41:\"STRUCT_STOP\",42:\"ANNOTATION_START\",43:\"ANNOTATION_END\",44:\"MEMBER\",45:\"SEPARATOR\",47:\"STR\",50:\"AGGREGATION\",51:\"EXTENSION\",52:\"COMPOSITION\",53:\"DEPENDENCY\",54:\"LINE\",55:\"DOTTED_LINE\",56:\"CALLBACK\",57:\"LINK\",58:\"LINK_TARGET\",59:\"CLICK\",60:\"CALLBACK_NAME\",61:\"CALLBACK_ARGS\",62:\"HREF\",63:\"CSSCLASS\",66:\"graphCodeTokens\",68:\"TAGSTART\",69:\"TAGEND\",70:\"==\",71:\"--\",72:\"PCT\",73:\"DEFAULT\",74:\"SPACE\",75:\"MINUS\",76:\"keywords\",77:\"UNICODE_TEXT\",78:\"NUM\",79:\"ALPHA\",80:\"BQUOTE_STR\"},\nproductions_: [0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[23,1],[23,2],[23,3],[26,1],[26,1],[26,2],[26,2],[26,2],[25,1],[25,2],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[32,2],[32,4],[32,5],[32,7],[34,4],[40,1],[40,2],[33,1],[33,2],[33,1],[33,1],[30,3],[30,4],[30,4],[30,5],[46,3],[46,2],[46,2],[46,1],[48,1],[48,1],[48,1],[48,1],[49,1],[49,1],[35,3],[35,4],[35,3],[35,4],[35,4],[35,5],[35,3],[35,4],[35,4],[35,5],[35,3],[35,4],[35,4],[35,5],[36,3],[64,1],[64,1],[65,1],[65,1],[65,1],[65,1],[65,1],[65,1],[65,1],[67,1],[67,1],[67,1],[67,1],[27,1],[27,1],[27,1],[28,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 4:\n yy.setDirection('TB');\nbreak;\ncase 5:\n yy.setDirection('BT');\nbreak;\ncase 6:\n yy.setDirection('RL');\nbreak;\ncase 7:\n yy.setDirection('LR');\nbreak;\ncase 11:\n yy.parseDirective('%%{', 'open_directive'); \nbreak;\ncase 12:\n yy.parseDirective($$[$0], 'type_directive'); \nbreak;\ncase 13:\n $$[$0] = $$[$0].trim().replace(/'/g, '\"'); yy.parseDirective($$[$0], 'arg_directive'); \nbreak;\ncase 14:\n yy.parseDirective('}%%', 'close_directive', 'class'); \nbreak;\ncase 19: case 20:\n this.$=$$[$0]; \nbreak;\ncase 21:\n this.$=$$[$0-1]+$$[$0]; \nbreak;\ncase 22: case 23:\n this.$=$$[$0-1]+'~'+$$[$0]; \nbreak;\ncase 24:\n yy.addRelation($$[$0]); \nbreak;\ncase 25:\n $$[$0-1].title =  yy.cleanupLabel($$[$0]); yy.addRelation($$[$0-1]);        \nbreak;\ncase 33:\nyy.addClass($$[$0]);\nbreak;\ncase 34:\nyy.addClass($$[$0-2]);yy.setCssClass($$[$0-2], $$[$0]);\nbreak;\ncase 35:\n/*console.log($$[$0-3],JSON.stringify($$[$0-1]));*/yy.addClass($$[$0-3]);yy.addMembers($$[$0-3],$$[$0-1]);\nbreak;\ncase 36:\nyy.addClass($$[$0-5]);yy.setCssClass($$[$0-5], $$[$0-3]);yy.addMembers($$[$0-5],$$[$0-1]);\nbreak;\ncase 37:\n yy.addAnnotation($$[$0],$$[$0-2]); \nbreak;\ncase 38:\n this.$ = [$$[$0]]; \nbreak;\ncase 39:\n $$[$0].push($$[$0-1]);this.$=$$[$0];\nbreak;\ncase 40:\n/*console.log('Rel found',$$[$0]);*/\nbreak;\ncase 41:\nyy.addMember($$[$0-1],yy.cleanupLabel($$[$0]));\nbreak;\ncase 42:\n/*console.warn('Member',$$[$0]);*/\nbreak;\ncase 43:\n/*console.log('sep found',$$[$0]);*/\nbreak;\ncase 44:\n this.$ = {'id1':$$[$0-2],'id2':$$[$0], relation:$$[$0-1], relationTitle1:'none', relationTitle2:'none'}; \nbreak;\ncase 45:\n this.$ = {id1:$$[$0-3], id2:$$[$0], relation:$$[$0-1], relationTitle1:$$[$0-2], relationTitle2:'none'}\nbreak;\ncase 46:\n this.$ = {id1:$$[$0-3], id2:$$[$0], relation:$$[$0-2], relationTitle1:'none', relationTitle2:$$[$0-1]}; \nbreak;\ncase 47:\n this.$ = {id1:$$[$0-4], id2:$$[$0], relation:$$[$0-2], relationTitle1:$$[$0-3], relationTitle2:$$[$0-1]} \nbreak;\ncase 48:\n this.$={type1:$$[$0-2],type2:$$[$0],lineType:$$[$0-1]}; \nbreak;\ncase 49:\n this.$={type1:'none',type2:$$[$0],lineType:$$[$0-1]}; \nbreak;\ncase 50:\n this.$={type1:$$[$0-1],type2:'none',lineType:$$[$0]}; \nbreak;\ncase 51:\n this.$={type1:'none',type2:'none',lineType:$$[$0]}; \nbreak;\ncase 52:\n this.$=yy.relationType.AGGREGATION;\nbreak;\ncase 53:\n this.$=yy.relationType.EXTENSION;\nbreak;\ncase 54:\n this.$=yy.relationType.COMPOSITION;\nbreak;\ncase 55:\n this.$=yy.relationType.DEPENDENCY;\nbreak;\ncase 56:\nthis.$=yy.lineType.LINE;\nbreak;\ncase 57:\nthis.$=yy.lineType.DOTTED_LINE;\nbreak;\ncase 58: case 64:\nthis.$ = $$[$0-2];yy.setClickEvent($$[$0-1], $$[$0]);\nbreak;\ncase 59: case 65:\nthis.$ = $$[$0-3];yy.setClickEvent($$[$0-2], $$[$0-1]);yy.setTooltip($$[$0-2], $$[$0]);\nbreak;\ncase 60: case 68:\nthis.$ = $$[$0-2];yy.setLink($$[$0-1], $$[$0]);\nbreak;\ncase 61:\nthis.$ = $$[$0-3];yy.setLink($$[$0-2], $$[$0-1],$$[$0]);\nbreak;\ncase 62: case 70:\nthis.$ = $$[$0-3];yy.setLink($$[$0-2], $$[$0-1]);yy.setTooltip($$[$0-2], $$[$0]);\nbreak;\ncase 63: case 71:\nthis.$ = $$[$0-4];yy.setLink($$[$0-3], $$[$0-2], $$[$0]);yy.setTooltip($$[$0-3], $$[$0-1]);\nbreak;\ncase 66:\nthis.$ = $$[$0-3];yy.setClickEvent($$[$0-2], $$[$0-1], $$[$0]);\nbreak;\ncase 67:\nthis.$ = $$[$0-4];yy.setClickEvent($$[$0-3], $$[$0-2], $$[$0-1]);yy.setTooltip($$[$0-3], $$[$0]);\nbreak;\ncase 69:\nthis.$ = $$[$0-3];yy.setLink($$[$0-2], $$[$0-1], $$[$0]);\nbreak;\ncase 72:\nyy.setCssClass($$[$0-1], $$[$0]);\nbreak;\n}\n},\ntable: [{3:1,4:2,5:3,6:4,7:$V0,8:$V1,9:$V2,10:$V3,11:5,12:10,18:$V4,22:$V5},{1:[3]},{1:[2,1]},{1:[2,2]},{3:13,4:2,5:3,6:4,7:$V0,8:$V1,9:$V2,10:$V3,11:5,12:10,18:$V4,22:$V5},{1:[2,8]},o($V6,[2,4]),o($V6,[2,5]),o($V6,[2,6]),o($V6,[2,7]),{13:14,19:[1,15]},{15:[1,16]},{19:[2,11]},{1:[2,3]},{14:17,16:[1,18],21:$V7},o([16,21],[2,12]),{5:29,6:28,7:$V0,8:$V1,9:$V2,10:$V3,12:10,18:$V4,23:20,25:21,26:30,27:39,28:40,30:22,32:23,33:24,34:25,35:26,36:27,37:$V8,42:$V9,44:$Va,45:$Vb,56:$Vc,57:$Vd,59:$Ve,63:$Vf,77:$Vg,78:$Vh,79:$Vi,80:$Vj},{15:[1,45]},{17:46,20:[1,47]},{15:[2,14]},{24:[1,48]},{15:[1,49],24:[2,16]},o($Vk,[2,24],{31:[1,50]}),o($Vk,[2,26]),o($Vk,[2,27]),o($Vk,[2,28]),o($Vk,[2,29]),o($Vk,[2,30]),o($Vk,[2,31]),o($Vk,[2,32]),o($Vk,[2,40],{46:51,48:54,49:55,31:[1,53],47:[1,52],50:$Vl,51:$Vm,52:$Vn,53:$Vo,54:$Vp,55:$Vq}),{26:62,27:39,28:40,77:$Vg,78:$Vh,79:$Vi,80:$Vj},o($Vk,[2,42]),o($Vk,[2,43]),{27:63,77:$Vg,78:$Vh,79:$Vi},{26:64,27:39,28:40,77:$Vg,78:$Vh,79:$Vi,80:$Vj},{26:65,27:39,28:40,77:$Vg,78:$Vh,79:$Vi,80:$Vj},{26:66,27:39,28:40,77:$Vg,78:$Vh,79:$Vi,80:$Vj},{47:[1,67]},o($Vr,[2,19],{27:39,28:40,26:68,29:[1,69],77:$Vg,78:$Vh,79:$Vi,80:$Vj}),o($Vr,[2,20],{29:[1,70]}),o($Vs,[2,86]),o($Vs,[2,87]),o($Vs,[2,88]),o([15,24,29,31,38,39,47,50,51,52,53,54,55,60,62],[2,89]),o($Vt,[2,9]),{14:71,21:$V7},{21:[2,13]},{1:[2,15]},{5:29,6:28,7:$V0,8:$V1,9:$V2,10:$V3,12:10,18:$V4,23:72,24:[2,17],25:21,26:30,27:39,28:40,30:22,32:23,33:24,34:25,35:26,36:27,37:$V8,42:$V9,44:$Va,45:$Vb,56:$Vc,57:$Vd,59:$Ve,63:$Vf,77:$Vg,78:$Vh,79:$Vi,80:$Vj},o($Vk,[2,25]),{26:73,27:39,28:40,47:[1,74],77:$Vg,78:$Vh,79:$Vi,80:$Vj},{46:75,48:54,49:55,50:$Vl,51:$Vm,52:$Vn,53:$Vo,54:$Vp,55:$Vq},o($Vk,[2,41]),{49:76,54:$Vp,55:$Vq},o($Vu,[2,51],{48:77,50:$Vl,51:$Vm,52:$Vn,53:$Vo}),o($Vv,[2,52]),o($Vv,[2,53]),o($Vv,[2,54]),o($Vv,[2,55]),o($Vw,[2,56]),o($Vw,[2,57]),o($Vk,[2,33],{38:[1,78],39:[1,79]}),{43:[1,80]},{47:[1,81]},{47:[1,82]},{60:[1,83],62:[1,84]},{27:85,77:$Vg,78:$Vh,79:$Vi},o($Vr,[2,21]),o($Vr,[2,22]),o($Vr,[2,23]),{15:[1,86]},{24:[2,18]},o($Vx,[2,44]),{26:87,27:39,28:40,77:$Vg,78:$Vh,79:$Vi,80:$Vj},{26:88,27:39,28:40,47:[1,89],77:$Vg,78:$Vh,79:$Vi,80:$Vj},o($Vu,[2,50],{48:90,50:$Vl,51:$Vm,52:$Vn,53:$Vo}),o($Vu,[2,49]),{27:91,77:$Vg,78:$Vh,79:$Vi},{40:92,44:$Vy},{26:94,27:39,28:40,77:$Vg,78:$Vh,79:$Vi,80:$Vj},o($Vk,[2,58],{47:[1,95]}),o($Vk,[2,60],{47:[1,97],58:[1,96]}),o($Vk,[2,64],{47:[1,98],61:[1,99]}),o($Vk,[2,68],{47:[1,101],58:[1,100]}),o($Vk,[2,72]),o($Vt,[2,10]),o($Vx,[2,46]),o($Vx,[2,45]),{26:102,27:39,28:40,77:$Vg,78:$Vh,79:$Vi,80:$Vj},o($Vu,[2,48]),o($Vk,[2,34],{39:[1,103]}),{41:[1,104]},{40:105,41:[2,38],44:$Vy},o($Vk,[2,37]),o($Vk,[2,59]),o($Vk,[2,61]),o($Vk,[2,62],{58:[1,106]}),o($Vk,[2,65]),o($Vk,[2,66],{47:[1,107]}),o($Vk,[2,69]),o($Vk,[2,70],{58:[1,108]}),o($Vx,[2,47]),{40:109,44:$Vy},o($Vk,[2,35]),{41:[2,39]},o($Vk,[2,63]),o($Vk,[2,67]),o($Vk,[2,71]),{41:[1,110]},o($Vk,[2,36])],\ndefaultActions: {2:[2,1],3:[2,2],5:[2,8],12:[2,11],13:[2,3],19:[2,14],47:[2,13],48:[2,15],72:[2,18],105:[2,39]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\r\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0: this.begin('open_directive'); return 18; \nbreak;\ncase 1:return 7;\nbreak;\ncase 2:return 8;\nbreak;\ncase 3:return 9;\nbreak;\ncase 4:return 10;\nbreak;\ncase 5: this.begin('type_directive'); return 19; \nbreak;\ncase 6: this.popState(); this.begin('arg_directive'); return 16; \nbreak;\ncase 7: this.popState(); this.popState(); return 21; \nbreak;\ncase 8:return 20;\nbreak;\ncase 9:/* skip comments */\nbreak;\ncase 10:/* skip comments */\nbreak;\ncase 11:return 15;\nbreak;\ncase 12:/* skip whitespace */\nbreak;\ncase 13:return 22;\nbreak;\ncase 14:return 22;\nbreak;\ncase 15: this.begin(\"struct\"); /*console.log('Starting struct');*/ return 39;\nbreak;\ncase 16:return \"EOF_IN_STRUCT\";\nbreak;\ncase 17:return \"OPEN_IN_STRUCT\";\nbreak;\ncase 18: /*console.log('Ending struct');*/this.popState(); return 41;\nbreak;\ncase 19:/* nothing */\nbreak;\ncase 20: /*console.log('lex-member: ' + yy_.yytext);*/  return \"MEMBER\";\nbreak;\ncase 21:return 37;\nbreak;\ncase 22:return 63;\nbreak;\ncase 23:return 56;\nbreak;\ncase 24:return 57;\nbreak;\ncase 25:return 59;\nbreak;\ncase 26:return 42;\nbreak;\ncase 27:return 43;\nbreak;\ncase 28:this.begin(\"generic\");\nbreak;\ncase 29:this.popState();\nbreak;\ncase 30:return \"GENERICTYPE\";\nbreak;\ncase 31:this.begin(\"string\");\nbreak;\ncase 32:this.popState();\nbreak;\ncase 33:return \"STR\";\nbreak;\ncase 34:this.begin(\"bqstring\");\nbreak;\ncase 35:this.popState();\nbreak;\ncase 36:return \"BQUOTE_STR\";\nbreak;\ncase 37:this.begin(\"href\");\nbreak;\ncase 38:this.popState();\nbreak;\ncase 39:return 62;\nbreak;\ncase 40:this.begin(\"callback_name\");\nbreak;\ncase 41:this.popState();\nbreak;\ncase 42:this.popState(); this.begin(\"callback_args\");\nbreak;\ncase 43:return 60;\nbreak;\ncase 44:this.popState();\nbreak;\ncase 45:return 61;\nbreak;\ncase 46:return 58;\nbreak;\ncase 47:return 58;\nbreak;\ncase 48:return 58;\nbreak;\ncase 49:return 58;\nbreak;\ncase 50:return 51;\nbreak;\ncase 51:return 51;\nbreak;\ncase 52:return 53;\nbreak;\ncase 53:return 53;\nbreak;\ncase 54:return 52;\nbreak;\ncase 55:return 50;\nbreak;\ncase 56:return 54;\nbreak;\ncase 57:return 55;\nbreak;\ncase 58:return 31;\nbreak;\ncase 59:return 38;\nbreak;\ncase 60:return 75;\nbreak;\ncase 61:return 'DOT';\nbreak;\ncase 62:return 'PLUS';\nbreak;\ncase 63:return 72;\nbreak;\ncase 64:return 'EQUALS';\nbreak;\ncase 65:return 'EQUALS';\nbreak;\ncase 66:return 79;\nbreak;\ncase 67:return 'PUNCTUATION';\nbreak;\ncase 68:return 78;\nbreak;\ncase 69:return 77;\nbreak;\ncase 70:return 74;\nbreak;\ncase 71:return 24;\nbreak;\n}\n},\nrules: [/^(?:%%\\{)/,/^(?:.*direction\\s+TB[^\\n]*)/,/^(?:.*direction\\s+BT[^\\n]*)/,/^(?:.*direction\\s+RL[^\\n]*)/,/^(?:.*direction\\s+LR[^\\n]*)/,/^(?:((?:(?!\\}%%)[^:.])*))/,/^(?::)/,/^(?:\\}%%)/,/^(?:((?:(?!\\}%%).|\\n)*))/,/^(?:%%(?!\\{)*[^\\n]*(\\r?\\n?)+)/,/^(?:%%[^\\n]*(\\r?\\n)*)/,/^(?:(\\r?\\n)+)/,/^(?:\\s+)/,/^(?:classDiagram-v2\\b)/,/^(?:classDiagram\\b)/,/^(?:[{])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\\n])/,/^(?:[^{}\\n]*)/,/^(?:class\\b)/,/^(?:cssClass\\b)/,/^(?:callback\\b)/,/^(?:link\\b)/,/^(?:click\\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:[\"])/,/^(?:[\"])/,/^(?:[^\"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\\s]+[\"])/,/^(?:[\"])/,/^(?:[^\"]*)/,/^(?:call[\\s]+)/,/^(?:\\([\\s]*\\))/,/^(?:\\()/,/^(?:[^(]*)/,/^(?:\\))/,/^(?:[^)]*)/,/^(?:_self\\b)/,/^(?:_blank\\b)/,/^(?:_parent\\b)/,/^(?:_top\\b)/,/^(?:\\s*<\\|)/,/^(?:\\s*\\|>)/,/^(?:\\s*>)/,/^(?:\\s*<)/,/^(?:\\s*\\*)/,/^(?:\\s*o\\b)/,/^(?:--)/,/^(?:\\.\\.)/,/^(?::{1}[^:\\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\\.)/,/^(?:\\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\\w+)/,/^(?:[!\"#$%&'*+,-.`?\\\\/])/,/^(?:[0-9]+)/,/^(?:[\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6]|[\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377]|[\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5]|[\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA]|[\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE]|[\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA]|[\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0]|[\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977]|[\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2]|[\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A]|[\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39]|[\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8]|[\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C]|[\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C]|[\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99]|[\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0]|[\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D]|[\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3]|[\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10]|[\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1]|[\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81]|[\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3]|[\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6]|[\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A]|[\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081]|[\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D]|[\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0]|[\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310]|[\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C]|[\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711]|[\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7]|[\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C]|[\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16]|[\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF]|[\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC]|[\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D]|[\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D]|[\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3]|[\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F]|[\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128]|[\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184]|[\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3]|[\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6]|[\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE]|[\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C]|[\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D]|[\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC]|[\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B]|[\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788]|[\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805]|[\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB]|[\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28]|[\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5]|[\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4]|[\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E]|[\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D]|[\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36]|[\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D]|[\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC]|[\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF]|[\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC])/,/^(?:\\s)/,/^(?:$)/],\nconditions: {\"arg_directive\":{\"rules\":[7,8],\"inclusive\":false},\"type_directive\":{\"rules\":[6,7],\"inclusive\":false},\"open_directive\":{\"rules\":[5],\"inclusive\":false},\"callback_args\":{\"rules\":[44,45],\"inclusive\":false},\"callback_name\":{\"rules\":[41,42,43],\"inclusive\":false},\"href\":{\"rules\":[38,39],\"inclusive\":false},\"struct\":{\"rules\":[16,17,18,19,20],\"inclusive\":false},\"generic\":{\"rules\":[29,30],\"inclusive\":false},\"bqstring\":{\"rules\":[35,36],\"inclusive\":false},\"string\":{\"rules\":[32,33],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,1,2,3,4,9,10,11,12,13,14,15,21,22,23,24,25,26,27,28,31,34,37,40,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,2],$V1=[1,5],$V2=[6,9,11,23,40],$V3=[1,17],$V4=[1,20],$V5=[1,25],$V6=[1,26],$V7=[1,27],$V8=[1,28],$V9=[1,37],$Va=[23,37,38],$Vb=[4,6,9,11,23,40],$Vc=[33,34,35,36],$Vd=[22,29];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"ER_DIAGRAM\":4,\"document\":5,\"EOF\":6,\"directive\":7,\"line\":8,\"SPACE\":9,\"statement\":10,\"NEWLINE\":11,\"openDirective\":12,\"typeDirective\":13,\"closeDirective\":14,\":\":15,\"argDirective\":16,\"entityName\":17,\"relSpec\":18,\"role\":19,\"BLOCK_START\":20,\"attributes\":21,\"BLOCK_STOP\":22,\"ALPHANUM\":23,\"attribute\":24,\"attributeType\":25,\"attributeName\":26,\"attributeKeyType\":27,\"COMMENT\":28,\"ATTRIBUTE_WORD\":29,\"ATTRIBUTE_KEY\":30,\"cardinality\":31,\"relType\":32,\"ZERO_OR_ONE\":33,\"ZERO_OR_MORE\":34,\"ONE_OR_MORE\":35,\"ONLY_ONE\":36,\"NON_IDENTIFYING\":37,\"IDENTIFYING\":38,\"WORD\":39,\"open_directive\":40,\"type_directive\":41,\"arg_directive\":42,\"close_directive\":43,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",4:\"ER_DIAGRAM\",6:\"EOF\",9:\"SPACE\",11:\"NEWLINE\",15:\":\",20:\"BLOCK_START\",22:\"BLOCK_STOP\",23:\"ALPHANUM\",28:\"COMMENT\",29:\"ATTRIBUTE_WORD\",30:\"ATTRIBUTE_KEY\",33:\"ZERO_OR_ONE\",34:\"ZERO_OR_MORE\",35:\"ONE_OR_MORE\",36:\"ONLY_ONE\",37:\"NON_IDENTIFYING\",38:\"IDENTIFYING\",39:\"WORD\",40:\"open_directive\",41:\"type_directive\",42:\"arg_directive\",43:\"close_directive\"},\nproductions_: [0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[17,1],[21,1],[21,2],[24,2],[24,3],[24,3],[24,4],[25,1],[26,1],[27,1],[18,3],[31,1],[31,1],[31,1],[31,1],[32,1],[32,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 1:\n /*console.log('finished parsing');*/ \nbreak;\ncase 3:\n this.$ = [] \nbreak;\ncase 4:\n$$[$0-1].push($$[$0]);this.$ = $$[$0-1]\nbreak;\ncase 5: case 6:\n this.$ = $$[$0] \nbreak;\ncase 7: case 8:\n this.$=[];\nbreak;\ncase 12:\n\r\n          yy.addEntity($$[$0-4]);\r\n          yy.addEntity($$[$0-2]);\r\n          yy.addRelationship($$[$0-4], $$[$0], $$[$0-2], $$[$0-3]);\r\n          /*console.log($$[$0-4] + $$[$0-3] + $$[$0-2] + ':' + $$[$0]);*/\r\n      \nbreak;\ncase 13:\n\r\n          /* console.log('detected block'); */\r\n          yy.addEntity($$[$0-3]);\r\n          yy.addAttributes($$[$0-3], $$[$0-1]);\r\n          /* console.log('handled block'); */\r\n      \nbreak;\ncase 14:\n yy.addEntity($$[$0-2]); \nbreak;\ncase 15:\n yy.addEntity($$[$0]); \nbreak;\ncase 16:\n this.$ = $$[$0]; /*console.log('Entity: ' + $$[$0]);*/ \nbreak;\ncase 17:\n this.$ = [$$[$0]]; \nbreak;\ncase 18:\n $$[$0].push($$[$0-1]); this.$=$$[$0]; \nbreak;\ncase 19:\n this.$ = { attributeType: $$[$0-1], attributeName: $$[$0] }; \nbreak;\ncase 20:\n this.$ = { attributeType: $$[$0-2], attributeName: $$[$0-1], attributeKeyType: $$[$0] }; \nbreak;\ncase 21:\n this.$ = { attributeType: $$[$0-2], attributeName: $$[$0-1], attributeComment: $$[$0] }; \nbreak;\ncase 22:\n this.$ = { attributeType: $$[$0-3], attributeName: $$[$0-2], attributeKeyType: $$[$0-1], attributeComment: $$[$0] }; \nbreak;\ncase 23: case 24: case 25:\n this.$=$$[$0]; \nbreak;\ncase 26:\n\r\n        this.$ = { cardA: $$[$0], relType: $$[$0-1], cardB: $$[$0-2] };\r\n        /*console.log('relSpec: ' + $$[$0] + $$[$0-1] + $$[$0-2]);*/\r\n      \nbreak;\ncase 27:\n this.$ = yy.Cardinality.ZERO_OR_ONE; \nbreak;\ncase 28:\n this.$ = yy.Cardinality.ZERO_OR_MORE; \nbreak;\ncase 29:\n this.$ = yy.Cardinality.ONE_OR_MORE; \nbreak;\ncase 30:\n this.$ = yy.Cardinality.ONLY_ONE; \nbreak;\ncase 31:\n this.$ = yy.Identification.NON_IDENTIFYING;  \nbreak;\ncase 32:\n this.$ = yy.Identification.IDENTIFYING; \nbreak;\ncase 33:\n this.$ = $$[$0].replace(/\"/g, ''); \nbreak;\ncase 34:\n this.$ = $$[$0]; \nbreak;\ncase 35:\n yy.parseDirective('%%{', 'open_directive'); \nbreak;\ncase 36:\n yy.parseDirective($$[$0], 'type_directive'); \nbreak;\ncase 37:\n $$[$0] = $$[$0].trim().replace(/'/g, '\"'); yy.parseDirective($$[$0], 'arg_directive'); \nbreak;\ncase 38:\n yy.parseDirective('}%%', 'close_directive', 'er'); \nbreak;\n}\n},\ntable: [{3:1,4:$V0,7:3,12:4,40:$V1},{1:[3]},o($V2,[2,3],{5:6}),{3:7,4:$V0,7:3,12:4,40:$V1},{13:8,41:[1,9]},{41:[2,35]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:$V3,40:$V1},{1:[2,2]},{14:18,15:[1,19],43:$V4},o([15,43],[2,36]),o($V2,[2,8],{1:[2,1]}),o($V2,[2,4]),{7:15,10:21,12:4,17:16,23:$V3,40:$V1},o($V2,[2,6]),o($V2,[2,7]),o($V2,[2,11]),o($V2,[2,15],{18:22,31:24,20:[1,23],33:$V5,34:$V6,35:$V7,36:$V8}),o([6,9,11,15,20,23,33,34,35,36,40],[2,16]),{11:[1,29]},{16:30,42:[1,31]},{11:[2,38]},o($V2,[2,5]),{17:32,23:$V3},{21:33,22:[1,34],24:35,25:36,29:$V9},{32:38,37:[1,39],38:[1,40]},o($Va,[2,27]),o($Va,[2,28]),o($Va,[2,29]),o($Va,[2,30]),o($Vb,[2,9]),{14:41,43:$V4},{43:[2,37]},{15:[1,42]},{22:[1,43]},o($V2,[2,14]),{21:44,22:[2,17],24:35,25:36,29:$V9},{26:45,29:[1,46]},{29:[2,23]},{31:47,33:$V5,34:$V6,35:$V7,36:$V8},o($Vc,[2,31]),o($Vc,[2,32]),{11:[1,48]},{19:49,23:[1,51],39:[1,50]},o($V2,[2,13]),{22:[2,18]},o($Vd,[2,19],{27:52,28:[1,53],30:[1,54]}),o([22,28,29,30],[2,24]),{23:[2,26]},o($Vb,[2,10]),o($V2,[2,12]),o($V2,[2,33]),o($V2,[2,34]),o($Vd,[2,20],{28:[1,55]}),o($Vd,[2,21]),o([22,28,29],[2,25]),o($Vd,[2,22])],\ndefaultActions: {5:[2,35],7:[2,2],20:[2,38],31:[2,37],37:[2,23],44:[2,18],47:[2,26]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\r\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0: this.begin('open_directive'); return 40; \nbreak;\ncase 1: this.begin('type_directive'); return 41; \nbreak;\ncase 2: this.popState(); this.begin('arg_directive'); return 15; \nbreak;\ncase 3: this.popState(); this.popState(); return 43; \nbreak;\ncase 4:return 42;\nbreak;\ncase 5:/* skip comments */\nbreak;\ncase 6:/* skip comments */\nbreak;\ncase 7:return 11;\nbreak;\ncase 8:/* skip whitespace */\nbreak;\ncase 9:return 9;\nbreak;\ncase 10:return 39;\nbreak;\ncase 11:return 4;\nbreak;\ncase 12: this.begin(\"block\"); return 20; \nbreak;\ncase 13:/* skip whitespace in block */\nbreak;\ncase 14:return 30\nbreak;\ncase 15:return 29\nbreak;\ncase 16:return 28;\nbreak;\ncase 17:/* nothing */\nbreak;\ncase 18: this.popState(); return 22; \nbreak;\ncase 19:return yy_.yytext[0];\nbreak;\ncase 20:return 33;\nbreak;\ncase 21:return 34;\nbreak;\ncase 22:return 35;\nbreak;\ncase 23:return 36;\nbreak;\ncase 24:return 33;\nbreak;\ncase 25:return 34;\nbreak;\ncase 26:return 35;\nbreak;\ncase 27:return 37;\nbreak;\ncase 28:return 38;\nbreak;\ncase 29:return 37;\nbreak;\ncase 30:return 37;\nbreak;\ncase 31:return 23;\nbreak;\ncase 32:return yy_.yytext[0];\nbreak;\ncase 33:return 6;\nbreak;\n}\n},\nrules: [/^(?:%%\\{)/i,/^(?:((?:(?!\\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\\}%%)/i,/^(?:((?:(?!\\}%%).|\\n)*))/i,/^(?:%(?!\\{)[^\\n]*)/i,/^(?:[^\\}]%%[^\\n]*)/i,/^(?:[\\n]+)/i,/^(?:\\s+)/i,/^(?:[\\s]+)/i,/^(?:\"[^\"]*\")/i,/^(?:erDiagram\\b)/i,/^(?:\\{)/i,/^(?:\\s+)/i,/^(?:(?:PK)|(?:FK))/i,/^(?:[A-Za-z][A-Za-z0-9\\-_]*)/i,/^(?:\"[^\"]*\")/i,/^(?:[\\n]+)/i,/^(?:\\})/i,/^(?:.)/i,/^(?:\\|o\\b)/i,/^(?:\\}o\\b)/i,/^(?:\\}\\|)/i,/^(?:\\|\\|)/i,/^(?:o\\|)/i,/^(?:o\\{)/i,/^(?:\\|\\{)/i,/^(?:\\.\\.)/i,/^(?:--)/i,/^(?:\\.-)/i,/^(?:-\\.)/i,/^(?:[A-Za-z][A-Za-z0-9\\-_]*)/i,/^(?:.)/i,/^(?:$)/i],\nconditions: {\"open_directive\":{\"rules\":[1],\"inclusive\":false},\"type_directive\":{\"rules\":[2,3],\"inclusive\":false},\"arg_directive\":{\"rules\":[3,4],\"inclusive\":false},\"block\":{\"rules\":[13,14,15,16,17,18,19],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,5,6,7,8,9,10,11,12,20,21,22,23,24,25,26,27,28,29,30,31,32,33],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,9],$V1=[1,7],$V2=[1,6],$V3=[1,8],$V4=[1,20,21,22,23,38,47,76,77,78,79,80,81,95,96,99,100,101,103,104,110,111,112,113,114,115,116,117,118,119],$V5=[2,10],$V6=[1,20],$V7=[1,21],$V8=[1,22],$V9=[1,23],$Va=[1,30],$Vb=[1,59],$Vc=[1,33],$Vd=[1,34],$Ve=[1,35],$Vf=[1,36],$Vg=[1,37],$Vh=[1,53],$Vi=[1,48],$Vj=[1,50],$Vk=[1,45],$Vl=[1,49],$Vm=[1,52],$Vn=[1,56],$Vo=[1,57],$Vp=[1,38],$Vq=[1,39],$Vr=[1,40],$Vs=[1,41],$Vt=[1,58],$Vu=[1,47],$Vv=[1,51],$Vw=[1,54],$Vx=[1,55],$Vy=[1,46],$Vz=[1,62],$VA=[1,67],$VB=[1,20,21,22,23,38,42,47,76,77,78,79,80,81,95,96,99,100,101,103,104,110,111,112,113,114,115,116,117,118,119],$VC=[1,71],$VD=[1,70],$VE=[1,72],$VF=[20,21,23,70,71],$VG=[1,93],$VH=[1,98],$VI=[1,95],$VJ=[1,100],$VK=[1,103],$VL=[1,101],$VM=[1,102],$VN=[1,96],$VO=[1,108],$VP=[1,107],$VQ=[1,97],$VR=[1,99],$VS=[1,104],$VT=[1,105],$VU=[1,106],$VV=[1,109],$VW=[20,21,22,23,70,71],$VX=[20,21,22,23,48,70,71],$VY=[20,21,22,23,40,47,48,50,52,54,56,58,60,62,63,65,70,71,81,95,96,99,100,101,103,104,114,115,116,117,118,119],$VZ=[20,21,23],$V_=[20,21,23,47,70,71,81,95,96,99,100,101,103,104,114,115,116,117,118,119],$V$=[1,12,20,21,22,23,24,38,42,47,76,77,78,79,80,81,95,96,99,100,101,103,104,110,111,112,113,114,115,116,117,118,119],$V01=[47,81,95,96,99,100,101,103,104,114,115,116,117,118,119],$V11=[1,141],$V21=[1,149],$V31=[1,150],$V41=[1,151],$V51=[1,152],$V61=[1,136],$V71=[1,137],$V81=[1,133],$V91=[1,144],$Va1=[1,145],$Vb1=[1,146],$Vc1=[1,147],$Vd1=[1,148],$Ve1=[1,153],$Vf1=[1,154],$Vg1=[1,139],$Vh1=[1,142],$Vi1=[1,138],$Vj1=[1,135],$Vk1=[20,21,22,23,38,42,47,76,77,78,79,80,81,95,96,99,100,101,103,104,110,111,112,113,114,115,116,117,118,119],$Vl1=[1,157],$Vm1=[20,21,22,23,26,47,81,95,96,99,100,101,103,104,114,115,116,117,118,119],$Vn1=[20,21,22,23,24,26,38,40,41,42,47,51,53,55,57,59,61,62,64,66,70,71,72,76,77,78,79,80,81,82,85,95,96,99,100,101,103,104,105,106,114,115,116,117,118,119],$Vo1=[12,21,22,24],$Vp1=[22,96],$Vq1=[1,238],$Vr1=[1,242],$Vs1=[1,239],$Vt1=[1,236],$Vu1=[1,233],$Vv1=[1,234],$Vw1=[1,235],$Vx1=[1,237],$Vy1=[1,240],$Vz1=[1,241],$VA1=[1,243],$VB1=[1,260],$VC1=[20,21,23,96],$VD1=[20,21,22,23,76,92,95,96,99,100,101,102,103,104,105];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"mermaidDoc\":4,\"directive\":5,\"openDirective\":6,\"typeDirective\":7,\"closeDirective\":8,\"separator\":9,\":\":10,\"argDirective\":11,\"open_directive\":12,\"type_directive\":13,\"arg_directive\":14,\"close_directive\":15,\"graphConfig\":16,\"document\":17,\"line\":18,\"statement\":19,\"SEMI\":20,\"NEWLINE\":21,\"SPACE\":22,\"EOF\":23,\"GRAPH\":24,\"NODIR\":25,\"DIR\":26,\"FirstStmtSeperator\":27,\"ending\":28,\"endToken\":29,\"spaceList\":30,\"spaceListNewline\":31,\"verticeStatement\":32,\"styleStatement\":33,\"linkStyleStatement\":34,\"classDefStatement\":35,\"classStatement\":36,\"clickStatement\":37,\"subgraph\":38,\"text\":39,\"SQS\":40,\"SQE\":41,\"end\":42,\"direction\":43,\"link\":44,\"node\":45,\"vertex\":46,\"AMP\":47,\"STYLE_SEPARATOR\":48,\"idString\":49,\"PS\":50,\"PE\":51,\"(-\":52,\"-)\":53,\"STADIUMSTART\":54,\"STADIUMEND\":55,\"SUBROUTINESTART\":56,\"SUBROUTINEEND\":57,\"CYLINDERSTART\":58,\"CYLINDEREND\":59,\"DIAMOND_START\":60,\"DIAMOND_STOP\":61,\"TAGEND\":62,\"TRAPSTART\":63,\"TRAPEND\":64,\"INVTRAPSTART\":65,\"INVTRAPEND\":66,\"linkStatement\":67,\"arrowText\":68,\"TESTSTR\":69,\"START_LINK\":70,\"LINK\":71,\"PIPE\":72,\"textToken\":73,\"STR\":74,\"keywords\":75,\"STYLE\":76,\"LINKSTYLE\":77,\"CLASSDEF\":78,\"CLASS\":79,\"CLICK\":80,\"DOWN\":81,\"UP\":82,\"textNoTags\":83,\"textNoTagsToken\":84,\"DEFAULT\":85,\"stylesOpt\":86,\"alphaNum\":87,\"CALLBACKNAME\":88,\"CALLBACKARGS\":89,\"HREF\":90,\"LINK_TARGET\":91,\"HEX\":92,\"numList\":93,\"INTERPOLATE\":94,\"NUM\":95,\"COMMA\":96,\"style\":97,\"styleComponent\":98,\"ALPHA\":99,\"COLON\":100,\"MINUS\":101,\"UNIT\":102,\"BRKT\":103,\"DOT\":104,\"PCT\":105,\"TAGSTART\":106,\"alphaNumToken\":107,\"idStringToken\":108,\"alphaNumStatement\":109,\"direction_tb\":110,\"direction_bt\":111,\"direction_rl\":112,\"direction_lr\":113,\"PUNCTUATION\":114,\"UNICODE_TEXT\":115,\"PLUS\":116,\"EQUALS\":117,\"MULT\":118,\"UNDERSCORE\":119,\"graphCodeTokens\":120,\"ARROW_CROSS\":121,\"ARROW_POINT\":122,\"ARROW_CIRCLE\":123,\"ARROW_OPEN\":124,\"QUOTE\":125,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",10:\":\",12:\"open_directive\",13:\"type_directive\",14:\"arg_directive\",15:\"close_directive\",20:\"SEMI\",21:\"NEWLINE\",22:\"SPACE\",23:\"EOF\",24:\"GRAPH\",25:\"NODIR\",26:\"DIR\",38:\"subgraph\",40:\"SQS\",41:\"SQE\",42:\"end\",47:\"AMP\",48:\"STYLE_SEPARATOR\",50:\"PS\",51:\"PE\",52:\"(-\",53:\"-)\",54:\"STADIUMSTART\",55:\"STADIUMEND\",56:\"SUBROUTINESTART\",57:\"SUBROUTINEEND\",58:\"CYLINDERSTART\",59:\"CYLINDEREND\",60:\"DIAMOND_START\",61:\"DIAMOND_STOP\",62:\"TAGEND\",63:\"TRAPSTART\",64:\"TRAPEND\",65:\"INVTRAPSTART\",66:\"INVTRAPEND\",69:\"TESTSTR\",70:\"START_LINK\",71:\"LINK\",72:\"PIPE\",74:\"STR\",76:\"STYLE\",77:\"LINKSTYLE\",78:\"CLASSDEF\",79:\"CLASS\",80:\"CLICK\",81:\"DOWN\",82:\"UP\",85:\"DEFAULT\",88:\"CALLBACKNAME\",89:\"CALLBACKARGS\",90:\"HREF\",91:\"LINK_TARGET\",92:\"HEX\",94:\"INTERPOLATE\",95:\"NUM\",96:\"COMMA\",99:\"ALPHA\",100:\"COLON\",101:\"MINUS\",102:\"UNIT\",103:\"BRKT\",104:\"DOT\",105:\"PCT\",106:\"TAGSTART\",110:\"direction_tb\",111:\"direction_bt\",112:\"direction_rl\",113:\"direction_lr\",114:\"PUNCTUATION\",115:\"UNICODE_TEXT\",116:\"PLUS\",117:\"EQUALS\",118:\"MULT\",119:\"UNDERSCORE\",121:\"ARROW_CROSS\",122:\"ARROW_POINT\",123:\"ARROW_CIRCLE\",124:\"ARROW_OPEN\",125:\"QUOTE\"},\nproductions_: [0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[45,1],[45,5],[45,3],[46,4],[46,6],[46,4],[46,4],[46,4],[46,4],[46,4],[46,4],[46,6],[46,4],[46,4],[46,4],[46,4],[46,4],[46,1],[44,2],[44,3],[44,3],[44,1],[44,3],[67,1],[68,3],[39,1],[39,2],[39,1],[75,1],[75,1],[75,1],[75,1],[75,1],[75,1],[75,1],[75,1],[75,1],[75,1],[75,1],[83,1],[83,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[93,1],[93,3],[86,1],[86,3],[97,1],[97,2],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[73,1],[73,1],[73,1],[73,1],[73,1],[73,1],[84,1],[84,1],[84,1],[84,1],[49,1],[49,2],[87,1],[87,2],[109,1],[109,1],[109,1],[109,1],[43,1],[43,1],[43,1],[43,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 5:\n yy.parseDirective('%%{', 'open_directive'); \nbreak;\ncase 6:\n yy.parseDirective($$[$0], 'type_directive'); \nbreak;\ncase 7:\n $$[$0] = $$[$0].trim().replace(/'/g, '\"'); yy.parseDirective($$[$0], 'arg_directive'); \nbreak;\ncase 8:\n yy.parseDirective('}%%', 'close_directive', 'flowchart'); \nbreak;\ncase 10:\n this.$ = [];\nbreak;\ncase 11:\n\r\n\t    if($$[$0] !== []){\r\n\t        $$[$0-1].push($$[$0]);\r\n\t    }\r\n\t    this.$=$$[$0-1];\nbreak;\ncase 12: case 77: case 79: case 91: case 147: case 149: case 150:\nthis.$=$$[$0];\nbreak;\ncase 19:\n yy.setDirection('TB');this.$ = 'TB';\nbreak;\ncase 20:\n yy.setDirection($$[$0-1]);this.$ = $$[$0-1];\nbreak;\ncase 35:\n /* console.warn('finat vs', $$[$0-1].nodes); */ this.$=$$[$0-1].nodes\nbreak;\ncase 36: case 37: case 38: case 39: case 40:\nthis.$=[];\nbreak;\ncase 41:\nthis.$=yy.addSubGraph($$[$0-6],$$[$0-1],$$[$0-4]);\nbreak;\ncase 42:\nthis.$=yy.addSubGraph($$[$0-3],$$[$0-1],$$[$0-3]);\nbreak;\ncase 43:\nthis.$=yy.addSubGraph(undefined,$$[$0-1],undefined);\nbreak;\ncase 48:\n /* console.warn('vs',$$[$0-2].stmt,$$[$0]); */ yy.addLink($$[$0-2].stmt,$$[$0],$$[$0-1]); this.$ = { stmt: $$[$0], nodes: $$[$0].concat($$[$0-2].nodes) } \nbreak;\ncase 49:\n /* console.warn('vs',$$[$0-3].stmt,$$[$0-1]); */ yy.addLink($$[$0-3].stmt,$$[$0-1],$$[$0-2]); this.$ = { stmt: $$[$0-1], nodes: $$[$0-1].concat($$[$0-3].nodes) } \nbreak;\ncase 50:\n/*console.warn('noda', $$[$0-1]);*/ this.$ = {stmt: $$[$0-1], nodes:$$[$0-1] }\nbreak;\ncase 51:\n /*console.warn('noda', $$[$0]);*/ this.$ = {stmt: $$[$0], nodes:$$[$0] }\nbreak;\ncase 52:\n /* console.warn('nod', $$[$0]); */ this.$ = [$$[$0]];\nbreak;\ncase 53:\n this.$ = $$[$0-4].concat($$[$0]); /* console.warn('pip', $$[$0-4][0], $$[$0], this.$); */ \nbreak;\ncase 54:\nthis.$ = [$$[$0-2]];yy.setClass($$[$0-2],$$[$0])\nbreak;\ncase 55:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'square');\nbreak;\ncase 56:\nthis.$ = $$[$0-5];yy.addVertex($$[$0-5],$$[$0-2],'circle');\nbreak;\ncase 57:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'ellipse');\nbreak;\ncase 58:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'stadium');\nbreak;\ncase 59:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'subroutine');\nbreak;\ncase 60:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'cylinder');\nbreak;\ncase 61:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'round');\nbreak;\ncase 62:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'diamond');\nbreak;\ncase 63:\nthis.$ = $$[$0-5];yy.addVertex($$[$0-5],$$[$0-2],'hexagon');\nbreak;\ncase 64:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'odd');\nbreak;\ncase 65:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'trapezoid');\nbreak;\ncase 66:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'inv_trapezoid');\nbreak;\ncase 67:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'lean_right');\nbreak;\ncase 68:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'lean_left');\nbreak;\ncase 69:\n /*console.warn('h: ', $$[$0]);*/this.$ = $$[$0];yy.addVertex($$[$0]);\nbreak;\ncase 70:\n$$[$0-1].text = $$[$0];this.$ = $$[$0-1];\nbreak;\ncase 71: case 72:\n$$[$0-2].text = $$[$0-1];this.$ = $$[$0-2];\nbreak;\ncase 73:\nthis.$ = $$[$0];\nbreak;\ncase 74:\nvar inf = yy.destructLink($$[$0], $$[$0-2]); this.$ = {\"type\":inf.type,\"stroke\":inf.stroke,\"length\":inf.length,\"text\":$$[$0-1]};\nbreak;\ncase 75:\nvar inf = yy.destructLink($$[$0]);this.$ = {\"type\":inf.type,\"stroke\":inf.stroke,\"length\":inf.length};\nbreak;\ncase 76:\nthis.$ = $$[$0-1];\nbreak;\ncase 78: case 92: case 148:\nthis.$=$$[$0-1]+''+$$[$0];\nbreak;\ncase 93: case 94:\nthis.$ = $$[$0-4];yy.addClass($$[$0-2],$$[$0]);\nbreak;\ncase 95:\nthis.$ = $$[$0-4];yy.setClass($$[$0-2], $$[$0]);\nbreak;\ncase 96: case 104:\nthis.$ = $$[$0-1];yy.setClickEvent($$[$0-1], $$[$0]);\nbreak;\ncase 97: case 105:\nthis.$ = $$[$0-3];yy.setClickEvent($$[$0-3], $$[$0-2]);yy.setTooltip($$[$0-3], $$[$0]);\nbreak;\ncase 98:\nthis.$ = $$[$0-2];yy.setClickEvent($$[$0-2], $$[$0-1], $$[$0]);\nbreak;\ncase 99:\nthis.$ = $$[$0-4];yy.setClickEvent($$[$0-4], $$[$0-3], $$[$0-2]);yy.setTooltip($$[$0-4], $$[$0]);\nbreak;\ncase 100: case 106:\nthis.$ = $$[$0-1];yy.setLink($$[$0-1], $$[$0]);\nbreak;\ncase 101: case 107:\nthis.$ = $$[$0-3];yy.setLink($$[$0-3], $$[$0-2]);yy.setTooltip($$[$0-3], $$[$0]);\nbreak;\ncase 102: case 108:\nthis.$ = $$[$0-3];yy.setLink($$[$0-3], $$[$0-2], $$[$0]);\nbreak;\ncase 103: case 109:\nthis.$ = $$[$0-5];yy.setLink($$[$0-5], $$[$0-4], $$[$0]);yy.setTooltip($$[$0-5], $$[$0-2]);\nbreak;\ncase 110:\nthis.$ = $$[$0-4];yy.addVertex($$[$0-2],undefined,undefined,$$[$0]);\nbreak;\ncase 111: case 113:\nthis.$ = $$[$0-4];yy.updateLink($$[$0-2],$$[$0]);\nbreak;\ncase 112:\nthis.$ = $$[$0-4];yy.updateLink([$$[$0-2]],$$[$0]);\nbreak;\ncase 114:\nthis.$ = $$[$0-8];yy.updateLinkInterpolate([$$[$0-6]],$$[$0-2]);yy.updateLink([$$[$0-6]],$$[$0]);\nbreak;\ncase 115:\nthis.$ = $$[$0-8];yy.updateLinkInterpolate($$[$0-6],$$[$0-2]);yy.updateLink($$[$0-6],$$[$0]);\nbreak;\ncase 116:\nthis.$ = $$[$0-6];yy.updateLinkInterpolate([$$[$0-4]],$$[$0]);\nbreak;\ncase 117:\nthis.$ = $$[$0-6];yy.updateLinkInterpolate($$[$0-4],$$[$0]);\nbreak;\ncase 118: case 120:\nthis.$ = [$$[$0]]\nbreak;\ncase 119: case 121:\n$$[$0-2].push($$[$0]);this.$ = $$[$0-2];\nbreak;\ncase 123:\nthis.$ = $$[$0-1] + $$[$0];\nbreak;\ncase 145:\nthis.$=$$[$0]\nbreak;\ncase 146:\nthis.$=$$[$0-1]+''+$$[$0]\nbreak;\ncase 151:\nthis.$='v';\nbreak;\ncase 152:\nthis.$='-';\nbreak;\ncase 153:\n this.$={stmt:'dir', value:'TB'};\nbreak;\ncase 154:\n this.$={stmt:'dir', value:'BT'};\nbreak;\ncase 155:\n this.$={stmt:'dir', value:'RL'};\nbreak;\ncase 156:\n this.$={stmt:'dir', value:'LR'};\nbreak;\n}\n},\ntable: [{3:1,4:2,5:3,6:5,12:$V0,16:4,21:$V1,22:$V2,24:$V3},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:$V0,16:4,21:$V1,22:$V2,24:$V3},o($V4,$V5,{17:11}),{7:12,13:[1,13]},{16:14,21:$V1,22:$V2,24:$V3},{16:15,21:$V1,22:$V2,24:$V3},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:$V6,21:$V7,22:$V8,23:$V9,32:24,33:25,34:26,35:27,36:28,37:29,38:$Va,43:31,45:32,46:42,47:$Vb,49:43,76:$Vc,77:$Vd,78:$Ve,79:$Vf,80:$Vg,81:$Vh,95:$Vi,96:$Vj,99:$Vk,100:$Vl,101:$Vm,103:$Vn,104:$Vo,108:44,110:$Vp,111:$Vq,112:$Vr,113:$Vs,114:$Vt,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy},{8:60,10:[1,61],15:$Vz},o([10,15],[2,6]),o($V4,[2,17]),o($V4,[2,18]),o($V4,[2,19]),{20:[1,64],21:[1,65],22:$VA,27:63,30:66},o($VB,[2,11]),o($VB,[2,12]),o($VB,[2,13]),o($VB,[2,14]),o($VB,[2,15]),o($VB,[2,16]),{9:68,20:$VC,21:$VD,23:$VE,44:69,67:73,70:[1,74],71:[1,75]},{9:76,20:$VC,21:$VD,23:$VE},{9:77,20:$VC,21:$VD,23:$VE},{9:78,20:$VC,21:$VD,23:$VE},{9:79,20:$VC,21:$VD,23:$VE},{9:80,20:$VC,21:$VD,23:$VE},{9:82,20:$VC,21:$VD,22:[1,81],23:$VE},o($VB,[2,44]),o($VF,[2,51],{30:83,22:$VA}),{22:[1,84]},{22:[1,85]},{22:[1,86]},{22:[1,87]},{26:$VG,47:$VH,74:[1,91],81:$VI,87:90,88:[1,88],90:[1,89],95:$VJ,96:$VK,99:$VL,100:$VM,101:$VN,103:$VO,104:$VP,107:94,109:92,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},o($VB,[2,153]),o($VB,[2,154]),o($VB,[2,155]),o($VB,[2,156]),o($VW,[2,52],{48:[1,110]}),o($VX,[2,69],{108:121,40:[1,111],47:$Vb,50:[1,112],52:[1,113],54:[1,114],56:[1,115],58:[1,116],60:[1,117],62:[1,118],63:[1,119],65:[1,120],81:$Vh,95:$Vi,96:$Vj,99:$Vk,100:$Vl,101:$Vm,103:$Vn,104:$Vo,114:$Vt,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy}),o($VY,[2,145]),o($VY,[2,170]),o($VY,[2,171]),o($VY,[2,172]),o($VY,[2,173]),o($VY,[2,174]),o($VY,[2,175]),o($VY,[2,176]),o($VY,[2,177]),o($VY,[2,178]),o($VY,[2,179]),o($VY,[2,180]),o($VY,[2,181]),o($VY,[2,182]),o($VY,[2,183]),o($VY,[2,184]),{9:122,20:$VC,21:$VD,23:$VE},{11:123,14:[1,124]},o($VZ,[2,8]),o($V4,[2,20]),o($V4,[2,26]),o($V4,[2,27]),{21:[1,125]},o($V_,[2,34],{30:126,22:$VA}),o($VB,[2,35]),{45:127,46:42,47:$Vb,49:43,81:$Vh,95:$Vi,96:$Vj,99:$Vk,100:$Vl,101:$Vm,103:$Vn,104:$Vo,108:44,114:$Vt,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy},o($V$,[2,45]),o($V$,[2,46]),o($V$,[2,47]),o($V01,[2,73],{68:128,69:[1,129],72:[1,130]}),{22:$V11,24:$V21,26:$V31,38:$V41,39:131,42:$V51,47:$VH,62:$V61,70:$V71,73:132,74:$V81,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},o([47,69,72,81,95,96,99,100,101,103,104,114,115,116,117,118,119],[2,75]),o($VB,[2,36]),o($VB,[2,37]),o($VB,[2,38]),o($VB,[2,39]),o($VB,[2,40]),{22:$V11,24:$V21,26:$V31,38:$V41,39:155,42:$V51,47:$VH,62:$V61,70:$V71,73:132,74:$V81,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},o($Vk1,$V5,{17:156}),o($VF,[2,50],{47:$Vl1}),{26:$VG,47:$VH,81:$VI,87:158,92:[1,159],95:$VJ,96:$VK,99:$VL,100:$VM,101:$VN,103:$VO,104:$VP,107:94,109:92,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{85:[1,160],93:161,95:[1,162]},{26:$VG,47:$VH,81:$VI,85:[1,163],87:164,95:$VJ,96:$VK,99:$VL,100:$VM,101:$VN,103:$VO,104:$VP,107:94,109:92,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{26:$VG,47:$VH,81:$VI,87:165,95:$VJ,96:$VK,99:$VL,100:$VM,101:$VN,103:$VO,104:$VP,107:94,109:92,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},o($VZ,[2,96],{22:[1,166],89:[1,167]}),o($VZ,[2,100],{22:[1,168]}),o($VZ,[2,104],{107:94,109:170,22:[1,169],26:$VG,47:$VH,81:$VI,95:$VJ,96:$VK,99:$VL,100:$VM,101:$VN,103:$VO,104:$VP,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV}),o($VZ,[2,106],{22:[1,171]}),o($Vm1,[2,147]),o($Vm1,[2,149]),o($Vm1,[2,150]),o($Vm1,[2,151]),o($Vm1,[2,152]),o($Vn1,[2,157]),o($Vn1,[2,158]),o($Vn1,[2,159]),o($Vn1,[2,160]),o($Vn1,[2,161]),o($Vn1,[2,162]),o($Vn1,[2,163]),o($Vn1,[2,164]),o($Vn1,[2,165]),o($Vn1,[2,166]),o($Vn1,[2,167]),o($Vn1,[2,168]),o($Vn1,[2,169]),{47:$Vb,49:172,81:$Vh,95:$Vi,96:$Vj,99:$Vk,100:$Vl,101:$Vm,103:$Vn,104:$Vo,108:44,114:$Vt,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy},{22:$V11,24:$V21,26:$V31,38:$V41,39:173,42:$V51,47:$VH,62:$V61,70:$V71,73:132,74:$V81,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:$V11,24:$V21,26:$V31,38:$V41,39:175,42:$V51,47:$VH,50:[1,174],62:$V61,70:$V71,73:132,74:$V81,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:$V11,24:$V21,26:$V31,38:$V41,39:176,42:$V51,47:$VH,62:$V61,70:$V71,73:132,74:$V81,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:$V11,24:$V21,26:$V31,38:$V41,39:177,42:$V51,47:$VH,62:$V61,70:$V71,73:132,74:$V81,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:$V11,24:$V21,26:$V31,38:$V41,39:178,42:$V51,47:$VH,62:$V61,70:$V71,73:132,74:$V81,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:$V11,24:$V21,26:$V31,38:$V41,39:179,42:$V51,47:$VH,62:$V61,70:$V71,73:132,74:$V81,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:$V11,24:$V21,26:$V31,38:$V41,39:180,42:$V51,47:$VH,60:[1,181],62:$V61,70:$V71,73:132,74:$V81,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:$V11,24:$V21,26:$V31,38:$V41,39:182,42:$V51,47:$VH,62:$V61,70:$V71,73:132,74:$V81,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:$V11,24:$V21,26:$V31,38:$V41,39:183,42:$V51,47:$VH,62:$V61,70:$V71,73:132,74:$V81,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:$V11,24:$V21,26:$V31,38:$V41,39:184,42:$V51,47:$VH,62:$V61,70:$V71,73:132,74:$V81,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},o($VY,[2,146]),o($Vo1,[2,3]),{8:185,15:$Vz},{15:[2,7]},o($V4,[2,28]),o($V_,[2,33]),o($VF,[2,48],{30:186,22:$VA}),o($V01,[2,70],{22:[1,187]}),{22:[1,188]},{22:$V11,24:$V21,26:$V31,38:$V41,39:189,42:$V51,47:$VH,62:$V61,70:$V71,73:132,74:$V81,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:$V11,24:$V21,26:$V31,38:$V41,42:$V51,47:$VH,62:$V61,70:$V71,71:[1,190],73:191,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},o($Vn1,[2,77]),o($Vn1,[2,79]),o($Vn1,[2,135]),o($Vn1,[2,136]),o($Vn1,[2,137]),o($Vn1,[2,138]),o($Vn1,[2,139]),o($Vn1,[2,140]),o($Vn1,[2,141]),o($Vn1,[2,142]),o($Vn1,[2,143]),o($Vn1,[2,144]),o($Vn1,[2,80]),o($Vn1,[2,81]),o($Vn1,[2,82]),o($Vn1,[2,83]),o($Vn1,[2,84]),o($Vn1,[2,85]),o($Vn1,[2,86]),o($Vn1,[2,87]),o($Vn1,[2,88]),o($Vn1,[2,89]),o($Vn1,[2,90]),{9:193,20:$VC,21:$VD,22:$V11,23:$VE,24:$V21,26:$V31,38:$V41,40:[1,192],42:$V51,47:$VH,62:$V61,70:$V71,73:191,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{18:18,19:19,20:$V6,21:$V7,22:$V8,23:$V9,32:24,33:25,34:26,35:27,36:28,37:29,38:$Va,42:[1,194],43:31,45:32,46:42,47:$Vb,49:43,76:$Vc,77:$Vd,78:$Ve,79:$Vf,80:$Vg,81:$Vh,95:$Vi,96:$Vj,99:$Vk,100:$Vl,101:$Vm,103:$Vn,104:$Vo,108:44,110:$Vp,111:$Vq,112:$Vr,113:$Vs,114:$Vt,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy},{22:$VA,30:195},{22:[1,196],26:$VG,47:$VH,81:$VI,95:$VJ,96:$VK,99:$VL,100:$VM,101:$VN,103:$VO,104:$VP,107:94,109:170,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:[1,197]},{22:[1,198]},{22:[1,199],96:[1,200]},o($Vp1,[2,118]),{22:[1,201]},{22:[1,202],26:$VG,47:$VH,81:$VI,95:$VJ,96:$VK,99:$VL,100:$VM,101:$VN,103:$VO,104:$VP,107:94,109:170,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:[1,203],26:$VG,47:$VH,81:$VI,95:$VJ,96:$VK,99:$VL,100:$VM,101:$VN,103:$VO,104:$VP,107:94,109:170,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{74:[1,204]},o($VZ,[2,98],{22:[1,205]}),{74:[1,206],91:[1,207]},{74:[1,208]},o($Vm1,[2,148]),{74:[1,209],91:[1,210]},o($VW,[2,54],{108:121,47:$Vb,81:$Vh,95:$Vi,96:$Vj,99:$Vk,100:$Vl,101:$Vm,103:$Vn,104:$Vo,114:$Vt,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy}),{22:$V11,24:$V21,26:$V31,38:$V41,41:[1,211],42:$V51,47:$VH,62:$V61,70:$V71,73:191,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:$V11,24:$V21,26:$V31,38:$V41,39:212,42:$V51,47:$VH,62:$V61,70:$V71,73:132,74:$V81,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:$V11,24:$V21,26:$V31,38:$V41,42:$V51,47:$VH,51:[1,213],62:$V61,70:$V71,73:191,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:$V11,24:$V21,26:$V31,38:$V41,42:$V51,47:$VH,53:[1,214],62:$V61,70:$V71,73:191,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:$V11,24:$V21,26:$V31,38:$V41,42:$V51,47:$VH,55:[1,215],62:$V61,70:$V71,73:191,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:$V11,24:$V21,26:$V31,38:$V41,42:$V51,47:$VH,57:[1,216],62:$V61,70:$V71,73:191,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:$V11,24:$V21,26:$V31,38:$V41,42:$V51,47:$VH,59:[1,217],62:$V61,70:$V71,73:191,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:$V11,24:$V21,26:$V31,38:$V41,42:$V51,47:$VH,61:[1,218],62:$V61,70:$V71,73:191,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:$V11,24:$V21,26:$V31,38:$V41,39:219,42:$V51,47:$VH,62:$V61,70:$V71,73:132,74:$V81,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:$V11,24:$V21,26:$V31,38:$V41,41:[1,220],42:$V51,47:$VH,62:$V61,70:$V71,73:191,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:$V11,24:$V21,26:$V31,38:$V41,42:$V51,47:$VH,62:$V61,64:[1,221],66:[1,222],70:$V71,73:191,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{22:$V11,24:$V21,26:$V31,38:$V41,42:$V51,47:$VH,62:$V61,64:[1,224],66:[1,223],70:$V71,73:191,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{9:225,20:$VC,21:$VD,23:$VE},o($VF,[2,49],{47:$Vl1}),o($V01,[2,72]),o($V01,[2,71]),{22:$V11,24:$V21,26:$V31,38:$V41,42:$V51,47:$VH,62:$V61,70:$V71,72:[1,226],73:191,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},o($V01,[2,74]),o($Vn1,[2,78]),{22:$V11,24:$V21,26:$V31,38:$V41,39:227,42:$V51,47:$VH,62:$V61,70:$V71,73:132,74:$V81,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},o($Vk1,$V5,{17:228}),o($VB,[2,43]),{46:229,47:$Vb,49:43,81:$Vh,95:$Vi,96:$Vj,99:$Vk,100:$Vl,101:$Vm,103:$Vn,104:$Vo,108:44,114:$Vt,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy},{22:$Vq1,76:$Vr1,86:230,92:$Vs1,95:$Vt1,97:231,98:232,99:$Vu1,100:$Vv1,101:$Vw1,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1},{22:$Vq1,76:$Vr1,86:244,92:$Vs1,95:$Vt1,97:231,98:232,99:$Vu1,100:$Vv1,101:$Vw1,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1},{22:$Vq1,76:$Vr1,86:245,92:$Vs1,94:[1,246],95:$Vt1,97:231,98:232,99:$Vu1,100:$Vv1,101:$Vw1,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1},{22:$Vq1,76:$Vr1,86:247,92:$Vs1,94:[1,248],95:$Vt1,97:231,98:232,99:$Vu1,100:$Vv1,101:$Vw1,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1},{95:[1,249]},{22:$Vq1,76:$Vr1,86:250,92:$Vs1,95:$Vt1,97:231,98:232,99:$Vu1,100:$Vv1,101:$Vw1,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1},{22:$Vq1,76:$Vr1,86:251,92:$Vs1,95:$Vt1,97:231,98:232,99:$Vu1,100:$Vv1,101:$Vw1,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1},{26:$VG,47:$VH,81:$VI,87:252,95:$VJ,96:$VK,99:$VL,100:$VM,101:$VN,103:$VO,104:$VP,107:94,109:92,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},o($VZ,[2,97]),{74:[1,253]},o($VZ,[2,101],{22:[1,254]}),o($VZ,[2,102]),o($VZ,[2,105]),o($VZ,[2,107],{22:[1,255]}),o($VZ,[2,108]),o($VX,[2,55]),{22:$V11,24:$V21,26:$V31,38:$V41,42:$V51,47:$VH,51:[1,256],62:$V61,70:$V71,73:191,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},o($VX,[2,61]),o($VX,[2,57]),o($VX,[2,58]),o($VX,[2,59]),o($VX,[2,60]),o($VX,[2,62]),{22:$V11,24:$V21,26:$V31,38:$V41,42:$V51,47:$VH,61:[1,257],62:$V61,70:$V71,73:191,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},o($VX,[2,64]),o($VX,[2,65]),o($VX,[2,67]),o($VX,[2,66]),o($VX,[2,68]),o($Vo1,[2,4]),o([22,47,81,95,96,99,100,101,103,104,114,115,116,117,118,119],[2,76]),{22:$V11,24:$V21,26:$V31,38:$V41,41:[1,258],42:$V51,47:$VH,62:$V61,70:$V71,73:191,75:143,76:$V91,77:$Va1,78:$Vb1,79:$Vc1,80:$Vd1,81:$Ve1,82:$Vf1,84:134,85:$Vg1,95:$VJ,96:$VK,99:$VL,100:$VM,101:$Vh1,103:$VO,104:$VP,105:$Vi1,106:$Vj1,107:140,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{18:18,19:19,20:$V6,21:$V7,22:$V8,23:$V9,32:24,33:25,34:26,35:27,36:28,37:29,38:$Va,42:[1,259],43:31,45:32,46:42,47:$Vb,49:43,76:$Vc,77:$Vd,78:$Ve,79:$Vf,80:$Vg,81:$Vh,95:$Vi,96:$Vj,99:$Vk,100:$Vl,101:$Vm,103:$Vn,104:$Vo,108:44,110:$Vp,111:$Vq,112:$Vr,113:$Vs,114:$Vt,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy},o($VW,[2,53]),o($VZ,[2,110],{96:$VB1}),o($VC1,[2,120],{98:261,22:$Vq1,76:$Vr1,92:$Vs1,95:$Vt1,99:$Vu1,100:$Vv1,101:$Vw1,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1}),o($VD1,[2,122]),o($VD1,[2,124]),o($VD1,[2,125]),o($VD1,[2,126]),o($VD1,[2,127]),o($VD1,[2,128]),o($VD1,[2,129]),o($VD1,[2,130]),o($VD1,[2,131]),o($VD1,[2,132]),o($VD1,[2,133]),o($VD1,[2,134]),o($VZ,[2,111],{96:$VB1}),o($VZ,[2,112],{96:$VB1}),{22:[1,262]},o($VZ,[2,113],{96:$VB1}),{22:[1,263]},o($Vp1,[2,119]),o($VZ,[2,93],{96:$VB1}),o($VZ,[2,94],{96:$VB1}),o($VZ,[2,95],{107:94,109:170,26:$VG,47:$VH,81:$VI,95:$VJ,96:$VK,99:$VL,100:$VM,101:$VN,103:$VO,104:$VP,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV}),o($VZ,[2,99]),{91:[1,264]},{91:[1,265]},{51:[1,266]},{61:[1,267]},{9:268,20:$VC,21:$VD,23:$VE},o($VB,[2,42]),{22:$Vq1,76:$Vr1,92:$Vs1,95:$Vt1,97:269,98:232,99:$Vu1,100:$Vv1,101:$Vw1,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1},o($VD1,[2,123]),{26:$VG,47:$VH,81:$VI,87:270,95:$VJ,96:$VK,99:$VL,100:$VM,101:$VN,103:$VO,104:$VP,107:94,109:92,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},{26:$VG,47:$VH,81:$VI,87:271,95:$VJ,96:$VK,99:$VL,100:$VM,101:$VN,103:$VO,104:$VP,107:94,109:92,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV},o($VZ,[2,103]),o($VZ,[2,109]),o($VX,[2,56]),o($VX,[2,63]),o($Vk1,$V5,{17:272}),o($VC1,[2,121],{98:261,22:$Vq1,76:$Vr1,92:$Vs1,95:$Vt1,99:$Vu1,100:$Vv1,101:$Vw1,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1}),o($VZ,[2,116],{107:94,109:170,22:[1,273],26:$VG,47:$VH,81:$VI,95:$VJ,96:$VK,99:$VL,100:$VM,101:$VN,103:$VO,104:$VP,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV}),o($VZ,[2,117],{107:94,109:170,22:[1,274],26:$VG,47:$VH,81:$VI,95:$VJ,96:$VK,99:$VL,100:$VM,101:$VN,103:$VO,104:$VP,114:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV}),{18:18,19:19,20:$V6,21:$V7,22:$V8,23:$V9,32:24,33:25,34:26,35:27,36:28,37:29,38:$Va,42:[1,275],43:31,45:32,46:42,47:$Vb,49:43,76:$Vc,77:$Vd,78:$Ve,79:$Vf,80:$Vg,81:$Vh,95:$Vi,96:$Vj,99:$Vk,100:$Vl,101:$Vm,103:$Vn,104:$Vo,108:44,110:$Vp,111:$Vq,112:$Vr,113:$Vs,114:$Vt,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy},{22:$Vq1,76:$Vr1,86:276,92:$Vs1,95:$Vt1,97:231,98:232,99:$Vu1,100:$Vv1,101:$Vw1,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1},{22:$Vq1,76:$Vr1,86:277,92:$Vs1,95:$Vt1,97:231,98:232,99:$Vu1,100:$Vv1,101:$Vw1,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1},o($VB,[2,41]),o($VZ,[2,114],{96:$VB1}),o($VZ,[2,115],{96:$VB1})],\ndefaultActions: {2:[2,1],9:[2,5],10:[2,2],124:[2,7]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\r\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0: this.begin('open_directive'); return 12; \nbreak;\ncase 1: this.begin('type_directive'); return 13; \nbreak;\ncase 2: this.popState(); this.begin('arg_directive'); return 10; \nbreak;\ncase 3: this.popState(); this.popState(); return 15; \nbreak;\ncase 4:return 14;\nbreak;\ncase 5:/* skip comments */\nbreak;\ncase 6:/* skip comments */\nbreak;\ncase 7:this.begin(\"string\");\nbreak;\ncase 8:this.popState();\nbreak;\ncase 9:return \"STR\";\nbreak;\ncase 10:return 76;\nbreak;\ncase 11:return 85;\nbreak;\ncase 12:return 77;\nbreak;\ncase 13:return 94;\nbreak;\ncase 14:return 78;\nbreak;\ncase 15:return 79;\nbreak;\ncase 16:this.begin(\"href\");\nbreak;\ncase 17:this.popState();\nbreak;\ncase 18:return 90;\nbreak;\ncase 19:this.begin(\"callbackname\");\nbreak;\ncase 20:this.popState();\nbreak;\ncase 21:this.popState(); this.begin(\"callbackargs\");\nbreak;\ncase 22:return 88;\nbreak;\ncase 23:this.popState();\nbreak;\ncase 24:return 89;\nbreak;\ncase 25:this.begin(\"click\");\nbreak;\ncase 26:this.popState();\nbreak;\ncase 27:return 80;\nbreak;\ncase 28:if(yy.lex.firstGraph()){this.begin(\"dir\");}  return 24;\nbreak;\ncase 29:if(yy.lex.firstGraph()){this.begin(\"dir\");}  return 24;\nbreak;\ncase 30:return 38;\nbreak;\ncase 31:return 42;\nbreak;\ncase 32:return 91;\nbreak;\ncase 33:return 91;\nbreak;\ncase 34:return 91;\nbreak;\ncase 35:return 91;\nbreak;\ncase 36:   this.popState();  return 25; \nbreak;\ncase 37:   this.popState();  return 26; \nbreak;\ncase 38:   this.popState();  return 26; \nbreak;\ncase 39:   this.popState();  return 26; \nbreak;\ncase 40:   this.popState();  return 26; \nbreak;\ncase 41:   this.popState();  return 26; \nbreak;\ncase 42:   this.popState();  return 26; \nbreak;\ncase 43:   this.popState();  return 26; \nbreak;\ncase 44:   this.popState();  return 26; \nbreak;\ncase 45:   this.popState();  return 26; \nbreak;\ncase 46:   this.popState();  return 26; \nbreak;\ncase 47:return 110;\nbreak;\ncase 48:return 111;\nbreak;\ncase 49:return 112;\nbreak;\ncase 50:return 113;\nbreak;\ncase 51: return 95;\nbreak;\ncase 52:return 103;\nbreak;\ncase 53:return 48;\nbreak;\ncase 54:return 100;\nbreak;\ncase 55:return 47;\nbreak;\ncase 56:return 20;\nbreak;\ncase 57:return 96;\nbreak;\ncase 58:return 118;\nbreak;\ncase 59:return 71;\nbreak;\ncase 60:return 71;\nbreak;\ncase 61:return 71;\nbreak;\ncase 62:return 70;\nbreak;\ncase 63:return 70;\nbreak;\ncase 64:return 70;\nbreak;\ncase 65:return 52;\nbreak;\ncase 66:return 53;\nbreak;\ncase 67:return 54;\nbreak;\ncase 68:return 55;\nbreak;\ncase 69:return 56;\nbreak;\ncase 70:return 57;\nbreak;\ncase 71:return 58;\nbreak;\ncase 72:return 59;\nbreak;\ncase 73:return 101;\nbreak;\ncase 74:return 104;\nbreak;\ncase 75:return 119;\nbreak;\ncase 76:return 116;\nbreak;\ncase 77:return 105;\nbreak;\ncase 78:return 117;\nbreak;\ncase 79:return 117;\nbreak;\ncase 80:return 106;\nbreak;\ncase 81:return 62;\nbreak;\ncase 82:return 82;\nbreak;\ncase 83:return 'SEP';\nbreak;\ncase 84:return 81;\nbreak;\ncase 85:return 99;\nbreak;\ncase 86:return 64;\nbreak;\ncase 87:return 63;\nbreak;\ncase 88:return 66;\nbreak;\ncase 89:return 65;\nbreak;\ncase 90:return 114;\nbreak;\ncase 91:return 115;\nbreak;\ncase 92:return 72;\nbreak;\ncase 93:return 50;\nbreak;\ncase 94:return 51;\nbreak;\ncase 95:return 40;\nbreak;\ncase 96:return 41;\nbreak;\ncase 97:return 60\nbreak;\ncase 98:return 61\nbreak;\ncase 99:return 125;\nbreak;\ncase 100:return 21;\nbreak;\ncase 101:return 22;\nbreak;\ncase 102:return 23;\nbreak;\n}\n},\nrules: [/^(?:%%\\{)/,/^(?:((?:(?!\\}%%)[^:.])*))/,/^(?::)/,/^(?:\\}%%)/,/^(?:((?:(?!\\}%%).|\\n)*))/,/^(?:%%(?!\\{)[^\\n]*)/,/^(?:[^\\}]%%[^\\n]*)/,/^(?:[\"])/,/^(?:[\"])/,/^(?:[^\"]*)/,/^(?:style\\b)/,/^(?:default\\b)/,/^(?:linkStyle\\b)/,/^(?:interpolate\\b)/,/^(?:classDef\\b)/,/^(?:class\\b)/,/^(?:href[\\s]+[\"])/,/^(?:[\"])/,/^(?:[^\"]*)/,/^(?:call[\\s]+)/,/^(?:\\([\\s]*\\))/,/^(?:\\()/,/^(?:[^(]*)/,/^(?:\\))/,/^(?:[^)]*)/,/^(?:click[\\s]+)/,/^(?:[\\s\\n])/,/^(?:[^\\s\\n]*)/,/^(?:graph\\b)/,/^(?:flowchart\\b)/,/^(?:subgraph\\b)/,/^(?:end\\b\\s*)/,/^(?:_self\\b)/,/^(?:_blank\\b)/,/^(?:_parent\\b)/,/^(?:_top\\b)/,/^(?:(\\r?\\n)*\\s*\\n)/,/^(?:\\s*LR\\b)/,/^(?:\\s*RL\\b)/,/^(?:\\s*TB\\b)/,/^(?:\\s*BT\\b)/,/^(?:\\s*TD\\b)/,/^(?:\\s*BR\\b)/,/^(?:\\s*<)/,/^(?:\\s*>)/,/^(?:\\s*\\^)/,/^(?:\\s*v\\b)/,/^(?:.*direction\\s+TB[^\\n]*)/,/^(?:.*direction\\s+BT[^\\n]*)/,/^(?:.*direction\\s+RL[^\\n]*)/,/^(?:.*direction\\s+LR[^\\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\\*)/,/^(?:\\s*[xo<]?--+[-xo>]\\s*)/,/^(?:\\s*[xo<]?==+[=xo>]\\s*)/,/^(?:\\s*[xo<]?-?\\.+-[xo>]?\\s*)/,/^(?:\\s*[xo<]?--\\s*)/,/^(?:\\s*[xo<]?==\\s*)/,/^(?:\\s*[xo<]?-\\.\\s*)/,/^(?:\\(-)/,/^(?:-\\))/,/^(?:\\(\\[)/,/^(?:\\]\\))/,/^(?:\\[\\[)/,/^(?:\\]\\])/,/^(?:\\[\\()/,/^(?:\\)\\])/,/^(?:-)/,/^(?:\\.)/,/^(?:[\\_])/,/^(?:\\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\\^)/,/^(?:\\\\\\|)/,/^(?:v\\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\\\\])/,/^(?:\\[\\/)/,/^(?:\\/\\])/,/^(?:\\[\\\\)/,/^(?:[!\"#$%&'*+,-.`?\\\\_/])/,/^(?:[\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6]|[\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377]|[\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5]|[\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA]|[\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE]|[\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA]|[\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0]|[\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977]|[\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2]|[\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A]|[\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39]|[\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8]|[\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C]|[\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C]|[\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99]|[\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0]|[\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D]|[\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3]|[\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10]|[\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1]|[\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81]|[\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3]|[\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6]|[\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A]|[\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081]|[\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D]|[\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0]|[\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310]|[\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C]|[\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711]|[\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7]|[\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C]|[\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16]|[\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF]|[\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC]|[\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D]|[\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D]|[\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3]|[\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F]|[\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128]|[\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184]|[\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3]|[\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6]|[\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE]|[\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C]|[\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D]|[\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC]|[\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B]|[\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788]|[\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805]|[\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB]|[\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28]|[\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5]|[\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4]|[\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E]|[\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D]|[\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36]|[\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D]|[\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC]|[\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF]|[\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC])/,/^(?:\\|)/,/^(?:\\()/,/^(?:\\))/,/^(?:\\[)/,/^(?:\\])/,/^(?:\\{)/,/^(?:\\})/,/^(?:\")/,/^(?:(\\r?\\n)+)/,/^(?:\\s)/,/^(?:$)/],\nconditions: {\"close_directive\":{\"rules\":[],\"inclusive\":false},\"arg_directive\":{\"rules\":[3,4],\"inclusive\":false},\"type_directive\":{\"rules\":[2,3],\"inclusive\":false},\"open_directive\":{\"rules\":[1],\"inclusive\":false},\"callbackargs\":{\"rules\":[23,24],\"inclusive\":false},\"callbackname\":{\"rules\":[20,21,22],\"inclusive\":false},\"href\":{\"rules\":[17,18],\"inclusive\":false},\"click\":{\"rules\":[26,27],\"inclusive\":false},\"vertex\":{\"rules\":[],\"inclusive\":false},\"dir\":{\"rules\":[36,37,38,39,40,41,42,43,44,45,46],\"inclusive\":false},\"string\":{\"rules\":[8,9],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,5,6,7,10,11,12,13,14,15,16,19,25,28,29,30,31,32,33,34,35,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,3],$V1=[1,5],$V2=[7,9,11,12,13,14,15,16,17,18,19,21,28,33],$V3=[1,15],$V4=[1,16],$V5=[1,17],$V6=[1,18],$V7=[1,19],$V8=[1,20],$V9=[1,21],$Va=[1,22],$Vb=[1,24],$Vc=[1,26],$Vd=[1,29],$Ve=[5,7,9,11,12,13,14,15,16,17,18,19,21,28,33];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"directive\":4,\"gantt\":5,\"document\":6,\"EOF\":7,\"line\":8,\"SPACE\":9,\"statement\":10,\"NL\":11,\"dateFormat\":12,\"inclusiveEndDates\":13,\"topAxis\":14,\"axisFormat\":15,\"excludes\":16,\"todayMarker\":17,\"title\":18,\"section\":19,\"clickStatement\":20,\"taskTxt\":21,\"taskData\":22,\"openDirective\":23,\"typeDirective\":24,\"closeDirective\":25,\":\":26,\"argDirective\":27,\"click\":28,\"callbackname\":29,\"callbackargs\":30,\"href\":31,\"clickStatementDebug\":32,\"open_directive\":33,\"type_directive\":34,\"arg_directive\":35,\"close_directive\":36,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",5:\"gantt\",7:\"EOF\",9:\"SPACE\",11:\"NL\",12:\"dateFormat\",13:\"inclusiveEndDates\",14:\"topAxis\",15:\"axisFormat\",16:\"excludes\",17:\"todayMarker\",18:\"title\",19:\"section\",21:\"taskTxt\",22:\"taskData\",26:\":\",28:\"click\",29:\"callbackname\",30:\"callbackargs\",31:\"href\",33:\"open_directive\",34:\"type_directive\",35:\"arg_directive\",36:\"close_directive\"},\nproductions_: [0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[20,2],[20,3],[20,3],[20,4],[20,3],[20,4],[20,2],[32,2],[32,3],[32,3],[32,4],[32,3],[32,4],[32,2],[23,1],[24,1],[27,1],[25,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 2:\n return $$[$0-1]; \nbreak;\ncase 3:\n this.$ = [] \nbreak;\ncase 4:\n$$[$0-1].push($$[$0]);this.$ = $$[$0-1]\nbreak;\ncase 5: case 6:\n this.$ = $$[$0] \nbreak;\ncase 7: case 8:\n this.$=[];\nbreak;\ncase 9:\nyy.setDateFormat($$[$0].substr(11));this.$=$$[$0].substr(11);\nbreak;\ncase 10:\nyy.enableInclusiveEndDates();this.$=$$[$0].substr(18);\nbreak;\ncase 11:\nyy.TopAxis();this.$=$$[$0].substr(8);\nbreak;\ncase 12:\nyy.setAxisFormat($$[$0].substr(11));this.$=$$[$0].substr(11);\nbreak;\ncase 13:\nyy.setExcludes($$[$0].substr(9));this.$=$$[$0].substr(9);\nbreak;\ncase 14:\nyy.setTodayMarker($$[$0].substr(12));this.$=$$[$0].substr(12);\nbreak;\ncase 15:\nyy.setTitle($$[$0].substr(6));this.$=$$[$0].substr(6);\nbreak;\ncase 16:\nyy.addSection($$[$0].substr(8));this.$=$$[$0].substr(8);\nbreak;\ncase 18:\nyy.addTask($$[$0-1],$$[$0]);this.$='task';\nbreak;\ncase 22:\nthis.$ = $$[$0-1];yy.setClickEvent($$[$0-1], $$[$0], null);\nbreak;\ncase 23:\nthis.$ = $$[$0-2];yy.setClickEvent($$[$0-2], $$[$0-1], $$[$0]);\nbreak;\ncase 24:\nthis.$ = $$[$0-2];yy.setClickEvent($$[$0-2], $$[$0-1], null);yy.setLink($$[$0-2],$$[$0]);\nbreak;\ncase 25:\nthis.$ = $$[$0-3];yy.setClickEvent($$[$0-3], $$[$0-2], $$[$0-1]);yy.setLink($$[$0-3],$$[$0]);\nbreak;\ncase 26:\nthis.$ = $$[$0-2];yy.setClickEvent($$[$0-2], $$[$0], null);yy.setLink($$[$0-2],$$[$0-1]);\nbreak;\ncase 27:\nthis.$ = $$[$0-3];yy.setClickEvent($$[$0-3], $$[$0-1], $$[$0]);yy.setLink($$[$0-3],$$[$0-2]);\nbreak;\ncase 28:\nthis.$ = $$[$0-1];yy.setLink($$[$0-1], $$[$0]);\nbreak;\ncase 29: case 35:\nthis.$=$$[$0-1] + ' ' + $$[$0];\nbreak;\ncase 30: case 31: case 33:\nthis.$=$$[$0-2] + ' ' + $$[$0-1] + ' ' + $$[$0];\nbreak;\ncase 32: case 34:\nthis.$=$$[$0-3] + ' ' + $$[$0-2] + ' ' + $$[$0-1] + ' ' + $$[$0];\nbreak;\ncase 36:\n yy.parseDirective('%%{', 'open_directive'); \nbreak;\ncase 37:\n yy.parseDirective($$[$0], 'type_directive'); \nbreak;\ncase 38:\n $$[$0] = $$[$0].trim().replace(/'/g, '\"'); yy.parseDirective($$[$0], 'arg_directive'); \nbreak;\ncase 39:\n yy.parseDirective('}%%', 'close_directive', 'gantt'); \nbreak;\n}\n},\ntable: [{3:1,4:2,5:$V0,23:4,33:$V1},{1:[3]},{3:6,4:2,5:$V0,23:4,33:$V1},o($V2,[2,3],{6:7}),{24:8,34:[1,9]},{34:[2,36]},{1:[2,1]},{4:25,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,17:$V8,18:$V9,19:$Va,20:23,21:$Vb,23:4,28:$Vc,33:$V1},{25:27,26:[1,28],36:$Vd},o([26,36],[2,37]),o($V2,[2,8],{1:[2,2]}),o($V2,[2,4]),{4:25,10:30,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,17:$V8,18:$V9,19:$Va,20:23,21:$Vb,23:4,28:$Vc,33:$V1},o($V2,[2,6]),o($V2,[2,7]),o($V2,[2,9]),o($V2,[2,10]),o($V2,[2,11]),o($V2,[2,12]),o($V2,[2,13]),o($V2,[2,14]),o($V2,[2,15]),o($V2,[2,16]),o($V2,[2,17]),{22:[1,31]},o($V2,[2,19]),{29:[1,32],31:[1,33]},{11:[1,34]},{27:35,35:[1,36]},{11:[2,39]},o($V2,[2,5]),o($V2,[2,18]),o($V2,[2,22],{30:[1,37],31:[1,38]}),o($V2,[2,28],{29:[1,39]}),o($Ve,[2,20]),{25:40,36:$Vd},{36:[2,38]},o($V2,[2,23],{31:[1,41]}),o($V2,[2,24]),o($V2,[2,26],{30:[1,42]}),{11:[1,43]},o($V2,[2,25]),o($V2,[2,27]),o($Ve,[2,21])],\ndefaultActions: {5:[2,36],6:[2,1],29:[2,39],36:[2,38]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\r\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0: this.begin('open_directive'); return 33; \nbreak;\ncase 1: this.begin('type_directive'); return 34; \nbreak;\ncase 2: this.popState(); this.begin('arg_directive'); return 26; \nbreak;\ncase 3: this.popState(); this.popState(); return 36; \nbreak;\ncase 4:return 35;\nbreak;\ncase 5:/* skip comments */\nbreak;\ncase 6:/* skip comments */\nbreak;\ncase 7:/* do nothing */\nbreak;\ncase 8:return 11;\nbreak;\ncase 9:/* skip whitespace */\nbreak;\ncase 10:/* skip comments */\nbreak;\ncase 11:/* skip comments */\nbreak;\ncase 12:this.begin(\"href\");\nbreak;\ncase 13:this.popState();\nbreak;\ncase 14:return 31;\nbreak;\ncase 15:this.begin(\"callbackname\");\nbreak;\ncase 16:this.popState();\nbreak;\ncase 17:this.popState(); this.begin(\"callbackargs\");\nbreak;\ncase 18:return 29;\nbreak;\ncase 19:this.popState();\nbreak;\ncase 20:return 30;\nbreak;\ncase 21:this.begin(\"click\");\nbreak;\ncase 22:this.popState();\nbreak;\ncase 23:return 28;\nbreak;\ncase 24:return 5;\nbreak;\ncase 25:return 12;\nbreak;\ncase 26:return 13;\nbreak;\ncase 27:return 14;\nbreak;\ncase 28:return 15;\nbreak;\ncase 29:return 16;\nbreak;\ncase 30:return 17;\nbreak;\ncase 31:return 'date';\nbreak;\ncase 32:return 18;\nbreak;\ncase 33:return 19;\nbreak;\ncase 34:return 21;\nbreak;\ncase 35:return 22;\nbreak;\ncase 36:return 26;\nbreak;\ncase 37:return 7;\nbreak;\ncase 38:return 'INVALID';\nbreak;\n}\n},\nrules: [/^(?:%%\\{)/i,/^(?:((?:(?!\\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\\}%%)/i,/^(?:((?:(?!\\}%%).|\\n)*))/i,/^(?:%%(?!\\{)*[^\\n]*)/i,/^(?:[^\\}]%%*[^\\n]*)/i,/^(?:%%*[^\\n]*[\\n]*)/i,/^(?:[\\n]+)/i,/^(?:\\s+)/i,/^(?:#[^\\n]*)/i,/^(?:%[^\\n]*)/i,/^(?:href[\\s]+[\"])/i,/^(?:[\"])/i,/^(?:[^\"]*)/i,/^(?:call[\\s]+)/i,/^(?:\\([\\s]*\\))/i,/^(?:\\()/i,/^(?:[^(]*)/i,/^(?:\\))/i,/^(?:[^)]*)/i,/^(?:click[\\s]+)/i,/^(?:[\\s\\n])/i,/^(?:[^\\s\\n]*)/i,/^(?:gantt\\b)/i,/^(?:dateFormat\\s[^#\\n;]+)/i,/^(?:inclusiveEndDates\\b)/i,/^(?:topAxis\\b)/i,/^(?:axisFormat\\s[^#\\n;]+)/i,/^(?:excludes\\s[^#\\n;]+)/i,/^(?:todayMarker\\s[^\\n;]+)/i,/^(?:\\d\\d\\d\\d-\\d\\d-\\d\\d\\b)/i,/^(?:title\\s[^#\\n;]+)/i,/^(?:section\\s[^#:\\n;]+)/i,/^(?:[^#:\\n;]+)/i,/^(?::[^#\\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],\nconditions: {\"close_directive\":{\"rules\":[],\"inclusive\":false},\"arg_directive\":{\"rules\":[3,4],\"inclusive\":false},\"type_directive\":{\"rules\":[2,3],\"inclusive\":false},\"open_directive\":{\"rules\":[1],\"inclusive\":false},\"callbackargs\":{\"rules\":[19,20],\"inclusive\":false},\"callbackname\":{\"rules\":[16,17,18],\"inclusive\":false},\"href\":{\"rules\":[13,14],\"inclusive\":false},\"click\":{\"rules\":[22,23],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,5,6,7,8,9,10,11,12,15,21,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[2,3],$V1=[1,7],$V2=[7,12,15,17,19,20,21],$V3=[7,11,12,15,17,19,20,21],$V4=[2,20],$V5=[1,32];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"GG\":4,\":\":5,\"document\":6,\"EOF\":7,\"DIR\":8,\"options\":9,\"body\":10,\"OPT\":11,\"NL\":12,\"line\":13,\"statement\":14,\"COMMIT\":15,\"commit_arg\":16,\"BRANCH\":17,\"ID\":18,\"CHECKOUT\":19,\"MERGE\":20,\"RESET\":21,\"reset_arg\":22,\"STR\":23,\"HEAD\":24,\"reset_parents\":25,\"CARET\":26,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",4:\"GG\",5:\":\",7:\"EOF\",8:\"DIR\",11:\"OPT\",12:\"NL\",15:\"COMMIT\",17:\"BRANCH\",18:\"ID\",19:\"CHECKOUT\",20:\"MERGE\",21:\"RESET\",23:\"STR\",24:\"HEAD\",26:\"CARET\"},\nproductions_: [0,[3,4],[3,5],[6,0],[6,2],[9,2],[9,1],[10,0],[10,2],[13,2],[13,1],[14,2],[14,2],[14,2],[14,2],[14,2],[16,0],[16,1],[22,2],[22,2],[25,0],[25,2]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 1:\n return $$[$0-1]; \nbreak;\ncase 2:\nyy.setDirection($$[$0-3]); return $$[$0-1];\nbreak;\ncase 4:\n yy.setOptions($$[$0-1]); this.$ = $$[$0]\nbreak;\ncase 5:\n$$[$0-1] +=$$[$0]; this.$=$$[$0-1]\nbreak;\ncase 7:\nthis.$ = []\nbreak;\ncase 8:\n$$[$0-1].push($$[$0]); this.$=$$[$0-1];\nbreak;\ncase 9:\nthis.$ =$$[$0-1]\nbreak;\ncase 11:\nyy.commit($$[$0])\nbreak;\ncase 12:\nyy.branch($$[$0])\nbreak;\ncase 13:\nyy.checkout($$[$0])\nbreak;\ncase 14:\nyy.merge($$[$0])\nbreak;\ncase 15:\nyy.reset($$[$0])\nbreak;\ncase 16:\nthis.$ = \"\"\nbreak;\ncase 17:\nthis.$=$$[$0]\nbreak;\ncase 18:\nthis.$ = $$[$0-1]+ \":\" + $$[$0] \nbreak;\ncase 19:\nthis.$ = $$[$0-1]+ \":\"  + yy.count; yy.count = 0\nbreak;\ncase 20:\nyy.count = 0\nbreak;\ncase 21:\n yy.count += 1 \nbreak;\n}\n},\ntable: [{3:1,4:[1,2]},{1:[3]},{5:[1,3],8:[1,4]},{6:5,7:$V0,9:6,12:$V1},{5:[1,8]},{7:[1,9]},o($V2,[2,7],{10:10,11:[1,11]}),o($V3,[2,6]),{6:12,7:$V0,9:6,12:$V1},{1:[2,1]},{7:[2,4],12:[1,15],13:13,14:14,15:[1,16],17:[1,17],19:[1,18],20:[1,19],21:[1,20]},o($V3,[2,5]),{7:[1,21]},o($V2,[2,8]),{12:[1,22]},o($V2,[2,10]),{12:[2,16],16:23,23:[1,24]},{18:[1,25]},{18:[1,26]},{18:[1,27]},{18:[1,30],22:28,24:[1,29]},{1:[2,2]},o($V2,[2,9]),{12:[2,11]},{12:[2,17]},{12:[2,12]},{12:[2,13]},{12:[2,14]},{12:[2,15]},{12:$V4,25:31,26:$V5},{12:$V4,25:33,26:$V5},{12:[2,18]},{12:$V4,25:34,26:$V5},{12:[2,19]},{12:[2,21]}],\ndefaultActions: {9:[2,1],21:[2,2],23:[2,11],24:[2,17],25:[2,12],26:[2,13],27:[2,14],28:[2,15],31:[2,18],33:[2,19],34:[2,21]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0:return 12;\nbreak;\ncase 1:/* skip all whitespace */\nbreak;\ncase 2:/* skip comments */\nbreak;\ncase 3:/* skip comments */\nbreak;\ncase 4:return 4;\nbreak;\ncase 5:return 15;\nbreak;\ncase 6:return 17;\nbreak;\ncase 7:return 20;\nbreak;\ncase 8:return 21;\nbreak;\ncase 9:return 19;\nbreak;\ncase 10:return 8;\nbreak;\ncase 11:return 8;\nbreak;\ncase 12:return 5;\nbreak;\ncase 13:return 26\nbreak;\ncase 14:this.begin(\"options\");\nbreak;\ncase 15:this.popState();\nbreak;\ncase 16:return 11;\nbreak;\ncase 17:this.begin(\"string\");\nbreak;\ncase 18:this.popState();\nbreak;\ncase 19:return 23;\nbreak;\ncase 20:return 18;\nbreak;\ncase 21:return 7;\nbreak;\n}\n},\nrules: [/^(?:(\\r?\\n)+)/i,/^(?:\\s+)/i,/^(?:#[^\\n]*)/i,/^(?:%[^\\n]*)/i,/^(?:gitGraph\\b)/i,/^(?:commit\\b)/i,/^(?:branch\\b)/i,/^(?:merge\\b)/i,/^(?:reset\\b)/i,/^(?:checkout\\b)/i,/^(?:LR\\b)/i,/^(?:BT\\b)/i,/^(?::)/i,/^(?:\\^)/i,/^(?:options\\r?\\n)/i,/^(?:end\\r?\\n)/i,/^(?:[^\\n]+\\r?\\n)/i,/^(?:[\"])/i,/^(?:[\"])/i,/^(?:[^\"]*)/i,/^(?:[a-zA-Z][-_\\.a-zA-Z0-9]*[-_a-zA-Z0-9])/i,/^(?:$)/i],\nconditions: {\"options\":{\"rules\":[15,16],\"inclusive\":false},\"string\":{\"rules\":[18,19],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,17,20,21],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[6,9,10];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"info\":4,\"document\":5,\"EOF\":6,\"line\":7,\"statement\":8,\"NL\":9,\"showInfo\":10,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",4:\"info\",6:\"EOF\",9:\"NL\",10:\"showInfo\"},\nproductions_: [0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 1:\n return yy; \nbreak;\ncase 4:\n \nbreak;\ncase 6:\n yy.setInfo(true);  \nbreak;\n}\n},\ntable: [{3:1,4:[1,2]},{1:[3]},o($V0,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},o($V0,[2,3]),o($V0,[2,4]),o($V0,[2,5]),o($V0,[2,6])],\ndefaultActions: {4:[2,1]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\r\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\r\n\t// Pre-lexer code can go here\r\n\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0:return 4    ;\nbreak;\ncase 1:return 9      ;\nbreak;\ncase 2:return 'space';\nbreak;\ncase 3:return 10;\nbreak;\ncase 4:return 6     ;\nbreak;\ncase 5:return 'TXT' ;\nbreak;\n}\n},\nrules: [/^(?:info\\b)/i,/^(?:[\\s\\n\\r]+)/i,/^(?:[\\s]+)/i,/^(?:showInfo\\b)/i,/^(?:$)/i,/^(?:.)/i],\nconditions: {\"INITIAL\":{\"rules\":[0,1,2,3,4,5],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,4],$V1=[1,5],$V2=[1,6],$V3=[1,7],$V4=[1,9],$V5=[1,11,13,20,21,22,23],$V6=[2,5],$V7=[1,6,11,13,20,21,22,23],$V8=[20,21,22],$V9=[2,8],$Va=[1,18],$Vb=[1,19],$Vc=[1,24],$Vd=[6,20,21,22,23];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"eol\":4,\"directive\":5,\"PIE\":6,\"document\":7,\"showData\":8,\"line\":9,\"statement\":10,\"txt\":11,\"value\":12,\"title\":13,\"title_value\":14,\"openDirective\":15,\"typeDirective\":16,\"closeDirective\":17,\":\":18,\"argDirective\":19,\"NEWLINE\":20,\";\":21,\"EOF\":22,\"open_directive\":23,\"type_directive\":24,\"arg_directive\":25,\"close_directive\":26,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",6:\"PIE\",8:\"showData\",11:\"txt\",12:\"value\",13:\"title\",14:\"title_value\",18:\":\",20:\"NEWLINE\",21:\";\",22:\"EOF\",23:\"open_directive\",24:\"type_directive\",25:\"arg_directive\",26:\"close_directive\"},\nproductions_: [0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[15,1],[16,1],[19,1],[17,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 4:\nyy.setShowData(true);\nbreak;\ncase 7:\n this.$ = $$[$0-1] \nbreak;\ncase 9:\n yy.addSection($$[$0-1],yy.cleanupValue($$[$0])); \nbreak;\ncase 10:\n this.$=$$[$0].trim();yy.setTitle(this.$); \nbreak;\ncase 17:\n yy.parseDirective('%%{', 'open_directive'); \nbreak;\ncase 18:\n yy.parseDirective($$[$0], 'type_directive'); \nbreak;\ncase 19:\n $$[$0] = $$[$0].trim().replace(/'/g, '\"'); yy.parseDirective($$[$0], 'arg_directive'); \nbreak;\ncase 20:\n yy.parseDirective('}%%', 'close_directive', 'pie'); \nbreak;\n}\n},\ntable: [{3:1,4:2,5:3,6:$V0,15:8,20:$V1,21:$V2,22:$V3,23:$V4},{1:[3]},{3:10,4:2,5:3,6:$V0,15:8,20:$V1,21:$V2,22:$V3,23:$V4},{3:11,4:2,5:3,6:$V0,15:8,20:$V1,21:$V2,22:$V3,23:$V4},o($V5,$V6,{7:12,8:[1,13]}),o($V7,[2,14]),o($V7,[2,15]),o($V7,[2,16]),{16:14,24:[1,15]},{24:[2,17]},{1:[2,1]},{1:[2,2]},o($V8,$V9,{15:8,9:16,10:17,5:20,1:[2,3],11:$Va,13:$Vb,23:$V4}),o($V5,$V6,{7:21}),{17:22,18:[1,23],26:$Vc},o([18,26],[2,18]),o($V5,[2,6]),{4:25,20:$V1,21:$V2,22:$V3},{12:[1,26]},{14:[1,27]},o($V8,[2,11]),o($V8,$V9,{15:8,9:16,10:17,5:20,1:[2,4],11:$Va,13:$Vb,23:$V4}),o($Vd,[2,12]),{19:28,25:[1,29]},o($Vd,[2,20]),o($V5,[2,7]),o($V8,[2,9]),o($V8,[2,10]),{17:30,26:$Vc},{26:[2,19]},o($Vd,[2,13])],\ndefaultActions: {9:[2,17],10:[2,1],11:[2,2],29:[2,19]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\r\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0: this.begin('open_directive'); return 23; \nbreak;\ncase 1: this.begin('type_directive'); return 24; \nbreak;\ncase 2: this.popState(); this.begin('arg_directive'); return 18; \nbreak;\ncase 3: this.popState(); this.popState(); return 26; \nbreak;\ncase 4:return 25;\nbreak;\ncase 5:/* skip comments */\nbreak;\ncase 6:/* skip comments */{ /*console.log('');*/ }\nbreak;\ncase 7:return 20;\nbreak;\ncase 8:/* do nothing */\nbreak;\ncase 9:/* ignore */\nbreak;\ncase 10: this.begin(\"title\");return 13; \nbreak;\ncase 11: this.popState(); return \"title_value\"; \nbreak;\ncase 12: this.begin(\"string\"); \nbreak;\ncase 13: this.popState(); \nbreak;\ncase 14: return \"txt\"; \nbreak;\ncase 15:return 6;\nbreak;\ncase 16:return 8;\nbreak;\ncase 17:return \"value\";\nbreak;\ncase 18:return 22;\nbreak;\n}\n},\nrules: [/^(?:%%\\{)/i,/^(?:((?:(?!\\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\\}%%)/i,/^(?:((?:(?!\\}%%).|\\n)*))/i,/^(?:%%(?!\\{)[^\\n]*)/i,/^(?:[^\\}]%%[^\\n]*)/i,/^(?:[\\n\\r]+)/i,/^(?:%%[^\\n]*)/i,/^(?:[\\s]+)/i,/^(?:title\\b)/i,/^(?:(?!\\n||)*[^\\n]*)/i,/^(?:[\"])/i,/^(?:[\"])/i,/^(?:[^\"]*)/i,/^(?:pie\\b)/i,/^(?:showData\\b)/i,/^(?::[\\s]*[\\d]+(?:\\.[\\d]+)?)/i,/^(?:$)/i],\nconditions: {\"close_directive\":{\"rules\":[],\"inclusive\":false},\"arg_directive\":{\"rules\":[3,4],\"inclusive\":false},\"type_directive\":{\"rules\":[2,3],\"inclusive\":false},\"open_directive\":{\"rules\":[1],\"inclusive\":false},\"title\":{\"rules\":[11],\"inclusive\":false},\"string\":{\"rules\":[13,14],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,5,6,7,8,9,10,12,15,16,17,18],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,3],$V1=[1,5],$V2=[1,17],$V3=[2,10],$V4=[1,21],$V5=[1,22],$V6=[1,23],$V7=[1,24],$V8=[1,25],$V9=[1,26],$Va=[1,19],$Vb=[1,27],$Vc=[1,28],$Vd=[1,31],$Ve=[66,67],$Vf=[5,8,14,35,36,37,38,39,40,48,55,57,66,67],$Vg=[5,6,8,14,35,36,37,38,39,40,48,66,67],$Vh=[1,51],$Vi=[1,52],$Vj=[1,53],$Vk=[1,54],$Vl=[1,55],$Vm=[1,56],$Vn=[1,57],$Vo=[57,58],$Vp=[1,69],$Vq=[1,65],$Vr=[1,66],$Vs=[1,67],$Vt=[1,68],$Vu=[1,70],$Vv=[1,74],$Vw=[1,75],$Vx=[1,72],$Vy=[1,73],$Vz=[5,8,14,35,36,37,38,39,40,48,66,67];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"directive\":4,\"NEWLINE\":5,\"RD\":6,\"diagram\":7,\"EOF\":8,\"openDirective\":9,\"typeDirective\":10,\"closeDirective\":11,\":\":12,\"argDirective\":13,\"open_directive\":14,\"type_directive\":15,\"arg_directive\":16,\"close_directive\":17,\"requirementDef\":18,\"elementDef\":19,\"relationshipDef\":20,\"requirementType\":21,\"requirementName\":22,\"STRUCT_START\":23,\"requirementBody\":24,\"ID\":25,\"COLONSEP\":26,\"id\":27,\"TEXT\":28,\"text\":29,\"RISK\":30,\"riskLevel\":31,\"VERIFYMTHD\":32,\"verifyType\":33,\"STRUCT_STOP\":34,\"REQUIREMENT\":35,\"FUNCTIONAL_REQUIREMENT\":36,\"INTERFACE_REQUIREMENT\":37,\"PERFORMANCE_REQUIREMENT\":38,\"PHYSICAL_REQUIREMENT\":39,\"DESIGN_CONSTRAINT\":40,\"LOW_RISK\":41,\"MED_RISK\":42,\"HIGH_RISK\":43,\"VERIFY_ANALYSIS\":44,\"VERIFY_DEMONSTRATION\":45,\"VERIFY_INSPECTION\":46,\"VERIFY_TEST\":47,\"ELEMENT\":48,\"elementName\":49,\"elementBody\":50,\"TYPE\":51,\"type\":52,\"DOCREF\":53,\"ref\":54,\"END_ARROW_L\":55,\"relationship\":56,\"LINE\":57,\"END_ARROW_R\":58,\"CONTAINS\":59,\"COPIES\":60,\"DERIVES\":61,\"SATISFIES\":62,\"VERIFIES\":63,\"REFINES\":64,\"TRACES\":65,\"unqString\":66,\"qString\":67,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",5:\"NEWLINE\",6:\"RD\",8:\"EOF\",12:\":\",14:\"open_directive\",15:\"type_directive\",16:\"arg_directive\",17:\"close_directive\",23:\"STRUCT_START\",25:\"ID\",26:\"COLONSEP\",28:\"TEXT\",30:\"RISK\",32:\"VERIFYMTHD\",34:\"STRUCT_STOP\",35:\"REQUIREMENT\",36:\"FUNCTIONAL_REQUIREMENT\",37:\"INTERFACE_REQUIREMENT\",38:\"PERFORMANCE_REQUIREMENT\",39:\"PHYSICAL_REQUIREMENT\",40:\"DESIGN_CONSTRAINT\",41:\"LOW_RISK\",42:\"MED_RISK\",43:\"HIGH_RISK\",44:\"VERIFY_ANALYSIS\",45:\"VERIFY_DEMONSTRATION\",46:\"VERIFY_INSPECTION\",47:\"VERIFY_TEST\",48:\"ELEMENT\",51:\"TYPE\",53:\"DOCREF\",55:\"END_ARROW_L\",57:\"LINE\",58:\"END_ARROW_R\",59:\"CONTAINS\",60:\"COPIES\",61:\"DERIVES\",62:\"SATISFIES\",63:\"VERIFIES\",64:\"REFINES\",65:\"TRACES\",66:\"unqString\",67:\"qString\"},\nproductions_: [0,[3,3],[3,2],[3,4],[4,3],[4,5],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[18,5],[24,5],[24,5],[24,5],[24,5],[24,2],[24,1],[21,1],[21,1],[21,1],[21,1],[21,1],[21,1],[31,1],[31,1],[31,1],[33,1],[33,1],[33,1],[33,1],[19,5],[50,5],[50,5],[50,2],[50,1],[20,5],[20,5],[56,1],[56,1],[56,1],[56,1],[56,1],[56,1],[56,1],[22,1],[22,1],[27,1],[27,1],[29,1],[29,1],[49,1],[49,1],[52,1],[52,1],[54,1],[54,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 6:\n yy.parseDirective('%%{', 'open_directive'); \nbreak;\ncase 7:\n yy.parseDirective($$[$0], 'type_directive'); \nbreak;\ncase 8:\n $$[$0] = $$[$0].trim().replace(/'/g, '\"'); yy.parseDirective($$[$0], 'arg_directive'); \nbreak;\ncase 9:\n yy.parseDirective('}%%', 'close_directive', 'pie'); \nbreak;\ncase 10:\n this.$ = [] \nbreak;\ncase 16:\n yy.addRequirement($$[$0-3], $$[$0-4]) \nbreak;\ncase 17:\n yy.setNewReqId($$[$0-2]); \nbreak;\ncase 18:\n yy.setNewReqText($$[$0-2]); \nbreak;\ncase 19:\n yy.setNewReqRisk($$[$0-2]); \nbreak;\ncase 20:\n yy.setNewReqVerifyMethod($$[$0-2]); \nbreak;\ncase 23:\n this.$=yy.RequirementType.REQUIREMENT;\nbreak;\ncase 24:\n this.$=yy.RequirementType.FUNCTIONAL_REQUIREMENT;\nbreak;\ncase 25:\n this.$=yy.RequirementType.INTERFACE_REQUIREMENT;\nbreak;\ncase 26:\n this.$=yy.RequirementType.PERFORMANCE_REQUIREMENT;\nbreak;\ncase 27:\n this.$=yy.RequirementType.PHYSICAL_REQUIREMENT;\nbreak;\ncase 28:\n this.$=yy.RequirementType.DESIGN_CONSTRAINT;\nbreak;\ncase 29:\n this.$=yy.RiskLevel.LOW_RISK;\nbreak;\ncase 30:\n this.$=yy.RiskLevel.MED_RISK;\nbreak;\ncase 31:\n this.$=yy.RiskLevel.HIGH_RISK;\nbreak;\ncase 32:\n this.$=yy.VerifyType.VERIFY_ANALYSIS;\nbreak;\ncase 33:\n this.$=yy.VerifyType.VERIFY_DEMONSTRATION;\nbreak;\ncase 34:\n this.$=yy.VerifyType.VERIFY_INSPECTION;\nbreak;\ncase 35:\n this.$=yy.VerifyType.VERIFY_TEST;\nbreak;\ncase 36:\n yy.addElement($$[$0-3]) \nbreak;\ncase 37:\n yy.setNewElementType($$[$0-2]); \nbreak;\ncase 38:\n yy.setNewElementDocRef($$[$0-2]); \nbreak;\ncase 41:\n  yy.addRelationship($$[$0-2], $$[$0], $$[$0-4]) \nbreak;\ncase 42:\n yy.addRelationship($$[$0-2], $$[$0-4], $$[$0]) \nbreak;\ncase 43:\n this.$=yy.Relationships.CONTAINS;\nbreak;\ncase 44:\n this.$=yy.Relationships.COPIES;\nbreak;\ncase 45:\n this.$=yy.Relationships.DERIVES;\nbreak;\ncase 46:\n this.$=yy.Relationships.SATISFIES;\nbreak;\ncase 47:\n this.$=yy.Relationships.VERIFIES;\nbreak;\ncase 48:\n this.$=yy.Relationships.REFINES;\nbreak;\ncase 49:\n this.$=yy.Relationships.TRACES;\nbreak;\n}\n},\ntable: [{3:1,4:2,6:$V0,9:4,14:$V1},{1:[3]},{3:7,4:2,5:[1,6],6:$V0,9:4,14:$V1},{5:[1,8]},{10:9,15:[1,10]},{15:[2,6]},{3:11,4:2,6:$V0,9:4,14:$V1},{1:[2,2]},{4:16,5:$V2,7:12,8:$V3,9:4,14:$V1,18:13,19:14,20:15,21:18,27:20,35:$V4,36:$V5,37:$V6,38:$V7,39:$V8,40:$V9,48:$Va,66:$Vb,67:$Vc},{11:29,12:[1,30],17:$Vd},o([12,17],[2,7]),{1:[2,1]},{8:[1,32]},{4:16,5:$V2,7:33,8:$V3,9:4,14:$V1,18:13,19:14,20:15,21:18,27:20,35:$V4,36:$V5,37:$V6,38:$V7,39:$V8,40:$V9,48:$Va,66:$Vb,67:$Vc},{4:16,5:$V2,7:34,8:$V3,9:4,14:$V1,18:13,19:14,20:15,21:18,27:20,35:$V4,36:$V5,37:$V6,38:$V7,39:$V8,40:$V9,48:$Va,66:$Vb,67:$Vc},{4:16,5:$V2,7:35,8:$V3,9:4,14:$V1,18:13,19:14,20:15,21:18,27:20,35:$V4,36:$V5,37:$V6,38:$V7,39:$V8,40:$V9,48:$Va,66:$Vb,67:$Vc},{4:16,5:$V2,7:36,8:$V3,9:4,14:$V1,18:13,19:14,20:15,21:18,27:20,35:$V4,36:$V5,37:$V6,38:$V7,39:$V8,40:$V9,48:$Va,66:$Vb,67:$Vc},{4:16,5:$V2,7:37,8:$V3,9:4,14:$V1,18:13,19:14,20:15,21:18,27:20,35:$V4,36:$V5,37:$V6,38:$V7,39:$V8,40:$V9,48:$Va,66:$Vb,67:$Vc},{22:38,66:[1,39],67:[1,40]},{49:41,66:[1,42],67:[1,43]},{55:[1,44],57:[1,45]},o($Ve,[2,23]),o($Ve,[2,24]),o($Ve,[2,25]),o($Ve,[2,26]),o($Ve,[2,27]),o($Ve,[2,28]),o($Vf,[2,52]),o($Vf,[2,53]),o($Vg,[2,4]),{13:46,16:[1,47]},o($Vg,[2,9]),{1:[2,3]},{8:[2,11]},{8:[2,12]},{8:[2,13]},{8:[2,14]},{8:[2,15]},{23:[1,48]},{23:[2,50]},{23:[2,51]},{23:[1,49]},{23:[2,56]},{23:[2,57]},{56:50,59:$Vh,60:$Vi,61:$Vj,62:$Vk,63:$Vl,64:$Vm,65:$Vn},{56:58,59:$Vh,60:$Vi,61:$Vj,62:$Vk,63:$Vl,64:$Vm,65:$Vn},{11:59,17:$Vd},{17:[2,8]},{5:[1,60]},{5:[1,61]},{57:[1,62]},o($Vo,[2,43]),o($Vo,[2,44]),o($Vo,[2,45]),o($Vo,[2,46]),o($Vo,[2,47]),o($Vo,[2,48]),o($Vo,[2,49]),{58:[1,63]},o($Vg,[2,5]),{5:$Vp,24:64,25:$Vq,28:$Vr,30:$Vs,32:$Vt,34:$Vu},{5:$Vv,34:$Vw,50:71,51:$Vx,53:$Vy},{27:76,66:$Vb,67:$Vc},{27:77,66:$Vb,67:$Vc},o($Vz,[2,16]),{26:[1,78]},{26:[1,79]},{26:[1,80]},{26:[1,81]},{5:$Vp,24:82,25:$Vq,28:$Vr,30:$Vs,32:$Vt,34:$Vu},o($Vz,[2,22]),o($Vz,[2,36]),{26:[1,83]},{26:[1,84]},{5:$Vv,34:$Vw,50:85,51:$Vx,53:$Vy},o($Vz,[2,40]),o($Vz,[2,41]),o($Vz,[2,42]),{27:86,66:$Vb,67:$Vc},{29:87,66:[1,88],67:[1,89]},{31:90,41:[1,91],42:[1,92],43:[1,93]},{33:94,44:[1,95],45:[1,96],46:[1,97],47:[1,98]},o($Vz,[2,21]),{52:99,66:[1,100],67:[1,101]},{54:102,66:[1,103],67:[1,104]},o($Vz,[2,39]),{5:[1,105]},{5:[1,106]},{5:[2,54]},{5:[2,55]},{5:[1,107]},{5:[2,29]},{5:[2,30]},{5:[2,31]},{5:[1,108]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[2,35]},{5:[1,109]},{5:[2,58]},{5:[2,59]},{5:[1,110]},{5:[2,60]},{5:[2,61]},{5:$Vp,24:111,25:$Vq,28:$Vr,30:$Vs,32:$Vt,34:$Vu},{5:$Vp,24:112,25:$Vq,28:$Vr,30:$Vs,32:$Vt,34:$Vu},{5:$Vp,24:113,25:$Vq,28:$Vr,30:$Vs,32:$Vt,34:$Vu},{5:$Vp,24:114,25:$Vq,28:$Vr,30:$Vs,32:$Vt,34:$Vu},{5:$Vv,34:$Vw,50:115,51:$Vx,53:$Vy},{5:$Vv,34:$Vw,50:116,51:$Vx,53:$Vy},o($Vz,[2,17]),o($Vz,[2,18]),o($Vz,[2,19]),o($Vz,[2,20]),o($Vz,[2,37]),o($Vz,[2,38])],\ndefaultActions: {5:[2,6],7:[2,2],11:[2,1],32:[2,3],33:[2,11],34:[2,12],35:[2,13],36:[2,14],37:[2,15],39:[2,50],40:[2,51],42:[2,56],43:[2,57],47:[2,8],88:[2,54],89:[2,55],91:[2,29],92:[2,30],93:[2,31],95:[2,32],96:[2,33],97:[2,34],98:[2,35],100:[2,58],101:[2,59],103:[2,60],104:[2,61]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\r\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0: this.begin('open_directive'); return 14; \nbreak;\ncase 1: this.begin('type_directive'); return 15; \nbreak;\ncase 2: this.popState(); this.begin('arg_directive'); return 12; \nbreak;\ncase 3: this.popState(); this.popState(); return 17; \nbreak;\ncase 4:return 16;\nbreak;\ncase 5:return 5;\nbreak;\ncase 6:/* skip all whitespace */\nbreak;\ncase 7:/* skip comments */\nbreak;\ncase 8:/* skip comments */\nbreak;\ncase 9:return 8;\nbreak;\ncase 10:return 6;\nbreak;\ncase 11:return 23;\nbreak;\ncase 12:return 34;\nbreak;\ncase 13:return 26;\nbreak;\ncase 14:return 25;\nbreak;\ncase 15:return 28;\nbreak;\ncase 16:return 30;\nbreak;\ncase 17:return 32;\nbreak;\ncase 18:return 35;\nbreak;\ncase 19:return 36;\nbreak;\ncase 20:return 37;\nbreak;\ncase 21:return 38;\nbreak;\ncase 22:return 39;\nbreak;\ncase 23:return 40;\nbreak;\ncase 24:return 41;\nbreak;\ncase 25:return 42;\nbreak;\ncase 26:return 43;\nbreak;\ncase 27:return 44;\nbreak;\ncase 28:return 45;\nbreak;\ncase 29:return 46;\nbreak;\ncase 30:return 47;\nbreak;\ncase 31:return 48;\nbreak;\ncase 32:return 59;\nbreak;\ncase 33:return 60;\nbreak;\ncase 34:return 61;\nbreak;\ncase 35:return 62;\nbreak;\ncase 36:return 63;\nbreak;\ncase 37:return 64;\nbreak;\ncase 38:return 65;\nbreak;\ncase 39:return 51;\nbreak;\ncase 40:return 53;\nbreak;\ncase 41:return 55;\nbreak;\ncase 42:return 58;\nbreak;\ncase 43:return 57;\nbreak;\ncase 44: this.begin(\"string\"); \nbreak;\ncase 45: this.popState(); \nbreak;\ncase 46: return \"qString\"; \nbreak;\ncase 47: yy_.yytext = yy_.yytext.trim(); return 66;\nbreak;\n}\n},\nrules: [/^(?:%%\\{)/i,/^(?:((?:(?!\\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\\}%%)/i,/^(?:((?:(?!\\}%%).|\\n)*))/i,/^(?:(\\r?\\n)+)/i,/^(?:\\s+)/i,/^(?:#[^\\n]*)/i,/^(?:%[^\\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\\b)/i,/^(?:\\{)/i,/^(?:\\})/i,/^(?::)/i,/^(?:id\\b)/i,/^(?:text\\b)/i,/^(?:risk\\b)/i,/^(?:verifyMethod\\b)/i,/^(?:requirement\\b)/i,/^(?:functionalRequirement\\b)/i,/^(?:interfaceRequirement\\b)/i,/^(?:performanceRequirement\\b)/i,/^(?:physicalRequirement\\b)/i,/^(?:designConstraint\\b)/i,/^(?:low\\b)/i,/^(?:medium\\b)/i,/^(?:high\\b)/i,/^(?:analysis\\b)/i,/^(?:demonstration\\b)/i,/^(?:inspection\\b)/i,/^(?:test\\b)/i,/^(?:element\\b)/i,/^(?:contains\\b)/i,/^(?:copies\\b)/i,/^(?:derives\\b)/i,/^(?:satisfies\\b)/i,/^(?:verifies\\b)/i,/^(?:refines\\b)/i,/^(?:traces\\b)/i,/^(?:type\\b)/i,/^(?:docref\\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:[\"])/i,/^(?:[\"])/i,/^(?:[^\"]*)/i,/^(?:[\\w][^\\r\\n\\{\\<\\>\\-\\=]*)/i],\nconditions: {\"close_directive\":{\"rules\":[],\"inclusive\":false},\"arg_directive\":{\"rules\":[3,4],\"inclusive\":false},\"type_directive\":{\"rules\":[2,3],\"inclusive\":false},\"open_directive\":{\"rules\":[1],\"inclusive\":false},\"unqString\":{\"rules\":[],\"inclusive\":false},\"token\":{\"rules\":[],\"inclusive\":false},\"string\":{\"rules\":[45,46],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,47],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,2],$V1=[1,3],$V2=[1,5],$V3=[1,7],$V4=[2,5],$V5=[1,15],$V6=[1,17],$V7=[1,18],$V8=[1,20],$V9=[1,21],$Va=[1,22],$Vb=[1,24],$Vc=[1,25],$Vd=[1,26],$Ve=[1,27],$Vf=[1,28],$Vg=[1,29],$Vh=[1,32],$Vi=[1,33],$Vj=[1,36],$Vk=[1,4,5,16,21,22,23,25,27,28,29,30,31,33,35,36,37,48,58],$Vl=[1,44],$Vm=[4,5,16,21,22,23,25,27,28,29,30,31,33,37,48,58],$Vn=[4,5,16,21,22,23,25,27,28,29,30,31,33,36,37,48,58],$Vo=[4,5,16,21,22,23,25,27,28,29,30,31,33,35,37,48,58],$Vp=[46,47,48],$Vq=[1,4,5,7,16,21,22,23,25,27,28,29,30,31,33,35,36,37,48,58];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"SPACE\":4,\"NEWLINE\":5,\"directive\":6,\"SD\":7,\"document\":8,\"line\":9,\"statement\":10,\"openDirective\":11,\"typeDirective\":12,\"closeDirective\":13,\":\":14,\"argDirective\":15,\"participant\":16,\"actor\":17,\"AS\":18,\"restOfLine\":19,\"signal\":20,\"autonumber\":21,\"activate\":22,\"deactivate\":23,\"note_statement\":24,\"title\":25,\"text2\":26,\"loop\":27,\"end\":28,\"rect\":29,\"opt\":30,\"alt\":31,\"else_sections\":32,\"par\":33,\"par_sections\":34,\"and\":35,\"else\":36,\"note\":37,\"placement\":38,\"over\":39,\"actor_pair\":40,\"spaceList\":41,\",\":42,\"left_of\":43,\"right_of\":44,\"signaltype\":45,\"+\":46,\"-\":47,\"ACTOR\":48,\"SOLID_OPEN_ARROW\":49,\"DOTTED_OPEN_ARROW\":50,\"SOLID_ARROW\":51,\"DOTTED_ARROW\":52,\"SOLID_CROSS\":53,\"DOTTED_CROSS\":54,\"SOLID_POINT\":55,\"DOTTED_POINT\":56,\"TXT\":57,\"open_directive\":58,\"type_directive\":59,\"arg_directive\":60,\"close_directive\":61,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",4:\"SPACE\",5:\"NEWLINE\",7:\"SD\",14:\":\",16:\"participant\",18:\"AS\",19:\"restOfLine\",21:\"autonumber\",22:\"activate\",23:\"deactivate\",25:\"title\",27:\"loop\",28:\"end\",29:\"rect\",30:\"opt\",31:\"alt\",33:\"par\",35:\"and\",36:\"else\",37:\"note\",39:\"over\",42:\",\",43:\"left_of\",44:\"right_of\",46:\"+\",47:\"-\",48:\"ACTOR\",49:\"SOLID_OPEN_ARROW\",50:\"DOTTED_OPEN_ARROW\",51:\"SOLID_ARROW\",52:\"DOTTED_ARROW\",53:\"SOLID_CROSS\",54:\"DOTTED_CROSS\",55:\"SOLID_POINT\",56:\"DOTTED_POINT\",57:\"TXT\",58:\"open_directive\",59:\"type_directive\",60:\"arg_directive\",61:\"close_directive\"},\nproductions_: [0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,2],[10,1],[10,3],[10,3],[10,2],[10,3],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[34,1],[34,4],[32,1],[32,4],[24,4],[24,4],[41,2],[41,1],[40,3],[40,1],[38,1],[38,1],[20,5],[20,5],[20,4],[17,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[26,1],[11,1],[12,1],[15,1],[13,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 4:\n yy.apply($$[$0]);return $$[$0]; \nbreak;\ncase 5:\n this.$ = [] \nbreak;\ncase 6:\n$$[$0-1].push($$[$0]);this.$ = $$[$0-1]\nbreak;\ncase 7: case 8:\n this.$ = $$[$0] \nbreak;\ncase 9:\n this.$=[]; \nbreak;\ncase 12:\n$$[$0-3].description=yy.parseMessage($$[$0-1]); this.$=$$[$0-3];\nbreak;\ncase 13:\nthis.$=$$[$0-1];\nbreak;\ncase 15:\nyy.enableSequenceNumbers()\nbreak;\ncase 16:\nthis.$={type: 'activeStart', signalType: yy.LINETYPE.ACTIVE_START, actor: $$[$0-1]};\nbreak;\ncase 17:\nthis.$={type: 'activeEnd', signalType: yy.LINETYPE.ACTIVE_END, actor: $$[$0-1]};\nbreak;\ncase 19:\nthis.$=[{type:'setTitle', text:$$[$0-1]}]\nbreak;\ncase 20:\n\r\n\t\t$$[$0-1].unshift({type: 'loopStart', loopText:yy.parseMessage($$[$0-2]), signalType: yy.LINETYPE.LOOP_START});\r\n\t\t$$[$0-1].push({type: 'loopEnd', loopText:$$[$0-2], signalType: yy.LINETYPE.LOOP_END});\r\n\t\tthis.$=$$[$0-1];\nbreak;\ncase 21:\n\r\n\t\t$$[$0-1].unshift({type: 'rectStart', color:yy.parseMessage($$[$0-2]), signalType: yy.LINETYPE.RECT_START });\r\n\t\t$$[$0-1].push({type: 'rectEnd', color:yy.parseMessage($$[$0-2]), signalType: yy.LINETYPE.RECT_END });\r\n\t\tthis.$=$$[$0-1];\nbreak;\ncase 22:\n\r\n\t\t$$[$0-1].unshift({type: 'optStart', optText:yy.parseMessage($$[$0-2]), signalType: yy.LINETYPE.OPT_START});\r\n\t\t$$[$0-1].push({type: 'optEnd', optText:yy.parseMessage($$[$0-2]), signalType: yy.LINETYPE.OPT_END});\r\n\t\tthis.$=$$[$0-1];\nbreak;\ncase 23:\n\r\n\t\t// Alt start\r\n\t\t$$[$0-1].unshift({type: 'altStart', altText:yy.parseMessage($$[$0-2]), signalType: yy.LINETYPE.ALT_START});\r\n\t\t// Content in alt is already in $$[$0-1]\r\n\t\t// End\r\n\t\t$$[$0-1].push({type: 'altEnd', signalType: yy.LINETYPE.ALT_END});\r\n\t\tthis.$=$$[$0-1];\nbreak;\ncase 24:\n\r\n\t\t// Parallel start\r\n\t\t$$[$0-1].unshift({type: 'parStart', parText:yy.parseMessage($$[$0-2]), signalType: yy.LINETYPE.PAR_START});\r\n\t\t// Content in par is already in $$[$0-1]\r\n\t\t// End\r\n\t\t$$[$0-1].push({type: 'parEnd', signalType: yy.LINETYPE.PAR_END});\r\n\t\tthis.$=$$[$0-1];\nbreak;\ncase 27:\n this.$ = $$[$0-3].concat([{type: 'and', parText:yy.parseMessage($$[$0-1]), signalType: yy.LINETYPE.PAR_AND}, $$[$0]]); \nbreak;\ncase 29:\n this.$ = $$[$0-3].concat([{type: 'else', altText:yy.parseMessage($$[$0-1]), signalType: yy.LINETYPE.ALT_ELSE}, $$[$0]]); \nbreak;\ncase 30:\n\r\n\t\tthis.$ = [$$[$0-1], {type:'addNote', placement:$$[$0-2], actor:$$[$0-1].actor, text:$$[$0]}];\nbreak;\ncase 31:\n\r\n\t\t// Coerce actor_pair into a [to, from, ...] array\r\n\t\t$$[$0-2] = [].concat($$[$0-1], $$[$0-1]).slice(0, 2);\r\n\t\t$$[$0-2][0] = $$[$0-2][0].actor;\r\n\t\t$$[$0-2][1] = $$[$0-2][1].actor;\r\n\t\tthis.$ = [$$[$0-1], {type:'addNote', placement:yy.PLACEMENT.OVER, actor:$$[$0-2].slice(0, 2), text:$$[$0]}];\nbreak;\ncase 34:\n this.$ = [$$[$0-2], $$[$0]]; \nbreak;\ncase 35:\n this.$ = $$[$0]; \nbreak;\ncase 36:\n this.$ = yy.PLACEMENT.LEFTOF; \nbreak;\ncase 37:\n this.$ = yy.PLACEMENT.RIGHTOF; \nbreak;\ncase 38:\n this.$ = [$$[$0-4],$$[$0-1],{type: 'addMessage', from:$$[$0-4].actor, to:$$[$0-1].actor, signalType:$$[$0-3], msg:$$[$0]},\r\n\t              {type: 'activeStart', signalType: yy.LINETYPE.ACTIVE_START, actor: $$[$0-1]}\r\n\t             ]\nbreak;\ncase 39:\n this.$ = [$$[$0-4],$$[$0-1],{type: 'addMessage', from:$$[$0-4].actor, to:$$[$0-1].actor, signalType:$$[$0-3], msg:$$[$0]},\r\n\t             {type: 'activeEnd', signalType: yy.LINETYPE.ACTIVE_END, actor: $$[$0-4]}\r\n\t             ]\nbreak;\ncase 40:\n this.$ = [$$[$0-3],$$[$0-1],{type: 'addMessage', from:$$[$0-3].actor, to:$$[$0-1].actor, signalType:$$[$0-2], msg:$$[$0]}]\nbreak;\ncase 41:\nthis.$={type: 'addActor', actor:$$[$0]}\nbreak;\ncase 42:\n this.$ = yy.LINETYPE.SOLID_OPEN; \nbreak;\ncase 43:\n this.$ = yy.LINETYPE.DOTTED_OPEN; \nbreak;\ncase 44:\n this.$ = yy.LINETYPE.SOLID; \nbreak;\ncase 45:\n this.$ = yy.LINETYPE.DOTTED; \nbreak;\ncase 46:\n this.$ = yy.LINETYPE.SOLID_CROSS; \nbreak;\ncase 47:\n this.$ = yy.LINETYPE.DOTTED_CROSS; \nbreak;\ncase 48:\n this.$ = yy.LINETYPE.SOLID_POINT; \nbreak;\ncase 49:\n this.$ = yy.LINETYPE.DOTTED_POINT; \nbreak;\ncase 50:\nthis.$ = yy.parseMessage($$[$0].trim().substring(1)) \nbreak;\ncase 51:\n yy.parseDirective('%%{', 'open_directive'); \nbreak;\ncase 52:\n yy.parseDirective($$[$0], 'type_directive'); \nbreak;\ncase 53:\n $$[$0] = $$[$0].trim().replace(/'/g, '\"'); yy.parseDirective($$[$0], 'arg_directive'); \nbreak;\ncase 54:\n yy.parseDirective('}%%', 'close_directive', 'sequence'); \nbreak;\n}\n},\ntable: [{3:1,4:$V0,5:$V1,6:4,7:$V2,11:6,58:$V3},{1:[3]},{3:8,4:$V0,5:$V1,6:4,7:$V2,11:6,58:$V3},{3:9,4:$V0,5:$V1,6:4,7:$V2,11:6,58:$V3},{3:10,4:$V0,5:$V1,6:4,7:$V2,11:6,58:$V3},o([1,4,5,16,21,22,23,25,27,29,30,31,33,37,48,58],$V4,{8:11}),{12:12,59:[1,13]},{59:[2,51]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:$V5,5:$V6,6:30,9:14,10:16,11:6,16:$V7,17:31,20:19,21:$V8,22:$V9,23:$Va,24:23,25:$Vb,27:$Vc,29:$Vd,30:$Ve,31:$Vf,33:$Vg,37:$Vh,48:$Vi,58:$V3},{13:34,14:[1,35],61:$Vj},o([14,61],[2,52]),o($Vk,[2,6]),{6:30,10:37,11:6,16:$V7,17:31,20:19,21:$V8,22:$V9,23:$Va,24:23,25:$Vb,27:$Vc,29:$Vd,30:$Ve,31:$Vf,33:$Vg,37:$Vh,48:$Vi,58:$V3},o($Vk,[2,8]),o($Vk,[2,9]),{17:38,48:$Vi},{5:[1,39]},o($Vk,[2,15]),{17:40,48:$Vi},{17:41,48:$Vi},{5:[1,42]},{26:43,57:$Vl},{19:[1,45]},{19:[1,46]},{19:[1,47]},{19:[1,48]},{19:[1,49]},o($Vk,[2,25]),{45:50,49:[1,51],50:[1,52],51:[1,53],52:[1,54],53:[1,55],54:[1,56],55:[1,57],56:[1,58]},{38:59,39:[1,60],43:[1,61],44:[1,62]},o([5,18,42,49,50,51,52,53,54,55,56,57],[2,41]),{5:[1,63]},{15:64,60:[1,65]},{5:[2,54]},o($Vk,[2,7]),{5:[1,67],18:[1,66]},o($Vk,[2,14]),{5:[1,68]},{5:[1,69]},o($Vk,[2,18]),{5:[1,70]},{5:[2,50]},o($Vm,$V4,{8:71}),o($Vm,$V4,{8:72}),o($Vm,$V4,{8:73}),o($Vn,$V4,{32:74,8:75}),o($Vo,$V4,{34:76,8:77}),{17:80,46:[1,78],47:[1,79],48:$Vi},o($Vp,[2,42]),o($Vp,[2,43]),o($Vp,[2,44]),o($Vp,[2,45]),o($Vp,[2,46]),o($Vp,[2,47]),o($Vp,[2,48]),o($Vp,[2,49]),{17:81,48:$Vi},{17:83,40:82,48:$Vi},{48:[2,36]},{48:[2,37]},o($Vq,[2,10]),{13:84,61:$Vj},{61:[2,53]},{19:[1,85]},o($Vk,[2,13]),o($Vk,[2,16]),o($Vk,[2,17]),o($Vk,[2,19]),{4:$V5,5:$V6,6:30,9:14,10:16,11:6,16:$V7,17:31,20:19,21:$V8,22:$V9,23:$Va,24:23,25:$Vb,27:$Vc,28:[1,86],29:$Vd,30:$Ve,31:$Vf,33:$Vg,37:$Vh,48:$Vi,58:$V3},{4:$V5,5:$V6,6:30,9:14,10:16,11:6,16:$V7,17:31,20:19,21:$V8,22:$V9,23:$Va,24:23,25:$Vb,27:$Vc,28:[1,87],29:$Vd,30:$Ve,31:$Vf,33:$Vg,37:$Vh,48:$Vi,58:$V3},{4:$V5,5:$V6,6:30,9:14,10:16,11:6,16:$V7,17:31,20:19,21:$V8,22:$V9,23:$Va,24:23,25:$Vb,27:$Vc,28:[1,88],29:$Vd,30:$Ve,31:$Vf,33:$Vg,37:$Vh,48:$Vi,58:$V3},{28:[1,89]},{4:$V5,5:$V6,6:30,9:14,10:16,11:6,16:$V7,17:31,20:19,21:$V8,22:$V9,23:$Va,24:23,25:$Vb,27:$Vc,28:[2,28],29:$Vd,30:$Ve,31:$Vf,33:$Vg,36:[1,90],37:$Vh,48:$Vi,58:$V3},{28:[1,91]},{4:$V5,5:$V6,6:30,9:14,10:16,11:6,16:$V7,17:31,20:19,21:$V8,22:$V9,23:$Va,24:23,25:$Vb,27:$Vc,28:[2,26],29:$Vd,30:$Ve,31:$Vf,33:$Vg,35:[1,92],37:$Vh,48:$Vi,58:$V3},{17:93,48:$Vi},{17:94,48:$Vi},{26:95,57:$Vl},{26:96,57:$Vl},{26:97,57:$Vl},{42:[1,98],57:[2,35]},{5:[1,99]},{5:[1,100]},o($Vk,[2,20]),o($Vk,[2,21]),o($Vk,[2,22]),o($Vk,[2,23]),{19:[1,101]},o($Vk,[2,24]),{19:[1,102]},{26:103,57:$Vl},{26:104,57:$Vl},{5:[2,40]},{5:[2,30]},{5:[2,31]},{17:105,48:$Vi},o($Vq,[2,11]),o($Vk,[2,12]),o($Vn,$V4,{8:75,32:106}),o($Vo,$V4,{8:77,34:107}),{5:[2,38]},{5:[2,39]},{57:[2,34]},{28:[2,29]},{28:[2,27]}],\ndefaultActions: {7:[2,51],8:[2,1],9:[2,2],10:[2,3],36:[2,54],44:[2,50],61:[2,36],62:[2,37],65:[2,53],95:[2,40],96:[2,30],97:[2,31],103:[2,38],104:[2,39],105:[2,34],106:[2,29],107:[2,27]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\r\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0: this.begin('open_directive'); return 58; \nbreak;\ncase 1: this.begin('type_directive'); return 59; \nbreak;\ncase 2: this.popState(); this.begin('arg_directive'); return 14; \nbreak;\ncase 3: this.popState(); this.popState(); return 61; \nbreak;\ncase 4:return 60;\nbreak;\ncase 5:return 5;\nbreak;\ncase 6:/* skip all whitespace */\nbreak;\ncase 7:/* skip same-line whitespace */\nbreak;\ncase 8:/* skip comments */\nbreak;\ncase 9:/* skip comments */\nbreak;\ncase 10:/* skip comments */\nbreak;\ncase 11: this.begin('ID'); return 16; \nbreak;\ncase 12: yy_.yytext = yy_.yytext.trim(); this.begin('ALIAS'); return 48; \nbreak;\ncase 13: this.popState(); this.popState(); this.begin('LINE'); return 18; \nbreak;\ncase 14: this.popState(); this.popState(); return 5; \nbreak;\ncase 15: this.begin('LINE'); return 27; \nbreak;\ncase 16: this.begin('LINE'); return 29; \nbreak;\ncase 17: this.begin('LINE'); return 30; \nbreak;\ncase 18: this.begin('LINE'); return 31; \nbreak;\ncase 19: this.begin('LINE'); return 36; \nbreak;\ncase 20: this.begin('LINE'); return 33; \nbreak;\ncase 21: this.begin('LINE'); return 35; \nbreak;\ncase 22: this.popState(); return 19; \nbreak;\ncase 23:return 28;\nbreak;\ncase 24:return 43;\nbreak;\ncase 25:return 44;\nbreak;\ncase 26:return 39;\nbreak;\ncase 27:return 37;\nbreak;\ncase 28: this.begin('ID'); return 22; \nbreak;\ncase 29: this.begin('ID'); return 23; \nbreak;\ncase 30:return 25;\nbreak;\ncase 31:return 7;\nbreak;\ncase 32:return 21;\nbreak;\ncase 33:return 42;\nbreak;\ncase 34:return 5;\nbreak;\ncase 35: yy_.yytext = yy_.yytext.trim(); return 48; \nbreak;\ncase 36:return 51;\nbreak;\ncase 37:return 52;\nbreak;\ncase 38:return 49;\nbreak;\ncase 39:return 50;\nbreak;\ncase 40:return 53;\nbreak;\ncase 41:return 54;\nbreak;\ncase 42:return 55;\nbreak;\ncase 43:return 56;\nbreak;\ncase 44:return 57;\nbreak;\ncase 45:return 46;\nbreak;\ncase 46:return 47;\nbreak;\ncase 47:return 5;\nbreak;\ncase 48:return 'INVALID';\nbreak;\n}\n},\nrules: [/^(?:%%\\{)/i,/^(?:((?:(?!\\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\\}%%)/i,/^(?:((?:(?!\\}%%).|\\n)*))/i,/^(?:[\\n]+)/i,/^(?:\\s+)/i,/^(?:((?!\\n)\\s)+)/i,/^(?:#[^\\n]*)/i,/^(?:%(?!\\{)[^\\n]*)/i,/^(?:[^\\}]%%[^\\n]*)/i,/^(?:participant\\b)/i,/^(?:[^\\->:\\n,;]+?(?=((?!\\n)\\s)+as(?!\\n)\\s|[#\\n;]|$))/i,/^(?:as\\b)/i,/^(?:(?:))/i,/^(?:loop\\b)/i,/^(?:rect\\b)/i,/^(?:opt\\b)/i,/^(?:alt\\b)/i,/^(?:else\\b)/i,/^(?:par\\b)/i,/^(?:and\\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\\n;]*)/i,/^(?:end\\b)/i,/^(?:left of\\b)/i,/^(?:right of\\b)/i,/^(?:over\\b)/i,/^(?:note\\b)/i,/^(?:activate\\b)/i,/^(?:deactivate\\b)/i,/^(?:title\\b)/i,/^(?:sequenceDiagram\\b)/i,/^(?:autonumber\\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\\+\\->:\\n,;]+((?!(-x|--x|-\\)|--\\)))[\\-]*[^\\+\\->:\\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\\)])/i,/^(?:--[\\)])/i,/^(?::(?:(?:no)?wrap)?[^#\\n;]+)/i,/^(?:\\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],\nconditions: {\"open_directive\":{\"rules\":[1,8],\"inclusive\":false},\"type_directive\":{\"rules\":[2,3,8],\"inclusive\":false},\"arg_directive\":{\"rules\":[3,4,8],\"inclusive\":false},\"ID\":{\"rules\":[7,8,12],\"inclusive\":false},\"ALIAS\":{\"rules\":[7,8,13,14],\"inclusive\":false},\"LINE\":{\"rules\":[7,8,22],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,5,6,8,9,10,11,15,16,17,18,19,20,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,2],$V1=[1,3],$V2=[1,5],$V3=[1,7],$V4=[2,5],$V5=[1,15],$V6=[1,17],$V7=[1,19],$V8=[1,20],$V9=[1,21],$Va=[1,22],$Vb=[1,30],$Vc=[1,23],$Vd=[1,24],$Ve=[1,25],$Vf=[1,26],$Vg=[1,27],$Vh=[1,32],$Vi=[1,33],$Vj=[1,34],$Vk=[1,35],$Vl=[1,31],$Vm=[1,38],$Vn=[1,4,5,14,15,17,19,20,22,23,24,25,26,27,36,37,38,39,42,45],$Vo=[1,4,5,12,13,14,15,17,19,20,22,23,24,25,26,27,36,37,38,39,42,45],$Vp=[1,4,5,7,14,15,17,19,20,22,23,24,25,26,27,36,37,38,39,42,45],$Vq=[4,5,14,15,17,19,20,22,23,24,25,26,27,36,37,38,39,42,45];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"SPACE\":4,\"NL\":5,\"directive\":6,\"SD\":7,\"document\":8,\"line\":9,\"statement\":10,\"idStatement\":11,\"DESCR\":12,\"-->\":13,\"HIDE_EMPTY\":14,\"scale\":15,\"WIDTH\":16,\"COMPOSIT_STATE\":17,\"STRUCT_START\":18,\"STRUCT_STOP\":19,\"STATE_DESCR\":20,\"AS\":21,\"ID\":22,\"FORK\":23,\"JOIN\":24,\"CHOICE\":25,\"CONCURRENT\":26,\"note\":27,\"notePosition\":28,\"NOTE_TEXT\":29,\"direction\":30,\"openDirective\":31,\"typeDirective\":32,\"closeDirective\":33,\":\":34,\"argDirective\":35,\"direction_tb\":36,\"direction_bt\":37,\"direction_rl\":38,\"direction_lr\":39,\"eol\":40,\";\":41,\"EDGE_STATE\":42,\"left_of\":43,\"right_of\":44,\"open_directive\":45,\"type_directive\":46,\"arg_directive\":47,\"close_directive\":48,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",4:\"SPACE\",5:\"NL\",7:\"SD\",12:\"DESCR\",13:\"-->\",14:\"HIDE_EMPTY\",15:\"scale\",16:\"WIDTH\",17:\"COMPOSIT_STATE\",18:\"STRUCT_START\",19:\"STRUCT_STOP\",20:\"STATE_DESCR\",21:\"AS\",22:\"ID\",23:\"FORK\",24:\"JOIN\",25:\"CHOICE\",26:\"CONCURRENT\",27:\"note\",29:\"NOTE_TEXT\",34:\":\",36:\"direction_tb\",37:\"direction_bt\",38:\"direction_rl\",39:\"direction_lr\",41:\";\",42:\"EDGE_STATE\",43:\"left_of\",44:\"right_of\",45:\"open_directive\",46:\"type_directive\",47:\"arg_directive\",48:\"close_directive\"},\nproductions_: [0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[6,3],[6,5],[30,1],[30,1],[30,1],[30,1],[40,1],[40,1],[11,1],[11,1],[28,1],[28,1],[31,1],[32,1],[35,1],[33,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 4:\n /*console.warn('Root document', $$[$0]);*/ yy.setRootDoc($$[$0]);return $$[$0]; \nbreak;\ncase 5:\n this.$ = [] \nbreak;\ncase 6:\n\r\n        if($$[$0]!='nl'){\r\n            $$[$0-1].push($$[$0]);this.$ = $$[$0-1]\r\n        }\r\n        // console.warn('Got document',$$[$0-1], $$[$0]);\r\n    \nbreak;\ncase 7: case 8:\n this.$ = $$[$0] \nbreak;\ncase 9:\n this.$='nl';\nbreak;\ncase 10:\n /*console.warn('got id and descr', $$[$0]);*/this.$={ stmt: 'state', id: $$[$0], type: 'default', description: ''};\nbreak;\ncase 11:\n /*console.warn('got id and descr', $$[$0-1], $$[$0].trim());*/this.$={ stmt: 'state', id: $$[$0-1], type: 'default', description: yy.trimColon($$[$0])};\nbreak;\ncase 12:\n\r\n        /*console.warn('got id', $$[$0-2]);yy.addRelation($$[$0-2], $$[$0]);*/\r\n        this.$={ stmt: 'relation', state1: { stmt: 'state', id: $$[$0-2], type: 'default', description: '' }, state2:{ stmt: 'state', id: $$[$0] ,type: 'default', description: ''}};\r\n    \nbreak;\ncase 13:\n\r\n        /*yy.addRelation($$[$0-3], $$[$0-1], $$[$0].substr(1).trim());*/\r\n        this.$={ stmt: 'relation', state1: { stmt: 'state', id: $$[$0-3], type: 'default', description: '' }, state2:{ stmt: 'state', id: $$[$0-1] ,type: 'default', description: ''}, description: $$[$0].substr(1).trim()};\r\n    \nbreak;\ncase 17:\n\r\n        /* console.warn('Adding document for state without id ', $$[$0-3]);*/\r\n        this.$={ stmt: 'state', id: $$[$0-3], type: 'default', description: '', doc: $$[$0-1] }\r\n    \nbreak;\ncase 18:\n\r\n        var id=$$[$0];\r\n        var description = $$[$0-2].trim();\r\n        if($$[$0].match(':')){\r\n            var parts = $$[$0].split(':');\r\n            id=parts[0];\r\n            description = [description, parts[1]];\r\n        }\r\n        this.$={stmt: 'state', id: id, type: 'default', description: description};\r\n\r\n    \nbreak;\ncase 19:\n\r\n         // console.warn('Adding document for state with id zxzx', $$[$0-3], $$[$0-2], yy.getDirection()); yy.addDocument($$[$0-3]);\r\n         this.$={ stmt: 'state', id: $$[$0-3], type: 'default', description: $$[$0-5], doc: $$[$0-1] }\r\n    \nbreak;\ncase 20:\n\r\n        this.$={ stmt: 'state', id: $$[$0], type: 'fork' }\r\n    \nbreak;\ncase 21:\n\r\n        this.$={ stmt: 'state', id: $$[$0], type: 'join' }\r\n    \nbreak;\ncase 22:\n\r\n        this.$={ stmt: 'state', id: $$[$0], type: 'choice' }\r\n    \nbreak;\ncase 23:\n\r\n        this.$={ stmt: 'state', id: yy.getDividerId(), type: 'divider' }\r\n    \nbreak;\ncase 24:\n\r\n        /* console.warn('got NOTE, position: ', $$[$0-2].trim(), 'id = ', $$[$0-1].trim(), 'note: ', $$[$0]);*/\r\n        this.$={ stmt: 'state', id: $$[$0-1].trim(), note:{position: $$[$0-2].trim(), text: $$[$0].trim()}};\r\n    \nbreak;\ncase 30:\n yy.setDirection('TB');this.$={stmt:'dir', value:'TB'};\nbreak;\ncase 31:\n yy.setDirection('BT');this.$={stmt:'dir', value:'BT'};\nbreak;\ncase 32:\n yy.setDirection('RL'); this.$={stmt:'dir', value:'RL'};\nbreak;\ncase 33:\n yy.setDirection('LR');this.$={stmt:'dir', value:'LR'};\nbreak;\ncase 36: case 37:\nthis.$=$$[$0];\nbreak;\ncase 40:\n yy.parseDirective('%%{', 'open_directive'); \nbreak;\ncase 41:\n yy.parseDirective($$[$0], 'type_directive'); \nbreak;\ncase 42:\n $$[$0] = $$[$0].trim().replace(/'/g, '\"'); yy.parseDirective($$[$0], 'arg_directive'); \nbreak;\ncase 43:\n yy.parseDirective('}%%', 'close_directive', 'state'); \nbreak;\n}\n},\ntable: [{3:1,4:$V0,5:$V1,6:4,7:$V2,31:6,45:$V3},{1:[3]},{3:8,4:$V0,5:$V1,6:4,7:$V2,31:6,45:$V3},{3:9,4:$V0,5:$V1,6:4,7:$V2,31:6,45:$V3},{3:10,4:$V0,5:$V1,6:4,7:$V2,31:6,45:$V3},o([1,4,5,14,15,17,20,22,23,24,25,26,27,36,37,38,39,42,45],$V4,{8:11}),{32:12,46:[1,13]},{46:[2,40]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:$V5,5:$V6,6:28,9:14,10:16,11:18,14:$V7,15:$V8,17:$V9,20:$Va,22:$Vb,23:$Vc,24:$Vd,25:$Ve,26:$Vf,27:$Vg,30:29,31:6,36:$Vh,37:$Vi,38:$Vj,39:$Vk,42:$Vl,45:$V3},{33:36,34:[1,37],48:$Vm},o([34,48],[2,41]),o($Vn,[2,6]),{6:28,10:39,11:18,14:$V7,15:$V8,17:$V9,20:$Va,22:$Vb,23:$Vc,24:$Vd,25:$Ve,26:$Vf,27:$Vg,30:29,31:6,36:$Vh,37:$Vi,38:$Vj,39:$Vk,42:$Vl,45:$V3},o($Vn,[2,8]),o($Vn,[2,9]),o($Vn,[2,10],{12:[1,40],13:[1,41]}),o($Vn,[2,14]),{16:[1,42]},o($Vn,[2,16],{18:[1,43]}),{21:[1,44]},o($Vn,[2,20]),o($Vn,[2,21]),o($Vn,[2,22]),o($Vn,[2,23]),{28:45,29:[1,46],43:[1,47],44:[1,48]},o($Vn,[2,26]),o($Vn,[2,27]),o($Vo,[2,36]),o($Vo,[2,37]),o($Vn,[2,30]),o($Vn,[2,31]),o($Vn,[2,32]),o($Vn,[2,33]),o($Vp,[2,28]),{35:49,47:[1,50]},o($Vp,[2,43]),o($Vn,[2,7]),o($Vn,[2,11]),{11:51,22:$Vb,42:$Vl},o($Vn,[2,15]),o($Vq,$V4,{8:52}),{22:[1,53]},{22:[1,54]},{21:[1,55]},{22:[2,38]},{22:[2,39]},{33:56,48:$Vm},{48:[2,42]},o($Vn,[2,12],{12:[1,57]}),{4:$V5,5:$V6,6:28,9:14,10:16,11:18,14:$V7,15:$V8,17:$V9,19:[1,58],20:$Va,22:$Vb,23:$Vc,24:$Vd,25:$Ve,26:$Vf,27:$Vg,30:29,31:6,36:$Vh,37:$Vi,38:$Vj,39:$Vk,42:$Vl,45:$V3},o($Vn,[2,18],{18:[1,59]}),{29:[1,60]},{22:[1,61]},o($Vp,[2,29]),o($Vn,[2,13]),o($Vn,[2,17]),o($Vq,$V4,{8:62}),o($Vn,[2,24]),o($Vn,[2,25]),{4:$V5,5:$V6,6:28,9:14,10:16,11:18,14:$V7,15:$V8,17:$V9,19:[1,63],20:$Va,22:$Vb,23:$Vc,24:$Vd,25:$Ve,26:$Vf,27:$Vg,30:29,31:6,36:$Vh,37:$Vi,38:$Vj,39:$Vk,42:$Vl,45:$V3},o($Vn,[2,19])],\ndefaultActions: {7:[2,40],8:[2,1],9:[2,2],10:[2,3],47:[2,38],48:[2,39],50:[2,42]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\r\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0:return 36;\nbreak;\ncase 1:return 37;\nbreak;\ncase 2:return 38;\nbreak;\ncase 3:return 39;\nbreak;\ncase 4: this.begin('open_directive'); return 45; \nbreak;\ncase 5: this.begin('type_directive'); return 46; \nbreak;\ncase 6: this.popState(); this.begin('arg_directive'); return 34; \nbreak;\ncase 7: this.popState(); this.popState(); return 48; \nbreak;\ncase 8:return 47;\nbreak;\ncase 9:/* skip comments */\nbreak;\ncase 10:/* skip comments */{ /*console.log('Crap after close');*/ }\nbreak;\ncase 11:return 5;\nbreak;\ncase 12:/* skip all whitespace */\nbreak;\ncase 13:/* skip same-line whitespace */\nbreak;\ncase 14:/* skip comments */\nbreak;\ncase 15:/* skip comments */\nbreak;\ncase 16: this.pushState('SCALE'); /* console.log('Got scale', yy_.yytext);*/ return 15; \nbreak;\ncase 17:return 16;\nbreak;\ncase 18:this.popState();\nbreak;\ncase 19: /*console.log('Starting STATE zxzx'+yy.getDirection());*/this.pushState('STATE'); \nbreak;\ncase 20:this.popState();yy_.yytext=yy_.yytext.slice(0,-8).trim(); /*console.warn('Fork Fork: ',yy_.yytext);*/return 23;\nbreak;\ncase 21:this.popState();yy_.yytext=yy_.yytext.slice(0,-8).trim();/*console.warn('Fork Join: ',yy_.yytext);*/return 24;\nbreak;\ncase 22:this.popState();yy_.yytext=yy_.yytext.slice(0,-10).trim();/*console.warn('Fork Join: ',yy_.yytext);*/return 25;\nbreak;\ncase 23:this.popState();yy_.yytext=yy_.yytext.slice(0,-8).trim();/*console.warn('Fork Fork: ',yy_.yytext);*/return 23;\nbreak;\ncase 24:this.popState();yy_.yytext=yy_.yytext.slice(0,-8).trim();/*console.warn('Fork Join: ',yy_.yytext);*/return 24;\nbreak;\ncase 25:this.popState();yy_.yytext=yy_.yytext.slice(0,-10).trim();/*console.warn('Fork Join: ',yy_.yytext);*/return 25;\nbreak;\ncase 26: return 36;\nbreak;\ncase 27: return 37;\nbreak;\ncase 28: return 38;\nbreak;\ncase 29: return 39;\nbreak;\ncase 30: /*console.log('Starting STATE_STRING zxzx');*/this.begin(\"STATE_STRING\");\nbreak;\ncase 31:this.popState();this.pushState('STATE_ID');return \"AS\";\nbreak;\ncase 32:this.popState();/* console.log('STATE_ID', yy_.yytext);*/return \"ID\";\nbreak;\ncase 33:this.popState();\nbreak;\ncase 34: /*console.log('Long description:', yy_.yytext);*/return \"STATE_DESCR\";\nbreak;\ncase 35:/*console.log('COMPOSIT_STATE', yy_.yytext);*/return 17;\nbreak;\ncase 36:this.popState();\nbreak;\ncase 37:this.popState();this.pushState('struct'); /*console.log('begin struct', yy_.yytext);*/return 18;\nbreak;\ncase 38: /*console.log('Ending struct');*/ this.popState(); return 19;\nbreak;\ncase 39:/* nothing */\nbreak;\ncase 40: this.begin('NOTE'); return 27; \nbreak;\ncase 41: this.popState();this.pushState('NOTE_ID');return 43;\nbreak;\ncase 42: this.popState();this.pushState('NOTE_ID');return 44;\nbreak;\ncase 43: this.popState();this.pushState('FLOATING_NOTE');\nbreak;\ncase 44:this.popState();this.pushState('FLOATING_NOTE_ID');return \"AS\";\nbreak;\ncase 45:/**/\nbreak;\ncase 46: /*console.log('Floating note text: ', yy_.yytext);*/return \"NOTE_TEXT\";\nbreak;\ncase 47:this.popState();/*console.log('Floating note ID', yy_.yytext);*/return \"ID\";\nbreak;\ncase 48: this.popState();this.pushState('NOTE_TEXT');/*console.log('Got ID for note', yy_.yytext);*/return 22;\nbreak;\ncase 49: this.popState();/*console.log('Got NOTE_TEXT for note',yy_.yytext);*/yy_.yytext = yy_.yytext.substr(2).trim();return 29;\nbreak;\ncase 50: this.popState();/*console.log('Got NOTE_TEXT for note',yy_.yytext);*/yy_.yytext = yy_.yytext.slice(0,-8).trim();return 29;\nbreak;\ncase 51: /*console.log('Got state diagram', yy_.yytext,'#');*/return 7; \nbreak;\ncase 52: /*console.log('Got state diagram', yy_.yytext,'#');*/return 7; \nbreak;\ncase 53: /*console.log('HIDE_EMPTY', yy_.yytext,'#');*/return 14; \nbreak;\ncase 54: /*console.log('EDGE_STATE=',yy_.yytext);*/ return 42;\nbreak;\ncase 55: /*console.log('=>ID=',yy_.yytext);*/ return 22;\nbreak;\ncase 56: yy_.yytext = yy_.yytext.trim(); /*console.log('Descr = ', yy_.yytext);*/ return 12; \nbreak;\ncase 57:return 13;\nbreak;\ncase 58:return 26;\nbreak;\ncase 59:return 5;\nbreak;\ncase 60:return 'INVALID';\nbreak;\n}\n},\nrules: [/^(?:.*direction\\s+TB[^\\n]*)/i,/^(?:.*direction\\s+BT[^\\n]*)/i,/^(?:.*direction\\s+RL[^\\n]*)/i,/^(?:.*direction\\s+LR[^\\n]*)/i,/^(?:%%\\{)/i,/^(?:((?:(?!\\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\\}%%)/i,/^(?:((?:(?!\\}%%).|\\n)*))/i,/^(?:%%(?!\\{)[^\\n]*)/i,/^(?:[^\\}]%%[^\\n]*)/i,/^(?:[\\n]+)/i,/^(?:[\\s]+)/i,/^(?:((?!\\n)\\s)+)/i,/^(?:#[^\\n]*)/i,/^(?:%[^\\n]*)/i,/^(?:scale\\s+)/i,/^(?:\\d+)/i,/^(?:\\s+width\\b)/i,/^(?:state\\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\\[\\[fork\\]\\])/i,/^(?:.*\\[\\[join\\]\\])/i,/^(?:.*\\[\\[choice\\]\\])/i,/^(?:.*direction\\s+TB[^\\n]*)/i,/^(?:.*direction\\s+BT[^\\n]*)/i,/^(?:.*direction\\s+RL[^\\n]*)/i,/^(?:.*direction\\s+LR[^\\n]*)/i,/^(?:[\"])/i,/^(?:\\s*as\\s+)/i,/^(?:[^\\n\\{]*)/i,/^(?:[\"])/i,/^(?:[^\"]*)/i,/^(?:[^\\n\\s\\{]+)/i,/^(?:\\n)/i,/^(?:\\{)/i,/^(?:\\})/i,/^(?:[\\n])/i,/^(?:note\\s+)/i,/^(?:left of\\b)/i,/^(?:right of\\b)/i,/^(?:\")/i,/^(?:\\s*as\\s*)/i,/^(?:[\"])/i,/^(?:[^\"]*)/i,/^(?:[^\\n]*)/i,/^(?:\\s*[^:\\n\\s\\-]+)/i,/^(?:\\s*:[^:\\n;]+)/i,/^(?:[\\s\\S]*?end note\\b)/i,/^(?:stateDiagram\\s+)/i,/^(?:stateDiagram-v2\\s+)/i,/^(?:hide empty description\\b)/i,/^(?:\\[\\*\\])/i,/^(?:[^:\\n\\s\\-\\{]+)/i,/^(?:\\s*:[^:\\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?:$)/i,/^(?:.)/i],\nconditions: {\"LINE\":{\"rules\":[13,14],\"inclusive\":false},\"close_directive\":{\"rules\":[13,14],\"inclusive\":false},\"arg_directive\":{\"rules\":[7,8,13,14],\"inclusive\":false},\"type_directive\":{\"rules\":[6,7,13,14],\"inclusive\":false},\"open_directive\":{\"rules\":[5,13,14],\"inclusive\":false},\"struct\":{\"rules\":[13,14,19,26,27,28,29,38,39,40,54,55,56,57,58],\"inclusive\":false},\"FLOATING_NOTE_ID\":{\"rules\":[47],\"inclusive\":false},\"FLOATING_NOTE\":{\"rules\":[44,45,46],\"inclusive\":false},\"NOTE_TEXT\":{\"rules\":[49,50],\"inclusive\":false},\"NOTE_ID\":{\"rules\":[48],\"inclusive\":false},\"NOTE\":{\"rules\":[41,42,43],\"inclusive\":false},\"SCALE\":{\"rules\":[17,18],\"inclusive\":false},\"ALIAS\":{\"rules\":[],\"inclusive\":false},\"STATE_ID\":{\"rules\":[32],\"inclusive\":false},\"STATE_STRING\":{\"rules\":[33,34],\"inclusive\":false},\"FORK_STATE\":{\"rules\":[],\"inclusive\":false},\"STATE\":{\"rules\":[13,14,20,21,22,23,24,25,30,31,35,36,37],\"inclusive\":false},\"ID\":{\"rules\":[13,14],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,1,2,3,4,9,10,11,12,14,15,16,19,37,40,51,52,53,54,55,56,57,59,60],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,2],$V1=[1,5],$V2=[6,9,11,17,18,19,21],$V3=[1,15],$V4=[1,16],$V5=[1,17],$V6=[1,21],$V7=[4,6,9,11,17,18,19,21];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"journey\":4,\"document\":5,\"EOF\":6,\"directive\":7,\"line\":8,\"SPACE\":9,\"statement\":10,\"NEWLINE\":11,\"openDirective\":12,\"typeDirective\":13,\"closeDirective\":14,\":\":15,\"argDirective\":16,\"title\":17,\"section\":18,\"taskName\":19,\"taskData\":20,\"open_directive\":21,\"type_directive\":22,\"arg_directive\":23,\"close_directive\":24,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",4:\"journey\",6:\"EOF\",9:\"SPACE\",11:\"NEWLINE\",15:\":\",17:\"title\",18:\"section\",19:\"taskName\",20:\"taskData\",21:\"open_directive\",22:\"type_directive\",23:\"arg_directive\",24:\"close_directive\"},\nproductions_: [0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 1:\n return $$[$0-1]; \nbreak;\ncase 3:\n this.$ = [] \nbreak;\ncase 4:\n$$[$0-1].push($$[$0]);this.$ = $$[$0-1]\nbreak;\ncase 5: case 6:\n this.$ = $$[$0] \nbreak;\ncase 7: case 8:\n this.$=[];\nbreak;\ncase 11:\nyy.setTitle($$[$0].substr(6));this.$=$$[$0].substr(6);\nbreak;\ncase 12:\nyy.addSection($$[$0].substr(8));this.$=$$[$0].substr(8);\nbreak;\ncase 13:\nyy.addTask($$[$0-1], $$[$0]);this.$='task';\nbreak;\ncase 15:\n yy.parseDirective('%%{', 'open_directive'); \nbreak;\ncase 16:\n yy.parseDirective($$[$0], 'type_directive'); \nbreak;\ncase 17:\n $$[$0] = $$[$0].trim().replace(/'/g, '\"'); yy.parseDirective($$[$0], 'arg_directive'); \nbreak;\ncase 18:\n yy.parseDirective('}%%', 'close_directive', 'journey'); \nbreak;\n}\n},\ntable: [{3:1,4:$V0,7:3,12:4,21:$V1},{1:[3]},o($V2,[2,3],{5:6}),{3:7,4:$V0,7:3,12:4,21:$V1},{13:8,22:[1,9]},{22:[2,15]},{6:[1,10],7:18,8:11,9:[1,12],10:13,11:[1,14],12:4,17:$V3,18:$V4,19:$V5,21:$V1},{1:[2,2]},{14:19,15:[1,20],24:$V6},o([15,24],[2,16]),o($V2,[2,8],{1:[2,1]}),o($V2,[2,4]),{7:18,10:22,12:4,17:$V3,18:$V4,19:$V5,21:$V1},o($V2,[2,6]),o($V2,[2,7]),o($V2,[2,11]),o($V2,[2,12]),{20:[1,23]},o($V2,[2,14]),{11:[1,24]},{16:25,23:[1,26]},{11:[2,18]},o($V2,[2,5]),o($V2,[2,13]),o($V7,[2,9]),{14:27,24:$V6},{24:[2,17]},{11:[1,28]},o($V7,[2,10])],\ndefaultActions: {5:[2,15],7:[2,2],21:[2,18],26:[2,17]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\r\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0: this.begin('open_directive'); return 21; \nbreak;\ncase 1: this.begin('type_directive'); return 22; \nbreak;\ncase 2: this.popState(); this.begin('arg_directive'); return 15; \nbreak;\ncase 3: this.popState(); this.popState(); return 24; \nbreak;\ncase 4:return 23;\nbreak;\ncase 5:/* skip comments */\nbreak;\ncase 6:/* skip comments */\nbreak;\ncase 7:return 11;\nbreak;\ncase 8:/* skip whitespace */\nbreak;\ncase 9:/* skip comments */\nbreak;\ncase 10:return 4;\nbreak;\ncase 11:return 17;\nbreak;\ncase 12:return 18;\nbreak;\ncase 13:return 19;\nbreak;\ncase 14:return 20;\nbreak;\ncase 15:return 15;\nbreak;\ncase 16:return 6;\nbreak;\ncase 17:return 'INVALID';\nbreak;\n}\n},\nrules: [/^(?:%%\\{)/i,/^(?:((?:(?!\\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\\}%%)/i,/^(?:((?:(?!\\}%%).|\\n)*))/i,/^(?:%(?!\\{)[^\\n]*)/i,/^(?:[^\\}]%%[^\\n]*)/i,/^(?:[\\n]+)/i,/^(?:\\s+)/i,/^(?:#[^\\n]*)/i,/^(?:journey\\b)/i,/^(?:title\\s[^#\\n;]+)/i,/^(?:section\\s[^#:\\n;]+)/i,/^(?:[^#:\\n;]+)/i,/^(?::[^#\\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],\nconditions: {\"open_directive\":{\"rules\":[1],\"inclusive\":false},\"type_directive\":{\"rules\":[2,3],\"inclusive\":false},\"arg_directive\":{\"rules\":[3,4],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,5,6,7,8,9,10,11,12,13,14,15,16,17],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","import { assignWithDepth } from './utils';\r\nimport { log } from './logger';\r\nimport theme from './themes';\r\nimport config from './defaultConfig';\r\n\r\n// debugger;\r\n\r\nexport const defaultConfig = Object.freeze(config);\r\n\r\nlet siteConfig = assignWithDepth({}, defaultConfig);\r\nlet configFromInitialize;\r\nlet directives = [];\r\nlet currentConfig = assignWithDepth({}, defaultConfig);\r\n\r\nexport const updateCurrentConfig = (siteCfg, _directives) => {\r\n  // start with config beeing the siteConfig\r\n  let cfg = assignWithDepth({}, siteCfg);\r\n  // let sCfg = assignWithDepth(defaultConfig, siteConfigDelta);\r\n\r\n  // Join directives\r\n  let sumOfDirectives = {};\r\n  for (let i = 0; i < _directives.length; i++) {\r\n    const d = _directives[i];\r\n    sanitize(d);\r\n\r\n    // Apply the data from the directive where the the overrides the themeVaraibles\r\n    sumOfDirectives = assignWithDepth(sumOfDirectives, d);\r\n  }\r\n\r\n  cfg = assignWithDepth(cfg, sumOfDirectives);\r\n\r\n  if (sumOfDirectives.theme) {\r\n    const tmpConfigFromInitialize = assignWithDepth({}, configFromInitialize);\r\n    const themeVariables = assignWithDepth(\r\n      tmpConfigFromInitialize.themeVariables || {},\r\n      sumOfDirectives.themeVariables\r\n    );\r\n    cfg.themeVariables = theme[cfg.theme].getThemeVariables(themeVariables);\r\n  }\r\n\r\n  currentConfig = cfg;\r\n  return cfg;\r\n};\r\n/**\r\n *## setSiteConfig\r\n *| Function | Description         | Type    | Values             |\r\n *| --------- | ------------------- | ------- | ------------------ |\r\n *| setSiteConfig|Sets the siteConfig to desired values | Put Request | Any Values, except ones in secure array|\r\n ***Notes:**\r\n *Sets the siteConfig. The siteConfig is a protected configuration for repeat use. Calls to reset() will reset\r\n *the currentConfig to siteConfig. Calls to reset(configApi.defaultConfig) will reset siteConfig and currentConfig\r\n *to the defaultConfig\r\n *Note: currentConfig is set in this function\r\n **Default value: At default, will mirror Global Config**\r\n * @param conf - the base currentConfig to use as siteConfig\r\n * @returns {*} - the siteConfig\r\n */\r\nexport const setSiteConfig = (conf) => {\r\n  siteConfig = assignWithDepth({}, defaultConfig);\r\n  siteConfig = assignWithDepth(siteConfig, conf);\r\n\r\n  if (conf.theme) {\r\n    siteConfig.themeVariables = theme[conf.theme].getThemeVariables(conf.themeVariables);\r\n  }\r\n\r\n  currentConfig = updateCurrentConfig(siteConfig, directives);\r\n  return siteConfig;\r\n};\r\n\r\nexport const saveConfigFromInitilize = (conf) => {\r\n  configFromInitialize = assignWithDepth({}, conf);\r\n};\r\n\r\nexport const updateSiteConfig = (conf) => {\r\n  siteConfig = assignWithDepth(siteConfig, conf);\r\n  updateCurrentConfig(siteConfig, directives);\r\n\r\n  return siteConfig;\r\n};\r\n/**\r\n *## getSiteConfig\r\n *| Function | Description         | Type    |  Values             |\r\n *| --------- | ------------------- | ------- |  ------------------ |\r\n *| setSiteConfig|Returns the current siteConfig base configuration | Get Request | Returns Any Values  in siteConfig|\r\n ***Notes**:\r\n *Returns **any** values in siteConfig.\r\n * @returns {*}\r\n */\r\nexport const getSiteConfig = () => {\r\n  return assignWithDepth({}, siteConfig);\r\n};\r\n/**\r\n *## setConfig\r\n *| Function  | Description         | Type    | Values             |\r\n *| --------- | ------------------- | ------- | ------------------ |\r\n *| setSiteConfig|Sets the siteConfig to desired values | Put Request| Any Values, except ones in secure array|\r\n ***Notes**:\r\n *Sets the currentConfig. The parameter conf is sanitized based on the siteConfig.secure keys. Any\r\n *values found in conf with key found in siteConfig.secure will be replaced with the corresponding\r\n *siteConfig value.\r\n * @param conf - the potential currentConfig\r\n * @returns {*} - the currentConfig merged with the sanitized conf\r\n */\r\nexport const setConfig = (conf) => {\r\n  // sanitize(conf);\r\n  // Object.keys(conf).forEach(key => {\r\n  //   const manipulator = manipulators[key];\r\n  //   conf[key] = manipulator ? manipulator(conf[key]) : conf[key];\r\n  // });\r\n\r\n  assignWithDepth(currentConfig, conf);\r\n\r\n  return getConfig();\r\n};\r\n\r\n/**\r\n *   ## getConfig\r\n *| Function  | Description         | Type    | Return Values            |\r\n *| --------- | ------------------- | ------- | ------------------ |\r\n *| getConfig |Obtains the currentConfig | Get Request | Any Values from currentConfig|\r\n ***Notes**:\r\n *Returns **any** the currentConfig\r\n * @returns {*} - the currentConfig\r\n */\r\nexport const getConfig = () => {\r\n  return assignWithDepth({}, currentConfig);\r\n};\r\n/**\r\n *## sanitize\r\n *| Function | Description         | Type    | Values             |\r\n *| --------- | ------------------- | ------- | ------------------ |\r\n *| sanitize  |Sets the siteConfig to desired values. | Put Request |None|\r\n *Ensures options parameter does not attempt to override siteConfig secure keys\r\n *Note: modifies options in-place\r\n * @param options - the potential setConfig parameter\r\n */\r\nexport const sanitize = (options) => {\r\n  // Checking that options are not in the list of excluded options\r\n  Object.keys(siteConfig.secure).forEach((key) => {\r\n    if (typeof options[siteConfig.secure[key]] !== 'undefined') {\r\n      // DO NOT attempt to print options[siteConfig.secure[key]] within `${}` as a malicious script\r\n      // can exploit the logger's attempt to stringify the value and execute arbitrary code\r\n      log.debug(\r\n        `Denied attempt to modify a secure key ${siteConfig.secure[key]}`,\r\n        options[siteConfig.secure[key]]\r\n      );\r\n      delete options[siteConfig.secure[key]];\r\n    }\r\n  });\r\n\r\n  // Check that there no attempts of prototype pollution\r\n  Object.keys(options).forEach((key) => {\r\n    if (key.indexOf('__') === 0) {\r\n      delete options[key];\r\n    }\r\n  });\r\n  // Check that there no attempts of xss, there should be no tags at all in the directive\r\n  // blocking data urls as base64 urls can contain svgs with inline script tags\r\n  Object.keys(options).forEach((key) => {\r\n    if (typeof options[key] === 'string') {\r\n      if (\r\n        options[key].indexOf('<') > -1 ||\r\n        options[key].indexOf('>') > -1 ||\r\n        options[key].indexOf('url(data:') > -1\r\n      ) {\r\n        delete options[key];\r\n      }\r\n    }\r\n    if (typeof options[key] === 'object') {\r\n      sanitize(options[key]);\r\n    }\r\n  });\r\n};\r\n\r\nexport const addDirective = (directive) => {\r\n  if (directive.fontFamily) {\r\n    if (!directive.themeVariables) {\r\n      directive.themeVariables = { fontFamily: directive.fontFamily };\r\n    } else {\r\n      if (!directive.themeVariables.fontFamily) {\r\n        directive.themeVariables = { fontFamily: directive.fontFamily };\r\n      }\r\n    }\r\n  }\r\n  directives.push(directive);\r\n  updateCurrentConfig(siteConfig, directives);\r\n};\r\n\r\n/**\r\n *## reset\r\n *| Function | Description         | Type    | Required | Values             |\r\n *| --------- | ------------------- | ------- | -------- | ------------------ |\r\n *| reset|Resets currentConfig to conf| Put Request | Required | None|\r\n *\r\n *| Parameter | Description |Type | Required | Values|\r\n *| --- | --- | --- | --- | --- |\r\n *| conf| base set of values, which currentConfig coul be **reset** to.| Dictionary | Required | Any Values, with respect to the secure Array|\r\n *\r\n **Notes :\r\n (default: current siteConfig ) (optional, default `getSiteConfig()`)\r\n * @param conf  the base currentConfig to reset to (default: current siteConfig ) (optional, default `getSiteConfig()`)\r\n */\r\nexport const reset = () => {\r\n  // Replace current config with siteConfig\r\n  directives = [];\r\n  updateCurrentConfig(siteConfig, directives);\r\n};\r\n","import intersectRect from './intersect/intersect-rect';\r\nimport { log } from '../logger';\r\nimport createLabel from './createLabel';\r\nimport { select } from 'd3';\r\nimport { getConfig } from '../config';\r\nimport { evaluate } from '../diagrams/common/common';\r\n\r\nconst rect = (parent, node) => {\r\n  log.trace('Creating subgraph rect for ', node.id, node);\r\n\r\n  // Add outer g element\r\n  const shapeSvg = parent\r\n    .insert('g')\r\n    .attr('class', 'cluster' + (node.class ? ' ' + node.class : ''))\r\n    .attr('id', node.id);\r\n\r\n  // add the rect\r\n  const rect = shapeSvg.insert('rect', ':first-child');\r\n\r\n  // Create the label and insert it after the rect\r\n  const label = shapeSvg.insert('g').attr('class', 'cluster-label');\r\n\r\n  const text = label\r\n    .node()\r\n    .appendChild(createLabel(node.labelText, node.labelStyle, undefined, true));\r\n\r\n  // Get the size of the label\r\n  let bbox = text.getBBox();\r\n\r\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\r\n    const div = text.children[0];\r\n    const dv = select(text);\r\n    bbox = div.getBoundingClientRect();\r\n    dv.attr('width', bbox.width);\r\n    dv.attr('height', bbox.height);\r\n  }\r\n\r\n  const padding = 0 * node.padding;\r\n  const halfPadding = padding / 2;\r\n\r\n  const width = node.width <= bbox.width + padding ? bbox.width + padding : node.width;\r\n  if (node.width <= bbox.width + padding) {\r\n    node.diff = (bbox.width - node.width) / 2;\r\n  } else {\r\n    node.diff = -node.padding / 2;\r\n  }\r\n\r\n  log.trace('Data ', node, JSON.stringify(node));\r\n  // center the rect around its coordinate\r\n  rect\r\n    .attr('style', node.style)\r\n    .attr('rx', node.rx)\r\n    .attr('ry', node.ry)\r\n    .attr('x', node.x - width / 2)\r\n    .attr('y', node.y - node.height / 2 - halfPadding)\r\n    .attr('width', width)\r\n    .attr('height', node.height + padding);\r\n\r\n  // Center the label\r\n  label.attr(\r\n    'transform',\r\n    'translate(' +\r\n      (node.x - bbox.width / 2) +\r\n      ', ' +\r\n      (node.y - node.height / 2 + node.padding / 3) +\r\n      ')'\r\n  );\r\n\r\n  const rectBox = rect.node().getBBox();\r\n  node.width = rectBox.width;\r\n  node.height = rectBox.height;\r\n\r\n  node.intersect = function (point) {\r\n    return intersectRect(node, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\n/**\r\n * Non visiable cluster where the note is group with its\r\n */\r\nconst noteGroup = (parent, node) => {\r\n  // Add outer g element\r\n  const shapeSvg = parent.insert('g').attr('class', 'note-cluster').attr('id', node.id);\r\n\r\n  // add the rect\r\n  const rect = shapeSvg.insert('rect', ':first-child');\r\n\r\n  const padding = 0 * node.padding;\r\n  const halfPadding = padding / 2;\r\n\r\n  // center the rect around its coordinate\r\n  rect\r\n    .attr('rx', node.rx)\r\n    .attr('ry', node.ry)\r\n    .attr('x', node.x - node.width / 2 - halfPadding)\r\n    .attr('y', node.y - node.height / 2 - halfPadding)\r\n    .attr('width', node.width + padding)\r\n    .attr('height', node.height + padding)\r\n    .attr('fill', 'none');\r\n\r\n  const rectBox = rect.node().getBBox();\r\n  node.width = rectBox.width;\r\n  node.height = rectBox.height;\r\n\r\n  node.intersect = function (point) {\r\n    return intersectRect(node, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\nconst roundedWithTitle = (parent, node) => {\r\n  // Add outer g element\r\n  const shapeSvg = parent.insert('g').attr('class', node.classes).attr('id', node.id);\r\n\r\n  // add the rect\r\n  const rect = shapeSvg.insert('rect', ':first-child');\r\n\r\n  // Create the label and insert it after the rect\r\n  const label = shapeSvg.insert('g').attr('class', 'cluster-label');\r\n  const innerRect = shapeSvg.append('rect');\r\n\r\n  const text = label\r\n    .node()\r\n    .appendChild(createLabel(node.labelText, node.labelStyle, undefined, true));\r\n\r\n  // Get the size of the label\r\n  let bbox = text.getBBox();\r\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\r\n    const div = text.children[0];\r\n    const dv = select(text);\r\n    bbox = div.getBoundingClientRect();\r\n    dv.attr('width', bbox.width);\r\n    dv.attr('height', bbox.height);\r\n  }\r\n  bbox = text.getBBox();\r\n  const padding = 0 * node.padding;\r\n  const halfPadding = padding / 2;\r\n\r\n  const width = node.width <= bbox.width + node.padding ? bbox.width + node.padding : node.width;\r\n  if (node.width <= bbox.width + node.padding) {\r\n    node.diff = (bbox.width + node.padding * 0 - node.width) / 2;\r\n  } else {\r\n    node.diff = -node.padding / 2;\r\n  }\r\n\r\n  // center the rect around its coordinate\r\n  rect\r\n    .attr('class', 'outer')\r\n    .attr('x', node.x - width / 2 - halfPadding)\r\n    .attr('y', node.y - node.height / 2 - halfPadding)\r\n    .attr('width', width + padding)\r\n    .attr('height', node.height + padding);\r\n  innerRect\r\n    .attr('class', 'inner')\r\n    .attr('x', node.x - width / 2 - halfPadding)\r\n    .attr('y', node.y - node.height / 2 - halfPadding + bbox.height - 1)\r\n    .attr('width', width + padding)\r\n    .attr('height', node.height + padding - bbox.height - 3);\r\n\r\n  // Center the label\r\n  label.attr(\r\n    'transform',\r\n    'translate(' +\r\n      (node.x - bbox.width / 2) +\r\n      ', ' +\r\n      (node.y -\r\n        node.height / 2 -\r\n        node.padding / 3 +\r\n        (evaluate(getConfig().flowchart.htmlLabels) ? 5 : 3)) +\r\n      ')'\r\n  );\r\n\r\n  const rectBox = rect.node().getBBox();\r\n  node.height = rectBox.height;\r\n\r\n  node.intersect = function (point) {\r\n    return intersectRect(node, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nconst divider = (parent, node) => {\r\n  // Add outer g element\r\n  const shapeSvg = parent.insert('g').attr('class', node.classes).attr('id', node.id);\r\n\r\n  // add the rect\r\n  const rect = shapeSvg.insert('rect', ':first-child');\r\n\r\n  const padding = 0 * node.padding;\r\n  const halfPadding = padding / 2;\r\n\r\n  // center the rect around its coordinate\r\n  rect\r\n    .attr('class', 'divider')\r\n    .attr('x', node.x - node.width / 2 - halfPadding)\r\n    .attr('y', node.y - node.height / 2)\r\n    .attr('width', node.width + padding)\r\n    .attr('height', node.height + padding);\r\n\r\n  const rectBox = rect.node().getBBox();\r\n  node.width = rectBox.width;\r\n  node.height = rectBox.height;\r\n  node.diff = -node.padding / 2;\r\n  node.intersect = function (point) {\r\n    return intersectRect(node, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nconst shapes = { rect, roundedWithTitle, noteGroup, divider };\r\n\r\nlet clusterElems = {};\r\n\r\nexport const insertCluster = (elem, node) => {\r\n  log.trace('Inserting cluster');\r\n  const shape = node.shape || 'rect';\r\n  clusterElems[node.id] = shapes[shape](elem, node);\r\n};\r\nexport const getClusterTitleWidth = (elem, node) => {\r\n  const label = createLabel(node.labelText, node.labelStyle, undefined, true);\r\n  elem.node().appendChild(label);\r\n  const width = label.getBBox().width;\r\n  elem.node().removeChild(label);\r\n  return width;\r\n};\r\n\r\nexport const clear = () => {\r\n  clusterElems = {};\r\n};\r\n\r\nexport const positionCluster = (node) => {\r\n  log.info('Position cluster (' + node.id + ', ' + node.x + ', ' + node.y + ')');\r\n  const el = clusterElems[node.id];\r\n\r\n  el.attr('transform', 'translate(' + node.x + ', ' + node.y + ')');\r\n};\r\n","import { select } from 'd3';\r\nimport { log } from '../logger'; // eslint-disable-line\r\nimport { evaluate } from '../diagrams/common/common';\r\n// let vertexNode;\r\n// if (evaluate(getConfig().flowchart.htmlLabels)) {\r\n//   // TODO: addHtmlLabel accepts a labelStyle. Do we possibly have that?\r\n//   const node = {\r\n//     label: vertexText.replace(/fa[lrsb]?:fa-[\\w-]+/g, s => `<i class='${s.replace(':', ' ')}'></i>`)\r\n//   };\r\n//   vertexNode = addHtmlLabel(svg, node).node();\r\n//   vertexNode.parentNode.removeChild(vertexNode);\r\n// } else {\r\n//   const svgLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');\r\n//   svgLabel.setAttribute('style', styles.labelStyle.replace('color:', 'fill:'));\r\n\r\n//   const rows = vertexText.split(common.lineBreakRegex);\r\n\r\n//   for (let j = 0; j < rows.length; j++) {\r\n//     const tspan = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');\r\n//     tspan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n//     tspan.setAttribute('dy', '1em');\r\n//     tspan.setAttribute('x', '1');\r\n//     tspan.textContent = rows[j];\r\n//     svgLabel.appendChild(tspan);\r\n//   }\r\n//   vertexNode = svgLabel;\r\n// }\r\nimport { getConfig } from '../config';\r\n\r\nfunction applyStyle(dom, styleFn) {\r\n  if (styleFn) {\r\n    dom.attr('style', styleFn);\r\n  }\r\n}\r\n\r\nfunction addHtmlLabel(node) {\r\n  // var fo = root.append('foreignObject').attr('width', '100000');\r\n\r\n  // var div = fo.append('xhtml:div');\r\n  // div.attr('xmlns', 'http://www.w3.org/1999/xhtml');\r\n\r\n  // var label = node.label;\r\n  // switch (typeof label) {\r\n  //   case 'function':\r\n  //     div.insert(label);\r\n  //     break;\r\n  //   case 'object':\r\n  //     // Currently we assume this is a DOM object.\r\n  //     div.insert(function() {\r\n  //       return label;\r\n  //     });\r\n  //     break;\r\n  //   default:\r\n  //     div.html(label);\r\n  // }\r\n\r\n  // applyStyle(div, node.labelStyle);\r\n  // div.style('display', 'inline-block');\r\n  // // Fix for firefox\r\n  // div.style('white-space', 'nowrap');\r\n\r\n  // var client = div.node().getBoundingClientRect();\r\n  // fo.attr('width', client.width).attr('height', client.height);\r\n  const fo = select(document.createElementNS('http://www.w3.org/2000/svg', 'foreignObject'));\r\n  const div = fo.append('xhtml:div');\r\n\r\n  const label = node.label;\r\n  const labelClass = node.isNode ? 'nodeLabel' : 'edgeLabel';\r\n  div.html(\r\n    '<span class=\"' +\r\n      labelClass +\r\n      '\" ' +\r\n      (node.labelStyle ? 'style=\"' + node.labelStyle + '\"' : '') +\r\n      '>' +\r\n      label +\r\n      '</span>'\r\n  );\r\n\r\n  applyStyle(div, node.labelStyle);\r\n  div.style('display', 'inline-block');\r\n  // Fix for firefox\r\n  div.style('white-space', 'nowrap');\r\n  div.attr('xmlns', 'http://www.w3.org/1999/xhtml');\r\n  return fo.node();\r\n}\r\n\r\nconst createLabel = (_vertexText, style, isTitle, isNode) => {\r\n  let vertexText = _vertexText || '';\r\n  if (typeof vertexText === 'object') vertexText = vertexText[0];\r\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\r\n    // TODO: addHtmlLabel accepts a labelStyle. Do we possibly have that?\r\n    vertexText = vertexText.replace(/\\\\n|\\n/g, '<br />');\r\n    log.info('vertexText' + vertexText);\r\n    const node = {\r\n      isNode,\r\n      label: vertexText.replace(\r\n        /fa[lrsb]?:fa-[\\w-]+/g,\r\n        (s) => `<i class='${s.replace(':', ' ')}'></i>`\r\n      ),\r\n      labelStyle: style.replace('fill:', 'color:'),\r\n    };\r\n    let vertexNode = addHtmlLabel(node);\r\n    // vertexNode.parentNode.removeChild(vertexNode);\r\n    return vertexNode;\r\n  } else {\r\n    const svgLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');\r\n    svgLabel.setAttribute('style', style.replace('color:', 'fill:'));\r\n    let rows = [];\r\n    if (typeof vertexText === 'string') {\r\n      rows = vertexText.split(/\\\\n|\\n|<br\\s*\\/?>/gi);\r\n    } else if (Array.isArray(vertexText)) {\r\n      rows = vertexText;\r\n    } else {\r\n      rows = [];\r\n    }\r\n\r\n    for (let j = 0; j < rows.length; j++) {\r\n      const tspan = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');\r\n      tspan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n      tspan.setAttribute('dy', '1em');\r\n      tspan.setAttribute('x', '0');\r\n      if (isTitle) {\r\n        tspan.setAttribute('class', 'title-row');\r\n      } else {\r\n        tspan.setAttribute('class', 'row');\r\n      }\r\n      tspan.textContent = rows[j].trim();\r\n      svgLabel.appendChild(tspan);\r\n    }\r\n    return svgLabel;\r\n  }\r\n};\r\n\r\nexport default createLabel;\r\n","import { log } from '../logger'; // eslint-disable-line\r\nimport createLabel from './createLabel';\r\n// import { line, curveBasis, curveLinear, select } from 'd3';\r\nimport { line, curveBasis, select } from 'd3';\r\nimport { getConfig } from '../config';\r\nimport utils from '../utils';\r\nimport { evaluate } from '../diagrams/common/common';\r\n\r\nlet edgeLabels = {};\r\nlet terminalLabels = {};\r\n\r\nexport const clear = () => {\r\n  edgeLabels = {};\r\n  terminalLabels = {};\r\n};\r\n\r\nexport const insertEdgeLabel = (elem, edge) => {\r\n  // Create the actual text element\r\n  const labelElement = createLabel(edge.label, edge.labelStyle);\r\n\r\n  // Create outer g, edgeLabel, this will be positioned after graph layout\r\n  const edgeLabel = elem.insert('g').attr('class', 'edgeLabel');\r\n\r\n  // Create inner g, label, this will be positioned now for centering the text\r\n  const label = edgeLabel.insert('g').attr('class', 'label');\r\n  label.node().appendChild(labelElement);\r\n\r\n  // Center the label\r\n  let bbox = labelElement.getBBox();\r\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\r\n    const div = labelElement.children[0];\r\n    const dv = select(labelElement);\r\n    bbox = div.getBoundingClientRect();\r\n    dv.attr('width', bbox.width);\r\n    dv.attr('height', bbox.height);\r\n  }\r\n  label.attr('transform', 'translate(' + -bbox.width / 2 + ', ' + -bbox.height / 2 + ')');\r\n\r\n  // Make element accessible by id for positioning\r\n  edgeLabels[edge.id] = edgeLabel;\r\n\r\n  // Update the abstract data of the edge with the new information about its width and height\r\n  edge.width = bbox.width;\r\n  edge.height = bbox.height;\r\n\r\n  let fo;\r\n  if (edge.startLabelLeft) {\r\n    // Create the actual text element\r\n    const startLabelElement = createLabel(edge.startLabelLeft, edge.labelStyle);\r\n    const startEdgeLabelLeft = elem.insert('g').attr('class', 'edgeTerminals');\r\n    const inner = startEdgeLabelLeft.insert('g').attr('class', 'inner');\r\n    fo = inner.node().appendChild(startLabelElement);\r\n    const slBox = startLabelElement.getBBox();\r\n    inner.attr('transform', 'translate(' + -slBox.width / 2 + ', ' + -slBox.height / 2 + ')');\r\n    if (!terminalLabels[edge.id]) {\r\n      terminalLabels[edge.id] = {};\r\n    }\r\n    terminalLabels[edge.id].startLeft = startEdgeLabelLeft;\r\n    setTerminalWidth(fo, edge.startLabelLeft);\r\n  }\r\n  if (edge.startLabelRight) {\r\n    // Create the actual text element\r\n    const startLabelElement = createLabel(edge.startLabelRight, edge.labelStyle);\r\n    const startEdgeLabelRight = elem.insert('g').attr('class', 'edgeTerminals');\r\n    const inner = startEdgeLabelRight.insert('g').attr('class', 'inner');\r\n    fo = startEdgeLabelRight.node().appendChild(startLabelElement);\r\n    inner.node().appendChild(startLabelElement);\r\n    const slBox = startLabelElement.getBBox();\r\n    inner.attr('transform', 'translate(' + -slBox.width / 2 + ', ' + -slBox.height / 2 + ')');\r\n\r\n    if (!terminalLabels[edge.id]) {\r\n      terminalLabels[edge.id] = {};\r\n    }\r\n    terminalLabels[edge.id].startRight = startEdgeLabelRight;\r\n    setTerminalWidth(fo, edge.startLabelRight);\r\n  }\r\n  if (edge.endLabelLeft) {\r\n    // Create the actual text element\r\n    const endLabelElement = createLabel(edge.endLabelLeft, edge.labelStyle);\r\n    const endEdgeLabelLeft = elem.insert('g').attr('class', 'edgeTerminals');\r\n    const inner = endEdgeLabelLeft.insert('g').attr('class', 'inner');\r\n    fo = inner.node().appendChild(endLabelElement);\r\n    const slBox = endLabelElement.getBBox();\r\n    inner.attr('transform', 'translate(' + -slBox.width / 2 + ', ' + -slBox.height / 2 + ')');\r\n\r\n    endEdgeLabelLeft.node().appendChild(endLabelElement);\r\n\r\n    if (!terminalLabels[edge.id]) {\r\n      terminalLabels[edge.id] = {};\r\n    }\r\n    terminalLabels[edge.id].endLeft = endEdgeLabelLeft;\r\n    setTerminalWidth(fo, edge.endLabelLeft);\r\n  }\r\n  if (edge.endLabelRight) {\r\n    // Create the actual text element\r\n    const endLabelElement = createLabel(edge.endLabelRight, edge.labelStyle);\r\n    const endEdgeLabelRight = elem.insert('g').attr('class', 'edgeTerminals');\r\n    const inner = endEdgeLabelRight.insert('g').attr('class', 'inner');\r\n\r\n    fo = inner.node().appendChild(endLabelElement);\r\n    const slBox = endLabelElement.getBBox();\r\n    inner.attr('transform', 'translate(' + -slBox.width / 2 + ', ' + -slBox.height / 2 + ')');\r\n\r\n    endEdgeLabelRight.node().appendChild(endLabelElement);\r\n    if (!terminalLabels[edge.id]) {\r\n      terminalLabels[edge.id] = {};\r\n    }\r\n    terminalLabels[edge.id].endRight = endEdgeLabelRight;\r\n    setTerminalWidth(fo, edge.endLabelRight);\r\n  }\r\n};\r\n\r\nfunction setTerminalWidth(fo, value) {\r\n  if (getConfig().flowchart.htmlLabels && fo) {\r\n    fo.style.width = value.length * 9 + 'px';\r\n    fo.style.height = '12px';\r\n  }\r\n}\r\n\r\nexport const positionEdgeLabel = (edge, paths) => {\r\n  log.info('Moving label abc78 ', edge.id, edge.label, edgeLabels[edge.id]);\r\n  let path = paths.updatedPath ? paths.updatedPath : paths.originalPath;\r\n  if (edge.label) {\r\n    const el = edgeLabels[edge.id];\r\n    let x = edge.x;\r\n    let y = edge.y;\r\n    if (path) {\r\n      //   // debugger;\r\n      const pos = utils.calcLabelPosition(path);\r\n      log.info('Moving label from (', x, ',', y, ') to (', pos.x, ',', pos.y, ') abc78');\r\n      // x = pos.x;\r\n      // y = pos.y;\r\n    }\r\n    el.attr('transform', 'translate(' + x + ', ' + y + ')');\r\n  }\r\n\r\n  //let path = paths.updatedPath ? paths.updatedPath : paths.originalPath;\r\n  if (edge.startLabelLeft) {\r\n    const el = terminalLabels[edge.id].startLeft;\r\n    let x = edge.x;\r\n    let y = edge.y;\r\n    if (path) {\r\n      // debugger;\r\n      const pos = utils.calcTerminalLabelPosition(edge.arrowTypeStart ? 10 : 0, 'start_left', path);\r\n      x = pos.x;\r\n      y = pos.y;\r\n    }\r\n    el.attr('transform', 'translate(' + x + ', ' + y + ')');\r\n  }\r\n  if (edge.startLabelRight) {\r\n    const el = terminalLabels[edge.id].startRight;\r\n    let x = edge.x;\r\n    let y = edge.y;\r\n    if (path) {\r\n      // debugger;\r\n      const pos = utils.calcTerminalLabelPosition(\r\n        edge.arrowTypeStart ? 10 : 0,\r\n        'start_right',\r\n        path\r\n      );\r\n      x = pos.x;\r\n      y = pos.y;\r\n    }\r\n    el.attr('transform', 'translate(' + x + ', ' + y + ')');\r\n  }\r\n  if (edge.endLabelLeft) {\r\n    const el = terminalLabels[edge.id].endLeft;\r\n    let x = edge.x;\r\n    let y = edge.y;\r\n    if (path) {\r\n      // debugger;\r\n      const pos = utils.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, 'end_left', path);\r\n      x = pos.x;\r\n      y = pos.y;\r\n    }\r\n    el.attr('transform', 'translate(' + x + ', ' + y + ')');\r\n  }\r\n  if (edge.endLabelRight) {\r\n    const el = terminalLabels[edge.id].endRight;\r\n    let x = edge.x;\r\n    let y = edge.y;\r\n    if (path) {\r\n      // debugger;\r\n      const pos = utils.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, 'end_right', path);\r\n      x = pos.x;\r\n      y = pos.y;\r\n    }\r\n    el.attr('transform', 'translate(' + x + ', ' + y + ')');\r\n  }\r\n};\r\n\r\n// const getRelationType = function(type) {\r\n//   switch (type) {\r\n//     case stateDb.relationType.AGGREGATION:\r\n//       return 'aggregation';\r\n//     case stateDb.relationType.EXTENSION:\r\n//       return 'extension';\r\n//     case stateDb.relationType.COMPOSITION:\r\n//       return 'composition';\r\n//     case stateDb.relationType.DEPENDENCY:\r\n//       return 'dependency';\r\n//   }\r\n// };\r\n\r\nconst outsideNode = (node, point) => {\r\n  // log.warn('Checking bounds ', node, point);\r\n  const x = node.x;\r\n  const y = node.y;\r\n  const dx = Math.abs(point.x - x);\r\n  const dy = Math.abs(point.y - y);\r\n  const w = node.width / 2;\r\n  const h = node.height / 2;\r\n  if (dx >= w || dy >= h) {\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const intersection = (node, outsidePoint, insidePoint) => {\r\n  log.warn(`intersection calc abc89:\r\n  outsidePoint: ${JSON.stringify(outsidePoint)}\r\n  insidePoint : ${JSON.stringify(insidePoint)}\r\n  node        : x:${node.x} y:${node.y} w:${node.width} h:${node.height}`);\r\n  const x = node.x;\r\n  const y = node.y;\r\n\r\n  const dx = Math.abs(x - insidePoint.x);\r\n  // const dy = Math.abs(y - insidePoint.y);\r\n  const w = node.width / 2;\r\n  let r = insidePoint.x < outsidePoint.x ? w - dx : w + dx;\r\n  const h = node.height / 2;\r\n\r\n  // const edges = {\r\n  //   x1: x - w,\r\n  //   x2: x + w,\r\n  //   y1: y - h,\r\n  //   y2: y + h\r\n  // };\r\n\r\n  // if (\r\n  //   outsidePoint.x === edges.x1 ||\r\n  //   outsidePoint.x === edges.x2 ||\r\n  //   outsidePoint.y === edges.y1 ||\r\n  //   outsidePoint.y === edges.y2\r\n  // ) {\r\n  //   log.warn('abc89 calc equals on edge', outsidePoint, edges);\r\n  //   return outsidePoint;\r\n  // }\r\n\r\n  const Q = Math.abs(outsidePoint.y - insidePoint.y);\r\n  const R = Math.abs(outsidePoint.x - insidePoint.x);\r\n  // log.warn();\r\n  if (Math.abs(y - outsidePoint.y) * w > Math.abs(x - outsidePoint.x) * h) { // eslint-disable-line\r\n    // Intersection is top or bottom of rect.\r\n    // let q = insidePoint.y < outsidePoint.y ? outsidePoint.y - h - y : y - h - outsidePoint.y;\r\n    let q = insidePoint.y < outsidePoint.y ? outsidePoint.y - h - y : y - h - outsidePoint.y;\r\n    r = (R * q) / Q;\r\n    const res = {\r\n      x: insidePoint.x < outsidePoint.x ? insidePoint.x + r : insidePoint.x - R + r,\r\n      y: insidePoint.y < outsidePoint.y ? insidePoint.y + Q - q : insidePoint.y - Q + q,\r\n    };\r\n\r\n    if (r === 0) {\r\n      res.x = outsidePoint.x;\r\n      res.y = outsidePoint.y;\r\n    }\r\n    if (R === 0) {\r\n      res.x = outsidePoint.x;\r\n    }\r\n    if (Q === 0) {\r\n      res.y = outsidePoint.y;\r\n    }\r\n\r\n    log.warn(`abc89 topp/bott calc, Q ${Q}, q ${q}, R ${R}, r ${r}`, res);\r\n\r\n    return res;\r\n  } else {\r\n    // Intersection onn sides of rect\r\n    if (insidePoint.x < outsidePoint.x) {\r\n      r = outsidePoint.x - w - x;\r\n    } else {\r\n      // r = outsidePoint.x - w - x;\r\n      r = x - w - outsidePoint.x;\r\n    }\r\n    let q = (Q * r) / R;\r\n    //  OK let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : insidePoint.x + dx - w;\r\n    // OK let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : outsidePoint.x + r;\r\n    let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : insidePoint.x - R + r;\r\n    // let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : outsidePoint.x + r;\r\n    let _y = insidePoint.y < outsidePoint.y ? insidePoint.y + q : insidePoint.y - q;\r\n    log.warn(`sides calc abc89, Q ${Q}, q ${q}, R ${R}, r ${r}`, { _x, _y });\r\n    if (r === 0) {\r\n      _x = outsidePoint.x;\r\n      _y = outsidePoint.y;\r\n    }\r\n    if (R === 0) {\r\n      _x = outsidePoint.x;\r\n    }\r\n    if (Q === 0) {\r\n      _y = outsidePoint.y;\r\n    }\r\n\r\n    return { x: _x, y: _y };\r\n  }\r\n};\r\n/**\r\n * This function will page a path and node where the last point(s) in the path is inside the node\r\n * and return an update path ending by the border of the node.\r\n * @param {*} points\r\n * @param {*} boundryNode\r\n * @returns\r\n */\r\nconst cutPathAtIntersect = (_points, boundryNode) => {\r\n  log.warn('abc88 cutPathAtIntersect', _points, boundryNode);\r\n  let points = [];\r\n  let lastPointOutside = _points[0];\r\n  let isInside = false;\r\n  _points.forEach((point) => {\r\n    // const node = clusterDb[edge.toCluster].node;\r\n    log.info('abc88 checking point', point, boundryNode);\r\n\r\n    // check if point is inside the boundry rect\r\n    if (!outsideNode(boundryNode, point) && !isInside) {\r\n      // First point inside the rect found\r\n      // Calc the intersection coord between the point anf the last opint ouside the rect\r\n      const inter = intersection(boundryNode, lastPointOutside, point);\r\n      log.warn('abc88 inside', point, lastPointOutside, inter);\r\n      log.warn('abc88 intersection', inter);\r\n\r\n      // // Check case where the intersection is the same as the last point\r\n      let pointPresent = false;\r\n      points.forEach((p) => {\r\n        pointPresent = pointPresent || (p.x === inter.x && p.y === inter.y);\r\n      });\r\n      // // if (!pointPresent) {\r\n      if (!points.find((e) => e.x === inter.x && e.y === inter.y)) {\r\n        points.push(inter);\r\n      } else {\r\n        log.warn('abc88 no intersect', inter, points);\r\n      }\r\n      // points.push(inter);\r\n      isInside = true;\r\n    } else {\r\n      // Outside\r\n      log.warn('abc88 outside', point, lastPointOutside);\r\n      lastPointOutside = point;\r\n      // points.push(point);\r\n      if (!isInside) points.push(point);\r\n    }\r\n  });\r\n  log.warn('abc88 returning points', points);\r\n  return points;\r\n};\r\n\r\n//(edgePaths, e, edge, clusterDb, diagramtype, graph)\r\nexport const insertEdge = function (elem, e, edge, clusterDb, diagramType, graph) {\r\n  let points = edge.points;\r\n  let pointsHasChanged = false;\r\n  const tail = graph.node(e.v);\r\n  var head = graph.node(e.w);\r\n\r\n  log.info('abc88 InsertEdge: ', edge);\r\n  if (head.intersect && tail.intersect) {\r\n    points = points.slice(1, edge.points.length - 1);\r\n    points.unshift(tail.intersect(points[0]));\r\n    log.info(\r\n      'Last point',\r\n      points[points.length - 1],\r\n      head,\r\n      head.intersect(points[points.length - 1])\r\n    );\r\n    points.push(head.intersect(points[points.length - 1]));\r\n  }\r\n  if (edge.toCluster) {\r\n    log.info('to cluster abc88', clusterDb[edge.toCluster]);\r\n    points = cutPathAtIntersect(edge.points, clusterDb[edge.toCluster].node);\r\n    // log.trace('edge', edge);\r\n    // points = [];\r\n    // let lastPointOutside; // = edge.points[0];\r\n    // let isInside = false;\r\n    // edge.points.forEach(point => {\r\n    //   const node = clusterDb[edge.toCluster].node;\r\n    //   log.warn('checking from', edge.fromCluster, point, node);\r\n\r\n    //   if (!outsideNode(node, point) && !isInside) {\r\n    //     log.trace('inside', edge.toCluster, point, lastPointOutside);\r\n\r\n    //     // First point inside the rect\r\n    //     const inter = intersection(node, lastPointOutside, point);\r\n\r\n    //     let pointPresent = false;\r\n    //     points.forEach(p => {\r\n    //       pointPresent = pointPresent || (p.x === inter.x && p.y === inter.y);\r\n    //     });\r\n    //     // if (!pointPresent) {\r\n    //     if (!points.find(e => e.x === inter.x && e.y === inter.y)) {\r\n    //       points.push(inter);\r\n    //     } else {\r\n    //       log.warn('no intersect', inter, points);\r\n    //     }\r\n    //     isInside = true;\r\n    // } else {\r\n    //   // outtside\r\n    //   lastPointOutside = point;\r\n    //   if (!isInside) points.push(point);\r\n    // }\r\n    // });\r\n    pointsHasChanged = true;\r\n  }\r\n\r\n  if (edge.fromCluster) {\r\n    log.info('from cluster abc88', clusterDb[edge.fromCluster]);\r\n    points = cutPathAtIntersect(points.reverse(), clusterDb[edge.fromCluster].node).reverse();\r\n    // log.warn('edge', edge);\r\n    // log.warn('from cluster', clusterDb[edge.fromCluster], points);\r\n    // const updatedPoints = [];\r\n    // let lastPointOutside = edge.points[edge.points.length - 1];\r\n    // let isInside = false;\r\n    // for (let i = points.length - 1; i >= 0; i--) {\r\n    //   const point = points[i];\r\n    //   const node = clusterDb[edge.fromCluster].node;\r\n    //   log.warn('checking to', edge.fromCluster, point, node);\r\n\r\n    //   if (!outsideNode(node, point) && !isInside) {\r\n    //     log.warn('inside', edge.fromCluster, point, node);\r\n\r\n    //     // First point inside the rect\r\n    //     const inter = intersection(node, lastPointOutside, point);\r\n    //     log.warn('intersect', intersection(node, lastPointOutside, point));\r\n    //     let pointPresent = false;\r\n    //     points.forEach(p => {\r\n    //       pointPresent = pointPresent || (p.x === inter.x && p.y === inter.y);\r\n    //     });\r\n    //     // if (!pointPresent) {\r\n    //     if (!points.find(e => e.x === inter.x && e.y === inter.y)) {\r\n    //       updatedPoints.unshift(inter);\r\n    //       log.warn('Adding point -updated = ', updatedPoints);\r\n    //     } else {\r\n    //       log.warn('no intersect', inter, points);\r\n    //     }\r\n    //     // points.push(insterection);\r\n    //     isInside = true;\r\n    //   } else {\r\n    //     // at the outside\r\n    //     // if (!isInside) updatedPoints.unshift(point);\r\n    //     updatedPoints.unshift(point);\r\n    //     log.warn('Outside point', point, updatedPoints);\r\n    //   }\r\n    //   lastPointOutside = point;\r\n    // }\r\n    // points = updatedPoints;\r\n    // points = edge.points;\r\n    pointsHasChanged = true;\r\n  }\r\n\r\n  // The data for our line\r\n  const lineData = points.filter((p) => !Number.isNaN(p.y));\r\n\r\n  // This is the accessor function we talked about above\r\n  let curve;\r\n  // Currently only flowcharts get the curve from the settings, perhaps this should\r\n  // be expanded to a common setting? Restricting it for now in order not to cause side-effects that\r\n  // have not been thought through\r\n  if (diagramType === 'graph' || diagramType === 'flowchart') {\r\n    curve = edge.curve || curveBasis;\r\n  } else {\r\n    curve = curveBasis;\r\n  }\r\n  // curve = curveLinear;\r\n  const lineFunction = line()\r\n    .x(function (d) {\r\n      return d.x;\r\n    })\r\n    .y(function (d) {\r\n      return d.y;\r\n    })\r\n    .curve(curve);\r\n\r\n  // Contruct stroke classes based on properties\r\n  let strokeClasses;\r\n  switch (edge.thickness) {\r\n    case 'normal':\r\n      strokeClasses = 'edge-thickness-normal';\r\n      break;\r\n    case 'thick':\r\n      strokeClasses = 'edge-thickness-thick';\r\n      break;\r\n    default:\r\n      strokeClasses = '';\r\n  }\r\n  switch (edge.pattern) {\r\n    case 'solid':\r\n      strokeClasses += ' edge-pattern-solid';\r\n      break;\r\n    case 'dotted':\r\n      strokeClasses += ' edge-pattern-dotted';\r\n      break;\r\n    case 'dashed':\r\n      strokeClasses += ' edge-pattern-dashed';\r\n      break;\r\n  }\r\n\r\n  const svgPath = elem\r\n    .append('path')\r\n    .attr('d', lineFunction(lineData))\r\n    .attr('id', edge.id)\r\n    .attr('class', ' ' + strokeClasses + (edge.classes ? ' ' + edge.classes : ''))\r\n    .attr('style', edge.style);\r\n\r\n  // DEBUG code, adds a red circle at each edge coordinate\r\n  // edge.points.forEach(point => {\r\n  //   elem\r\n  //     .append('circle')\r\n  //     .style('stroke', 'red')\r\n  //     .style('fill', 'red')\r\n  //     .attr('r', 1)\r\n  //     .attr('cx', point.x)\r\n  //     .attr('cy', point.y);\r\n  // });\r\n\r\n  let url = '';\r\n  if (getConfig().state.arrowMarkerAbsolute) {\r\n    url =\r\n      window.location.protocol +\r\n      '//' +\r\n      window.location.host +\r\n      window.location.pathname +\r\n      window.location.search;\r\n    url = url.replace(/\\(/g, '\\\\(');\r\n    url = url.replace(/\\)/g, '\\\\)');\r\n  }\r\n  log.info('arrowTypeStart', edge.arrowTypeStart);\r\n  log.info('arrowTypeEnd', edge.arrowTypeEnd);\r\n\r\n  switch (edge.arrowTypeStart) {\r\n    case 'arrow_cross':\r\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-crossStart' + ')');\r\n      break;\r\n    case 'arrow_point':\r\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-pointStart' + ')');\r\n      break;\r\n    case 'arrow_barb':\r\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-barbStart' + ')');\r\n      break;\r\n    case 'arrow_circle':\r\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-circleStart' + ')');\r\n      break;\r\n    case 'aggregation':\r\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-aggregationStart' + ')');\r\n      break;\r\n    case 'extension':\r\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-extensionStart' + ')');\r\n      break;\r\n    case 'composition':\r\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-compositionStart' + ')');\r\n      break;\r\n    case 'dependency':\r\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-dependencyStart' + ')');\r\n      break;\r\n    default:\r\n  }\r\n  switch (edge.arrowTypeEnd) {\r\n    case 'arrow_cross':\r\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-crossEnd' + ')');\r\n      break;\r\n    case 'arrow_point':\r\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-pointEnd' + ')');\r\n      break;\r\n    case 'arrow_barb':\r\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-barbEnd' + ')');\r\n      break;\r\n    case 'arrow_circle':\r\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-circleEnd' + ')');\r\n      break;\r\n    case 'aggregation':\r\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-aggregationEnd' + ')');\r\n      break;\r\n    case 'extension':\r\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-extensionEnd' + ')');\r\n      break;\r\n    case 'composition':\r\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-compositionEnd' + ')');\r\n      break;\r\n    case 'dependency':\r\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-dependencyEnd' + ')');\r\n      break;\r\n    default:\r\n  }\r\n  let paths = {};\r\n  if (pointsHasChanged) {\r\n    paths.updatedPath = points;\r\n  }\r\n  paths.originalPath = edge.points;\r\n  return paths;\r\n};\r\n","import dagre from 'dagre';\r\nimport graphlib from 'graphlib';\r\nimport insertMarkers from './markers';\r\nimport { updateNodeBounds } from './shapes/util';\r\nimport {\r\n  clear as clearGraphlib,\r\n  clusterDb,\r\n  adjustClustersAndEdges,\r\n  findNonClusterChild,\r\n  sortNodesByHierarchy,\r\n} from './mermaid-graphlib';\r\nimport { insertNode, positionNode, clear as clearNodes, setNodeElem } from './nodes';\r\nimport { insertCluster, clear as clearClusters } from './clusters';\r\nimport { insertEdgeLabel, positionEdgeLabel, insertEdge, clear as clearEdges } from './edges';\r\nimport { log } from '../logger';\r\n\r\nconst recursiveRender = (_elem, graph, diagramtype, parentCluster) => {\r\n  log.info('Graph in recursive render: XXX', graphlib.json.write(graph), parentCluster);\r\n  const dir = graph.graph().rankdir;\r\n  log.trace('Dir in recursive render - dir:', dir);\r\n\r\n  const elem = _elem.insert('g').attr('class', 'root'); // eslint-disable-line\r\n  if (!graph.nodes()) {\r\n    log.info('No nodes found for', graph);\r\n  } else {\r\n    log.info('Recursive render XXX', graph.nodes());\r\n  }\r\n  if (graph.edges().length > 0) {\r\n    log.trace('Recursive edges', graph.edge(graph.edges()[0]));\r\n  }\r\n  const clusters = elem.insert('g').attr('class', 'clusters'); // eslint-disable-line\r\n  const edgePaths = elem.insert('g').attr('class', 'edgePaths');\r\n  const edgeLabels = elem.insert('g').attr('class', 'edgeLabels');\r\n  const nodes = elem.insert('g').attr('class', 'nodes');\r\n\r\n  // Insert nodes, this will insert them into the dom and each node will get a size. The size is updated\r\n  // to the abstract node and is later used by dagre for the layout\r\n  graph.nodes().forEach(function (v) {\r\n    const node = graph.node(v);\r\n    if (typeof parentCluster !== 'undefined') {\r\n      const data = JSON.parse(JSON.stringify(parentCluster.clusterData));\r\n      // data.clusterPositioning = true;\r\n      log.info('Setting data for cluster XXX (', v, ') ', data, parentCluster);\r\n      graph.setNode(parentCluster.id, data);\r\n      if (!graph.parent(v)) {\r\n        log.trace('Setting parent', v, parentCluster.id);\r\n        graph.setParent(v, parentCluster.id, data);\r\n      }\r\n    }\r\n    log.info('(Insert) Node XXX' + v + ': ' + JSON.stringify(graph.node(v)));\r\n    if (node && node.clusterNode) {\r\n      // const children = graph.children(v);\r\n      log.info('Cluster identified', v, node.width, graph.node(v));\r\n      const o = recursiveRender(nodes, node.graph, diagramtype, graph.node(v));\r\n      const newEl = o.elem;\r\n      updateNodeBounds(node, newEl);\r\n      node.diff = o.diff || 0;\r\n      log.info('Node bounds (abc123)', v, node, node.width, node.x, node.y);\r\n      setNodeElem(newEl, node);\r\n\r\n      log.warn('Recursive render complete ', newEl, node);\r\n    } else {\r\n      if (graph.children(v).length > 0) {\r\n        // This is a cluster but not to be rendered recusively\r\n        // Render as before\r\n        log.info('Cluster - the non recursive path XXX', v, node.id, node, graph);\r\n        log.info(findNonClusterChild(node.id, graph));\r\n        clusterDb[node.id] = { id: findNonClusterChild(node.id, graph), node };\r\n        // insertCluster(clusters, graph.node(v));\r\n      } else {\r\n        log.info('Node - the non recursive path', v, node.id, node);\r\n        insertNode(nodes, graph.node(v), dir);\r\n      }\r\n    }\r\n  });\r\n\r\n  // Insert labels, this will insert them into the dom so that the width can be calculated\r\n  // Also figure out which edges point to/from clusters and adjust them accordingly\r\n  // Edges from/to clusters really points to the first child in the cluster.\r\n  // TODO: pick optimal child in the cluster to us as link anchor\r\n  graph.edges().forEach(function (e) {\r\n    const edge = graph.edge(e.v, e.w, e.name);\r\n    log.info('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(e));\r\n    log.info('Edge ' + e.v + ' -> ' + e.w + ': ', e, ' ', JSON.stringify(graph.edge(e)));\r\n\r\n    // Check if link is either from or to a cluster\r\n    log.info('Fix', clusterDb, 'ids:', e.v, e.w, 'Translateing: ', clusterDb[e.v], clusterDb[e.w]);\r\n    insertEdgeLabel(edgeLabels, edge);\r\n  });\r\n\r\n  graph.edges().forEach(function (e) {\r\n    log.info('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(e));\r\n  });\r\n  log.info('#############################################');\r\n  log.info('###                Layout                 ###');\r\n  log.info('#############################################');\r\n  log.info(graph);\r\n  dagre.layout(graph);\r\n  log.info('Graph after layout:', graphlib.json.write(graph));\r\n  // Move the nodes to the correct place\r\n  let diff = 0;\r\n  sortNodesByHierarchy(graph).forEach(function (v) {\r\n    const node = graph.node(v);\r\n    log.info('Position ' + v + ': ' + JSON.stringify(graph.node(v)));\r\n    log.info(\r\n      'Position ' + v + ': (' + node.x,\r\n      ',' + node.y,\r\n      ') width: ',\r\n      node.width,\r\n      ' height: ',\r\n      node.height\r\n    );\r\n    if (node && node.clusterNode) {\r\n      // clusterDb[node.id].node = node;\r\n\r\n      positionNode(node);\r\n    } else {\r\n      // Non cluster node\r\n      if (graph.children(v).length > 0) {\r\n        // A cluster in the non-recurive way\r\n        // positionCluster(node);\r\n        insertCluster(clusters, node);\r\n        clusterDb[node.id].node = node;\r\n      } else {\r\n        positionNode(node);\r\n      }\r\n    }\r\n  });\r\n\r\n  // Move the edge labels to the correct place after layout\r\n  graph.edges().forEach(function (e) {\r\n    const edge = graph.edge(e);\r\n    log.info('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(edge), edge);\r\n\r\n    const paths = insertEdge(edgePaths, e, edge, clusterDb, diagramtype, graph);\r\n    positionEdgeLabel(edge, paths);\r\n  });\r\n\r\n  graph.nodes().forEach(function (v) {\r\n    const n = graph.node(v);\r\n    log.info(v, n.type, n.diff);\r\n    if (n.type === 'group') {\r\n      diff = n.diff;\r\n    }\r\n  });\r\n  return { elem, diff };\r\n};\r\n\r\nexport const render = (elem, graph, markers, diagramtype, id) => {\r\n  insertMarkers(elem, markers, diagramtype, id);\r\n  clearNodes();\r\n  clearEdges();\r\n  clearClusters();\r\n  clearGraphlib();\r\n\r\n  log.warn('Graph at first:', graphlib.json.write(graph));\r\n  adjustClustersAndEdges(graph);\r\n  log.warn('Graph after:', graphlib.json.write(graph));\r\n  // log.warn('Graph ever  after:', graphlib.json.write(graph.node('A').graph));\r\n  recursiveRender(elem, graph, diagramtype);\r\n};\r\n\r\n// const shapeDefinitions = {};\r\n// export const addShape = ({ shapeType: fun }) => {\r\n//   shapeDefinitions[shapeType] = fun;\r\n// };\r\n\r\n// const arrowDefinitions = {};\r\n// export const addArrow = ({ arrowType: fun }) => {\r\n//   arrowDefinitions[arrowType] = fun;\r\n// };\r\n","/*\r\n * Borrowed with love from from dagrge-d3. Many thanks to cpettitt!\r\n */\r\n\r\nimport node from './intersect-node.js';\r\nimport circle from './intersect-circle.js';\r\nimport ellipse from './intersect-ellipse.js';\r\nimport polygon from './intersect-polygon.js';\r\nimport rect from './intersect-rect.js';\r\n\r\nexport default {\r\n  node,\r\n  circle,\r\n  ellipse,\r\n  polygon,\r\n  rect,\r\n};\r\n","import intersectEllipse from './intersect-ellipse';\r\n\r\nfunction intersectCircle(node, rx, point) {\r\n  return intersectEllipse(node, rx, rx, point);\r\n}\r\n\r\nexport default intersectCircle;\r\n","function intersectEllipse(node, rx, ry, point) {\r\n  // Formulae from: http://mathworld.wolfram.com/Ellipse-LineIntersection.html\r\n\r\n  var cx = node.x;\r\n  var cy = node.y;\r\n\r\n  var px = cx - point.x;\r\n  var py = cy - point.y;\r\n\r\n  var det = Math.sqrt(rx * rx * py * py + ry * ry * px * px);\r\n\r\n  var dx = Math.abs((rx * ry * px) / det);\r\n  if (point.x < cx) {\r\n    dx = -dx;\r\n  }\r\n  var dy = Math.abs((rx * ry * py) / det);\r\n  if (point.y < cy) {\r\n    dy = -dy;\r\n  }\r\n\r\n  return { x: cx + dx, y: cy + dy };\r\n}\r\n\r\nexport default intersectEllipse;\r\n","/*\r\n * Returns the point at which two lines, p and q, intersect or returns\r\n * undefined if they do not intersect.\r\n */\r\nfunction intersectLine(p1, p2, q1, q2) {\r\n  // Algorithm from J. Avro, (ed.) Graphics Gems, No 2, Morgan Kaufmann, 1994,\r\n  // p7 and p473.\r\n\r\n  var a1, a2, b1, b2, c1, c2;\r\n  var r1, r2, r3, r4;\r\n  var denom, offset, num;\r\n  var x, y;\r\n\r\n  // Compute a1, b1, c1, where line joining points 1 and 2 is F(x,y) = a1 x +\r\n  // b1 y + c1 = 0.\r\n  a1 = p2.y - p1.y;\r\n  b1 = p1.x - p2.x;\r\n  c1 = p2.x * p1.y - p1.x * p2.y;\r\n\r\n  // Compute r3 and r4.\r\n  r3 = a1 * q1.x + b1 * q1.y + c1;\r\n  r4 = a1 * q2.x + b1 * q2.y + c1;\r\n\r\n  // Check signs of r3 and r4. If both point 3 and point 4 lie on\r\n  // same side of line 1, the line segments do not intersect.\r\n  if (r3 !== 0 && r4 !== 0 && sameSign(r3, r4)) {\r\n    return /*DONT_INTERSECT*/;\r\n  }\r\n\r\n  // Compute a2, b2, c2 where line joining points 3 and 4 is G(x,y) = a2 x + b2 y + c2 = 0\r\n  a2 = q2.y - q1.y;\r\n  b2 = q1.x - q2.x;\r\n  c2 = q2.x * q1.y - q1.x * q2.y;\r\n\r\n  // Compute r1 and r2\r\n  r1 = a2 * p1.x + b2 * p1.y + c2;\r\n  r2 = a2 * p2.x + b2 * p2.y + c2;\r\n\r\n  // Check signs of r1 and r2. If both point 1 and point 2 lie\r\n  // on same side of second line segment, the line segments do\r\n  // not intersect.\r\n  if (r1 !== 0 && r2 !== 0 && sameSign(r1, r2)) {\r\n    return /*DONT_INTERSECT*/;\r\n  }\r\n\r\n  // Line segments intersect: compute intersection point.\r\n  denom = a1 * b2 - a2 * b1;\r\n  if (denom === 0) {\r\n    return /*COLLINEAR*/;\r\n  }\r\n\r\n  offset = Math.abs(denom / 2);\r\n\r\n  // The denom/2 is to get rounding instead of truncating. It\r\n  // is added or subtracted to the numerator, depending upon the\r\n  // sign of the numerator.\r\n  num = b1 * c2 - b2 * c1;\r\n  x = num < 0 ? (num - offset) / denom : (num + offset) / denom;\r\n\r\n  num = a2 * c1 - a1 * c2;\r\n  y = num < 0 ? (num - offset) / denom : (num + offset) / denom;\r\n\r\n  return { x: x, y: y };\r\n}\r\n\r\nfunction sameSign(r1, r2) {\r\n  return r1 * r2 > 0;\r\n}\r\n\r\nexport default intersectLine;\r\n","module.exports = intersectNode;\r\n\r\nfunction intersectNode(node, point) {\r\n  // console.info('Intersect Node');\r\n  return node.intersect(point);\r\n}\r\n","/* eslint \"no-console\": off */\r\n\r\nimport intersectLine from './intersect-line';\r\n\r\nexport default intersectPolygon;\r\n\r\n/*\r\n * Returns the point ({x, y}) at which the point argument intersects with the\r\n * node argument assuming that it has the shape specified by polygon.\r\n */\r\nfunction intersectPolygon(node, polyPoints, point) {\r\n  var x1 = node.x;\r\n  var y1 = node.y;\r\n\r\n  var intersections = [];\r\n\r\n  var minX = Number.POSITIVE_INFINITY;\r\n  var minY = Number.POSITIVE_INFINITY;\r\n  if (typeof polyPoints.forEach === 'function') {\r\n    polyPoints.forEach(function (entry) {\r\n      minX = Math.min(minX, entry.x);\r\n      minY = Math.min(minY, entry.y);\r\n    });\r\n  } else {\r\n    minX = Math.min(minX, polyPoints.x);\r\n    minY = Math.min(minY, polyPoints.y);\r\n  }\r\n\r\n  var left = x1 - node.width / 2 - minX;\r\n  var top = y1 - node.height / 2 - minY;\r\n\r\n  for (var i = 0; i < polyPoints.length; i++) {\r\n    var p1 = polyPoints[i];\r\n    var p2 = polyPoints[i < polyPoints.length - 1 ? i + 1 : 0];\r\n    var intersect = intersectLine(\r\n      node,\r\n      point,\r\n      { x: left + p1.x, y: top + p1.y },\r\n      { x: left + p2.x, y: top + p2.y }\r\n    );\r\n    if (intersect) {\r\n      intersections.push(intersect);\r\n    }\r\n  }\r\n\r\n  if (!intersections.length) {\r\n    // console.log('NO INTERSECTION FOUND, RETURN NODE CENTER', node);\r\n    return node;\r\n  }\r\n\r\n  if (intersections.length > 1) {\r\n    // More intersections, find the one nearest to edge end point\r\n    intersections.sort(function (p, q) {\r\n      var pdx = p.x - point.x;\r\n      var pdy = p.y - point.y;\r\n      var distp = Math.sqrt(pdx * pdx + pdy * pdy);\r\n\r\n      var qdx = q.x - point.x;\r\n      var qdy = q.y - point.y;\r\n      var distq = Math.sqrt(qdx * qdx + qdy * qdy);\r\n\r\n      return distp < distq ? -1 : distp === distq ? 0 : 1;\r\n    });\r\n  }\r\n  return intersections[0];\r\n}\r\n","const intersectRect = (node, point) => {\r\n  var x = node.x;\r\n  var y = node.y;\r\n\r\n  // Rectangle intersection algorithm from:\r\n  // http://math.stackexchange.com/questions/108113/find-edge-between-two-boxes\r\n  var dx = point.x - x;\r\n  var dy = point.y - y;\r\n  var w = node.width / 2;\r\n  var h = node.height / 2;\r\n\r\n  var sx, sy;\r\n  if (Math.abs(dy) * w > Math.abs(dx) * h) {\r\n    // Intersection is top or bottom of rect.\r\n    if (dy < 0) {\r\n      h = -h;\r\n    }\r\n    sx = dy === 0 ? 0 : (h * dx) / dy;\r\n    sy = h;\r\n  } else {\r\n    // Intersection is left or right of rect.\r\n    if (dx < 0) {\r\n      w = -w;\r\n    }\r\n    sx = w;\r\n    sy = dx === 0 ? 0 : (w * dy) / dx;\r\n  }\r\n\r\n  return { x: x + sx, y: y + sy };\r\n};\r\n\r\nexport default intersectRect;\r\n","/**\r\n * Setup arrow head and define the marker. The result is appended to the svg.\r\n */\r\n\r\nimport { log } from '../logger';\r\n\r\n// Only add the number of markers that the diagram needs\r\nconst insertMarkers = (elem, markerArray, type, id) => {\r\n  markerArray.forEach((markerName) => {\r\n    markers[markerName](elem, type, id);\r\n  });\r\n};\r\n\r\nconst extension = (elem, type, id) => {\r\n  log.trace('Making markers for ', id);\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', type + '-extensionStart')\r\n    .attr('class', 'marker extension ' + type)\r\n    .attr('refX', 0)\r\n    .attr('refY', 7)\r\n    .attr('markerWidth', 190)\r\n    .attr('markerHeight', 240)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 1,7 L18,13 V 1 Z');\r\n\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', type + '-extensionEnd')\r\n    .attr('class', 'marker extension ' + type)\r\n    .attr('refX', 19)\r\n    .attr('refY', 7)\r\n    .attr('markerWidth', 20)\r\n    .attr('markerHeight', 28)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 1,1 V 13 L18,7 Z'); // this is actual shape for arrowhead\r\n};\r\n\r\nconst composition = (elem, type) => {\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', type + '-compositionStart')\r\n    .attr('class', 'marker composition ' + type)\r\n    .attr('refX', 0)\r\n    .attr('refY', 7)\r\n    .attr('markerWidth', 190)\r\n    .attr('markerHeight', 240)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\r\n\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', type + '-compositionEnd')\r\n    .attr('class', 'marker composition ' + type)\r\n    .attr('refX', 19)\r\n    .attr('refY', 7)\r\n    .attr('markerWidth', 20)\r\n    .attr('markerHeight', 28)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\r\n};\r\nconst aggregation = (elem, type) => {\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', type + '-aggregationStart')\r\n    .attr('class', 'marker aggregation ' + type)\r\n    .attr('refX', 0)\r\n    .attr('refY', 7)\r\n    .attr('markerWidth', 190)\r\n    .attr('markerHeight', 240)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\r\n\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', type + '-aggregationEnd')\r\n    .attr('class', 'marker aggregation ' + type)\r\n    .attr('refX', 19)\r\n    .attr('refY', 7)\r\n    .attr('markerWidth', 20)\r\n    .attr('markerHeight', 28)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\r\n};\r\nconst dependency = (elem, type) => {\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', type + '-dependencyStart')\r\n    .attr('class', 'marker dependency ' + type)\r\n    .attr('refX', 0)\r\n    .attr('refY', 7)\r\n    .attr('markerWidth', 190)\r\n    .attr('markerHeight', 240)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 5,7 L9,13 L1,7 L9,1 Z');\r\n\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', type + '-dependencyEnd')\r\n    .attr('class', 'marker dependency ' + type)\r\n    .attr('refX', 19)\r\n    .attr('refY', 7)\r\n    .attr('markerWidth', 20)\r\n    .attr('markerHeight', 28)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 18,7 L9,13 L14,7 L9,1 Z');\r\n};\r\nconst point = (elem, type) => {\r\n  elem\r\n    .append('marker')\r\n    .attr('id', type + '-pointEnd')\r\n    .attr('class', 'marker ' + type)\r\n    .attr('viewBox', '0 0 10 10')\r\n    .attr('refX', 9)\r\n    .attr('refY', 5)\r\n    .attr('markerUnits', 'userSpaceOnUse')\r\n    .attr('markerWidth', 12)\r\n    .attr('markerHeight', 12)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 0 0 L 10 5 L 0 10 z')\r\n    .attr('class', 'arrowMarkerPath')\r\n    .style('stroke-width', 1)\r\n    .style('stroke-dasharray', '1,0');\r\n  elem\r\n    .append('marker')\r\n    .attr('id', type + '-pointStart')\r\n    .attr('class', 'marker ' + type)\r\n    .attr('viewBox', '0 0 10 10')\r\n    .attr('refX', 0)\r\n    .attr('refY', 5)\r\n    .attr('markerUnits', 'userSpaceOnUse')\r\n    .attr('markerWidth', 12)\r\n    .attr('markerHeight', 12)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 0 5 L 10 10 L 10 0 z')\r\n    .attr('class', 'arrowMarkerPath')\r\n    .style('stroke-width', 1)\r\n    .style('stroke-dasharray', '1,0');\r\n};\r\nconst circle = (elem, type) => {\r\n  elem\r\n    .append('marker')\r\n    .attr('id', type + '-circleEnd')\r\n    .attr('class', 'marker ' + type)\r\n    .attr('viewBox', '0 0 10 10')\r\n    .attr('refX', 11)\r\n    .attr('refY', 5)\r\n    .attr('markerUnits', 'userSpaceOnUse')\r\n    .attr('markerWidth', 11)\r\n    .attr('markerHeight', 11)\r\n    .attr('orient', 'auto')\r\n    .append('circle')\r\n    .attr('cx', '5')\r\n    .attr('cy', '5')\r\n    .attr('r', '5')\r\n    .attr('class', 'arrowMarkerPath')\r\n    .style('stroke-width', 1)\r\n    .style('stroke-dasharray', '1,0');\r\n\r\n  elem\r\n    .append('marker')\r\n    .attr('id', type + '-circleStart')\r\n    .attr('class', 'marker ' + type)\r\n    .attr('viewBox', '0 0 10 10')\r\n    .attr('refX', -1)\r\n    .attr('refY', 5)\r\n    .attr('markerUnits', 'userSpaceOnUse')\r\n    .attr('markerWidth', 11)\r\n    .attr('markerHeight', 11)\r\n    .attr('orient', 'auto')\r\n    .append('circle')\r\n    .attr('cx', '5')\r\n    .attr('cy', '5')\r\n    .attr('r', '5')\r\n    .attr('class', 'arrowMarkerPath')\r\n    .style('stroke-width', 1)\r\n    .style('stroke-dasharray', '1,0');\r\n};\r\nconst cross = (elem, type) => {\r\n  elem\r\n    .append('marker')\r\n    .attr('id', type + '-crossEnd')\r\n    .attr('class', 'marker cross ' + type)\r\n    .attr('viewBox', '0 0 11 11')\r\n    .attr('refX', 12)\r\n    .attr('refY', 5.2)\r\n    .attr('markerUnits', 'userSpaceOnUse')\r\n    .attr('markerWidth', 11)\r\n    .attr('markerHeight', 11)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    // .attr('stroke', 'black')\r\n    .attr('d', 'M 1,1 l 9,9 M 10,1 l -9,9')\r\n    .attr('class', 'arrowMarkerPath')\r\n    .style('stroke-width', 2)\r\n    .style('stroke-dasharray', '1,0');\r\n\r\n  elem\r\n    .append('marker')\r\n    .attr('id', type + '-crossStart')\r\n    .attr('class', 'marker cross ' + type)\r\n    .attr('viewBox', '0 0 11 11')\r\n    .attr('refX', -1)\r\n    .attr('refY', 5.2)\r\n    .attr('markerUnits', 'userSpaceOnUse')\r\n    .attr('markerWidth', 11)\r\n    .attr('markerHeight', 11)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    // .attr('stroke', 'black')\r\n    .attr('d', 'M 1,1 l 9,9 M 10,1 l -9,9')\r\n    .attr('class', 'arrowMarkerPath')\r\n    .style('stroke-width', 2)\r\n    .style('stroke-dasharray', '1,0');\r\n};\r\nconst barb = (elem, type) => {\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', type + '-barbEnd')\r\n    .attr('refX', 19)\r\n    .attr('refY', 7)\r\n    .attr('markerWidth', 20)\r\n    .attr('markerHeight', 14)\r\n    .attr('markerUnits', 'strokeWidth')\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 19,7 L9,13 L14,7 L9,1 Z');\r\n};\r\n\r\n// TODO rename the class diagram markers to something shape descriptive and semanitc free\r\nconst markers = {\r\n  extension,\r\n  composition,\r\n  aggregation,\r\n  dependency,\r\n  point,\r\n  circle,\r\n  cross,\r\n  barb,\r\n};\r\nexport default insertMarkers;\r\n","/**\r\n * Decorates with functions required by mermaids dagre-wrapper.\r\n */\r\nimport { log } from '../logger';\r\nimport graphlib from 'graphlib';\r\n\r\nexport let clusterDb = {};\r\nlet decendants = {};\r\nlet parents = {};\r\n\r\nexport const clear = () => {\r\n  decendants = {};\r\n  parents = {};\r\n  clusterDb = {};\r\n};\r\n\r\nconst isDecendant = (id, ancenstorId) => {\r\n  // if (id === ancenstorId) return true;\r\n\r\n  log.trace(\r\n    'In isDecendant',\r\n    ancenstorId,\r\n    ' ',\r\n    id,\r\n    ' = ',\r\n    decendants[ancenstorId].indexOf(id) >= 0\r\n  );\r\n  if (decendants[ancenstorId].indexOf(id) >= 0) return true;\r\n\r\n  return false;\r\n};\r\n\r\nconst edgeInCluster = (edge, clusterId) => {\r\n  log.info('Decendants of ', clusterId, ' is ', decendants[clusterId]);\r\n  log.info('Edge is ', edge);\r\n  // Edges to/from the cluster is not in the cluster, they are in the parent\r\n  if (edge.v === clusterId) return false;\r\n  if (edge.w === clusterId) return false;\r\n\r\n  if (!decendants[clusterId]) {\r\n    log.debug('Tilt, ', clusterId, ',not in decendants');\r\n    return false;\r\n  }\r\n  log.info('Here ');\r\n\r\n  if (decendants[clusterId].indexOf(edge.v) >= 0) return true;\r\n  if (isDecendant(edge.v, clusterId)) return true;\r\n  if (isDecendant(edge.w, clusterId)) return true;\r\n  if (decendants[clusterId].indexOf(edge.w) >= 0) return true;\r\n\r\n  return false;\r\n};\r\n\r\nconst copy = (clusterId, graph, newGraph, rootId) => {\r\n  log.warn(\r\n    'Copying children of ',\r\n    clusterId,\r\n    'root',\r\n    rootId,\r\n    'data',\r\n    graph.node(clusterId),\r\n    rootId\r\n  );\r\n  const nodes = graph.children(clusterId) || [];\r\n\r\n  // Include cluster node if it is not the root\r\n  if (clusterId !== rootId) {\r\n    nodes.push(clusterId);\r\n  }\r\n\r\n  log.warn('Copying (nodes) clusterId', clusterId, 'nodes', nodes);\r\n\r\n  nodes.forEach((node) => {\r\n    if (graph.children(node).length > 0) {\r\n      copy(node, graph, newGraph, rootId);\r\n    } else {\r\n      const data = graph.node(node);\r\n      log.info('cp ', node, ' to ', rootId, ' with parent ', clusterId); //,node, data, ' parent is ', clusterId);\r\n      newGraph.setNode(node, data);\r\n      if (rootId !== graph.parent(node)) {\r\n        log.warn('Setting parent', node, graph.parent(node));\r\n        newGraph.setParent(node, graph.parent(node));\r\n      }\r\n\r\n      if (clusterId !== rootId && node !== clusterId) {\r\n        log.debug('Setting parent', node, clusterId);\r\n        newGraph.setParent(node, clusterId);\r\n      } else {\r\n        log.info('In copy ', clusterId, 'root', rootId, 'data', graph.node(clusterId), rootId);\r\n        log.debug(\r\n          'Not Setting parent for node=',\r\n          node,\r\n          'cluster!==rootId',\r\n          clusterId !== rootId,\r\n          'node!==clusterId',\r\n          node !== clusterId\r\n        );\r\n      }\r\n      const edges = graph.edges(node);\r\n      log.debug('Copying Edges', edges);\r\n      edges.forEach((edge) => {\r\n        log.info('Edge', edge);\r\n        const data = graph.edge(edge.v, edge.w, edge.name);\r\n        log.info('Edge data', data, rootId);\r\n        try {\r\n          // Do not copy edges in and out of the root cluster, they belong to the parent graph\r\n          if (edgeInCluster(edge, rootId)) {\r\n            log.info('Copying as ', edge.v, edge.w, data, edge.name);\r\n            newGraph.setEdge(edge.v, edge.w, data, edge.name);\r\n            log.info('newGraph edges ', newGraph.edges(), newGraph.edge(newGraph.edges()[0]));\r\n          } else {\r\n            log.info(\r\n              'Skipping copy of edge ',\r\n              edge.v,\r\n              '-->',\r\n              edge.w,\r\n              ' rootId: ',\r\n              rootId,\r\n              ' clusterId:',\r\n              clusterId\r\n            );\r\n          }\r\n        } catch (e) {\r\n          log.error(e);\r\n        }\r\n      });\r\n    }\r\n    log.debug('Removing node', node);\r\n    graph.removeNode(node);\r\n  });\r\n};\r\nexport const extractDecendants = (id, graph) => {\r\n  // log.debug('Extracting ', id);\r\n  const children = graph.children(id);\r\n  let res = [].concat(children);\r\n\r\n  for (let i = 0; i < children.length; i++) {\r\n    parents[children[i]] = id;\r\n    res = res.concat(extractDecendants(children[i], graph));\r\n  }\r\n\r\n  return res;\r\n};\r\n\r\n/**\r\n * Validates the graph, checking that all parent child relation points to existing nodes and that\r\n * edges between nodes also ia correct. When not correct the function logs the discrepancies.\r\n * @param {graphlib graph} g\r\n */\r\nexport const validate = (graph) => {\r\n  const edges = graph.edges();\r\n  log.trace('Edges: ', edges);\r\n  for (let i = 0; i < edges.length; i++) {\r\n    if (graph.children(edges[i].v).length > 0) {\r\n      log.trace('The node ', edges[i].v, ' is part of and edge even though it has children');\r\n      return false;\r\n    }\r\n    if (graph.children(edges[i].w).length > 0) {\r\n      log.trace('The node ', edges[i].w, ' is part of and edge even though it has children');\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n};\r\n\r\n/**\r\n * Finds a child that is not a cluster. When faking a edge between a node and a cluster.\r\n * @param {Finds a } id\r\n * @param {*} graph\r\n */\r\nexport const findNonClusterChild = (id, graph) => {\r\n  // const node = graph.node(id);\r\n  log.trace('Searching', id);\r\n  // const children = graph.children(id).reverse();\r\n  const children = graph.children(id); //.reverse();\r\n  log.trace('Searching children of id ', id, children);\r\n  if (children.length < 1) {\r\n    log.trace('This is a valid node', id);\r\n    return id;\r\n  }\r\n  for (let i = 0; i < children.length; i++) {\r\n    const _id = findNonClusterChild(children[i], graph);\r\n    if (_id) {\r\n      log.trace('Found replacement for', id, ' => ', _id);\r\n      return _id;\r\n    }\r\n  }\r\n};\r\n\r\nconst getAnchorId = (id) => {\r\n  if (!clusterDb[id]) {\r\n    return id;\r\n  }\r\n  // If the cluster has no external connections\r\n  if (!clusterDb[id].externalConnections) {\r\n    return id;\r\n  }\r\n\r\n  // Return the replacement node\r\n  if (clusterDb[id]) {\r\n    return clusterDb[id].id;\r\n  }\r\n  return id;\r\n};\r\n\r\nexport const adjustClustersAndEdges = (graph, depth) => {\r\n  if (!graph || depth > 10) {\r\n    log.debug('Opting out, no graph ');\r\n    return;\r\n  } else {\r\n    log.debug('Opting in, graph ');\r\n  }\r\n  // Go through the nodes and for each cluster found, save a replacment node, this can be used when\r\n  // faking a link to a cluster\r\n  graph.nodes().forEach(function (id) {\r\n    const children = graph.children(id);\r\n    if (children.length > 0) {\r\n      log.warn(\r\n        'Cluster identified',\r\n        id,\r\n        ' Replacement id in edges: ',\r\n        findNonClusterChild(id, graph)\r\n      );\r\n      decendants[id] = extractDecendants(id, graph);\r\n      clusterDb[id] = { id: findNonClusterChild(id, graph), clusterData: graph.node(id) };\r\n    }\r\n  });\r\n\r\n  // Check incoming and outgoing edges for each cluster\r\n  graph.nodes().forEach(function (id) {\r\n    const children = graph.children(id);\r\n    const edges = graph.edges();\r\n    if (children.length > 0) {\r\n      log.debug('Cluster identified', id, decendants);\r\n      edges.forEach((edge) => {\r\n        // log.debug('Edge, decendants: ', edge, decendants[id]);\r\n\r\n        // Check if any edge leaves the cluster (not the actual cluster, thats a link from the box)\r\n        if (edge.v !== id && edge.w !== id) {\r\n          // Any edge where either the one of the nodes is decending to the cluster but not the other\r\n          // if (decendants[id].indexOf(edge.v) < 0 && decendants[id].indexOf(edge.w) < 0) {\r\n\r\n          const d1 = isDecendant(edge.v, id);\r\n          const d2 = isDecendant(edge.w, id);\r\n\r\n          // d1 xor d2 - if either d1 is true and d2 is false or the other way around\r\n          if (d1 ^ d2) {\r\n            log.warn('Edge: ', edge, ' leaves cluster ', id);\r\n            log.warn('Decendants of XXX ', id, ': ', decendants[id]);\r\n            clusterDb[id].externalConnections = true;\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      log.debug('Not a cluster ', id, decendants);\r\n    }\r\n  });\r\n\r\n  // For clusters with incoming and/or outgoing edges translate those edges to a real node\r\n  // in the cluster inorder to fake the edge\r\n  graph.edges().forEach(function (e) {\r\n    const edge = graph.edge(e);\r\n    log.warn('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(e));\r\n    log.warn('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(graph.edge(e)));\r\n\r\n    let v = e.v;\r\n    let w = e.w;\r\n    // Check if link is either from or to a cluster\r\n    log.warn(\r\n      'Fix XXX',\r\n      clusterDb,\r\n      'ids:',\r\n      e.v,\r\n      e.w,\r\n      'Translateing: ',\r\n      clusterDb[e.v],\r\n      ' --- ',\r\n      clusterDb[e.w]\r\n    );\r\n    if (clusterDb[e.v] || clusterDb[e.w]) {\r\n      log.warn('Fixing and trixing - removing XXX', e.v, e.w, e.name);\r\n      v = getAnchorId(e.v);\r\n      w = getAnchorId(e.w);\r\n      graph.removeEdge(e.v, e.w, e.name);\r\n      if (v !== e.v) edge.fromCluster = e.v;\r\n      if (w !== e.w) edge.toCluster = e.w;\r\n      log.warn('Fix Replacing with XXX', v, w, e.name);\r\n      graph.setEdge(v, w, edge, e.name);\r\n    }\r\n  });\r\n  log.warn('Adjusted Graph', graphlib.json.write(graph));\r\n  extractor(graph, 0);\r\n\r\n  log.trace(clusterDb);\r\n\r\n  // Remove references to extracted cluster\r\n  // graph.edges().forEach(edge => {\r\n  //   if (isDecendant(edge.v, clusterId) || isDecendant(edge.w, clusterId)) {\r\n  //     graph.removeEdge(edge);\r\n  //   }\r\n  // });\r\n};\r\n\r\nexport const extractor = (graph, depth) => {\r\n  log.warn('extractor - ', depth, graphlib.json.write(graph), graph.children('D'));\r\n  if (depth > 10) {\r\n    log.error('Bailing out');\r\n    return;\r\n  }\r\n  // For clusters without incoming and/or outgoing edges, create a new cluster-node\r\n  // containing the nodes and edges in the custer in a new graph\r\n  // for (let i = 0;)\r\n  let nodes = graph.nodes();\r\n  let hasChildren = false;\r\n  for (let i = 0; i < nodes.length; i++) {\r\n    const node = nodes[i];\r\n    const children = graph.children(node);\r\n    hasChildren = hasChildren || children.length > 0;\r\n  }\r\n\r\n  if (!hasChildren) {\r\n    log.debug('Done, no node has children', graph.nodes());\r\n    return;\r\n  }\r\n  // const clusters = Object.keys(clusterDb);\r\n  // clusters.forEach(clusterId => {\r\n  log.debug('Nodes = ', nodes, depth);\r\n  for (let i = 0; i < nodes.length; i++) {\r\n    const node = nodes[i];\r\n\r\n    log.debug(\r\n      'Extracting node',\r\n      node,\r\n      clusterDb,\r\n      clusterDb[node] && !clusterDb[node].externalConnections,\r\n      !graph.parent(node),\r\n      graph.node(node),\r\n      graph.children('D'),\r\n      ' Depth ',\r\n      depth\r\n    );\r\n    // Note that the node might have been removed after the Object.keys call so better check\r\n    // that it still is in the game\r\n    if (!clusterDb[node]) {\r\n      // Skip if the node is not a cluster\r\n      log.debug('Not a cluster', node, depth);\r\n      // break;\r\n    } else if (\r\n      !clusterDb[node].externalConnections &&\r\n      // !graph.parent(node) &&\r\n      graph.children(node) &&\r\n      graph.children(node).length > 0\r\n    ) {\r\n      log.warn(\r\n        'Cluster without external connections, without a parent and with children',\r\n        node,\r\n        depth\r\n      );\r\n\r\n      const graphSettings = graph.graph();\r\n      let dir = graphSettings.rankdir === 'TB' ? 'LR' : 'TB';\r\n      if (clusterDb[node]) {\r\n        if (clusterDb[node].clusterData && clusterDb[node].clusterData.dir) {\r\n          dir = clusterDb[node].clusterData.dir;\r\n          log.warn('Fixing dir', clusterDb[node].clusterData.dir, dir);\r\n        }\r\n      }\r\n\r\n      const clusterGraph = new graphlib.Graph({\r\n        multigraph: true,\r\n        compound: true,\r\n      })\r\n        .setGraph({\r\n          rankdir: dir, // Todo: set proper spacing\r\n          nodesep: 50,\r\n          ranksep: 50,\r\n          marginx: 8,\r\n          marginy: 8,\r\n        })\r\n        .setDefaultEdgeLabel(function () {\r\n          return {};\r\n        });\r\n\r\n      log.warn('Old graph before copy', graphlib.json.write(graph));\r\n      copy(node, graph, clusterGraph, node);\r\n      graph.setNode(node, {\r\n        clusterNode: true,\r\n        id: node,\r\n        clusterData: clusterDb[node].clusterData,\r\n        labelText: clusterDb[node].labelText,\r\n        graph: clusterGraph,\r\n      });\r\n      log.warn('New graph after copy node: (', node, ')', graphlib.json.write(clusterGraph));\r\n      log.debug('Old graph after copy', graphlib.json.write(graph));\r\n    } else {\r\n      log.warn(\r\n        'Cluster ** ',\r\n        node,\r\n        ' **not meeting the criteria !externalConnections:',\r\n        !clusterDb[node].externalConnections,\r\n        ' no parent: ',\r\n        !graph.parent(node),\r\n        ' children ',\r\n        graph.children(node) && graph.children(node).length > 0,\r\n        graph.children('D'),\r\n        depth\r\n      );\r\n      log.debug(clusterDb);\r\n    }\r\n  }\r\n\r\n  nodes = graph.nodes();\r\n  log.warn('New list of nodes', nodes);\r\n  for (let i = 0; i < nodes.length; i++) {\r\n    const node = nodes[i];\r\n    const data = graph.node(node);\r\n    log.warn(' Now next level', node, data);\r\n    if (data.clusterNode) {\r\n      extractor(data.graph, depth + 1);\r\n    }\r\n  }\r\n};\r\n\r\nconst sorter = (graph, nodes) => {\r\n  if (nodes.length === 0) return [];\r\n  let result = Object.assign(nodes);\r\n  nodes.forEach((node) => {\r\n    const children = graph.children(node);\r\n    const sorted = sorter(graph, children);\r\n    result = result.concat(sorted);\r\n  });\r\n\r\n  return result;\r\n};\r\n\r\nexport const sortNodesByHierarchy = (graph) => sorter(graph, graph.children());\r\n","import { select } from 'd3';\r\nimport { log } from '../logger'; // eslint-disable-line\r\nimport { labelHelper, updateNodeBounds, insertPolygonShape } from './shapes/util';\r\nimport { getConfig } from '../config';\r\nimport intersect from './intersect/index.js';\r\nimport createLabel from './createLabel';\r\nimport note from './shapes/note';\r\nimport { parseMember } from '../diagrams/class/svgDraw';\r\nimport { evaluate } from '../diagrams/common/common';\r\n\r\nconst question = (parent, node) => {\r\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\r\n\r\n  const w = bbox.width + node.padding;\r\n  const h = bbox.height + node.padding;\r\n  const s = w + h;\r\n  const points = [\r\n    { x: s / 2, y: 0 },\r\n    { x: s, y: -s / 2 },\r\n    { x: s / 2, y: -s },\r\n    { x: 0, y: -s / 2 },\r\n  ];\r\n\r\n  log.info('Question main (Circle)');\r\n\r\n  const questionElem = insertPolygonShape(shapeSvg, s, s, points);\r\n  questionElem.attr('style', node.style);\r\n  updateNodeBounds(node, questionElem);\r\n\r\n  node.intersect = function (point) {\r\n    log.warn('Intersect called');\r\n    return intersect.polygon(node, points, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nconst choice = (parent, node) => {\r\n  const shapeSvg = parent\r\n    .insert('g')\r\n    .attr('class', 'node default')\r\n    .attr('id', node.domId || node.id);\r\n\r\n  const s = 28;\r\n  const points = [\r\n    { x: 0, y: s / 2 },\r\n    { x: s / 2, y: 0 },\r\n    { x: 0, y: -s / 2 },\r\n    { x: -s / 2, y: 0 },\r\n  ];\r\n\r\n  const choice = shapeSvg.insert('polygon', ':first-child').attr(\r\n    'points',\r\n    points\r\n      .map(function (d) {\r\n        return d.x + ',' + d.y;\r\n      })\r\n      .join(' ')\r\n  );\r\n  // center the circle around its coordinate\r\n  choice.attr('class', 'state-start').attr('r', 7).attr('width', 28).attr('height', 28);\r\n  node.width = 28;\r\n  node.height = 28;\r\n\r\n  node.intersect = function (point) {\r\n    return intersect.circle(node, 14, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nconst hexagon = (parent, node) => {\r\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\r\n\r\n  const f = 4;\r\n  const h = bbox.height + node.padding;\r\n  const m = h / f;\r\n  const w = bbox.width + 2 * m + node.padding;\r\n  const points = [\r\n    { x: m, y: 0 },\r\n    { x: w - m, y: 0 },\r\n    { x: w, y: -h / 2 },\r\n    { x: w - m, y: -h },\r\n    { x: m, y: -h },\r\n    { x: 0, y: -h / 2 },\r\n  ];\r\n\r\n  const hex = insertPolygonShape(shapeSvg, w, h, points);\r\n  hex.attr('style', node.style);\r\n  updateNodeBounds(node, hex);\r\n\r\n  node.intersect = function (point) {\r\n    return intersect.polygon(node, points, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nconst rect_left_inv_arrow = (parent, node) => {\r\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\r\n\r\n  const w = bbox.width + node.padding;\r\n  const h = bbox.height + node.padding;\r\n  const points = [\r\n    { x: -h / 2, y: 0 },\r\n    { x: w, y: 0 },\r\n    { x: w, y: -h },\r\n    { x: -h / 2, y: -h },\r\n    { x: 0, y: -h / 2 },\r\n  ];\r\n\r\n  const el = insertPolygonShape(shapeSvg, w, h, points);\r\n  el.attr('style', node.style);\r\n\r\n  node.width = w + h;\r\n  node.height = h;\r\n\r\n  node.intersect = function (point) {\r\n    return intersect.polygon(node, points, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nconst lean_right = (parent, node) => {\r\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\r\n\r\n  const w = bbox.width + node.padding;\r\n  const h = bbox.height + node.padding;\r\n  const points = [\r\n    { x: (-2 * h) / 6, y: 0 },\r\n    { x: w - h / 6, y: 0 },\r\n    { x: w + (2 * h) / 6, y: -h },\r\n    { x: h / 6, y: -h },\r\n  ];\r\n\r\n  const el = insertPolygonShape(shapeSvg, w, h, points);\r\n  el.attr('style', node.style);\r\n  updateNodeBounds(node, el);\r\n\r\n  node.intersect = function (point) {\r\n    return intersect.polygon(node, points, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nconst lean_left = (parent, node) => {\r\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\r\n\r\n  const w = bbox.width + node.padding;\r\n  const h = bbox.height + node.padding;\r\n  const points = [\r\n    { x: (2 * h) / 6, y: 0 },\r\n    { x: w + h / 6, y: 0 },\r\n    { x: w - (2 * h) / 6, y: -h },\r\n    { x: -h / 6, y: -h },\r\n  ];\r\n\r\n  const el = insertPolygonShape(shapeSvg, w, h, points);\r\n  el.attr('style', node.style);\r\n  updateNodeBounds(node, el);\r\n\r\n  node.intersect = function (point) {\r\n    return intersect.polygon(node, points, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nconst trapezoid = (parent, node) => {\r\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\r\n\r\n  const w = bbox.width + node.padding;\r\n  const h = bbox.height + node.padding;\r\n  const points = [\r\n    { x: (-2 * h) / 6, y: 0 },\r\n    { x: w + (2 * h) / 6, y: 0 },\r\n    { x: w - h / 6, y: -h },\r\n    { x: h / 6, y: -h },\r\n  ];\r\n\r\n  const el = insertPolygonShape(shapeSvg, w, h, points);\r\n  el.attr('style', node.style);\r\n  updateNodeBounds(node, el);\r\n\r\n  node.intersect = function (point) {\r\n    return intersect.polygon(node, points, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nconst inv_trapezoid = (parent, node) => {\r\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\r\n\r\n  const w = bbox.width + node.padding;\r\n  const h = bbox.height + node.padding;\r\n  const points = [\r\n    { x: h / 6, y: 0 },\r\n    { x: w - h / 6, y: 0 },\r\n    { x: w + (2 * h) / 6, y: -h },\r\n    { x: (-2 * h) / 6, y: -h },\r\n  ];\r\n\r\n  const el = insertPolygonShape(shapeSvg, w, h, points);\r\n  el.attr('style', node.style);\r\n  updateNodeBounds(node, el);\r\n\r\n  node.intersect = function (point) {\r\n    return intersect.polygon(node, points, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nconst rect_right_inv_arrow = (parent, node) => {\r\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\r\n\r\n  const w = bbox.width + node.padding;\r\n  const h = bbox.height + node.padding;\r\n  const points = [\r\n    { x: 0, y: 0 },\r\n    { x: w + h / 2, y: 0 },\r\n    { x: w, y: -h / 2 },\r\n    { x: w + h / 2, y: -h },\r\n    { x: 0, y: -h },\r\n  ];\r\n\r\n  const el = insertPolygonShape(shapeSvg, w, h, points);\r\n  el.attr('style', node.style);\r\n  updateNodeBounds(node, el);\r\n\r\n  node.intersect = function (point) {\r\n    return intersect.polygon(node, points, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nconst cylinder = (parent, node) => {\r\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\r\n\r\n  const w = bbox.width + node.padding;\r\n  const rx = w / 2;\r\n  const ry = rx / (2.5 + w / 50);\r\n  const h = bbox.height + ry + node.padding;\r\n\r\n  const shape =\r\n    'M 0,' +\r\n    ry +\r\n    ' a ' +\r\n    rx +\r\n    ',' +\r\n    ry +\r\n    ' 0,0,0 ' +\r\n    w +\r\n    ' 0 a ' +\r\n    rx +\r\n    ',' +\r\n    ry +\r\n    ' 0,0,0 ' +\r\n    -w +\r\n    ' 0 l 0,' +\r\n    h +\r\n    ' a ' +\r\n    rx +\r\n    ',' +\r\n    ry +\r\n    ' 0,0,0 ' +\r\n    w +\r\n    ' 0 l 0,' +\r\n    -h;\r\n\r\n  const el = shapeSvg\r\n    .attr('label-offset-y', ry)\r\n    .insert('path', ':first-child')\r\n    .attr('style', node.style)\r\n    .attr('d', shape)\r\n    .attr('transform', 'translate(' + -w / 2 + ',' + -(h / 2 + ry) + ')');\r\n\r\n  updateNodeBounds(node, el);\r\n\r\n  node.intersect = function (point) {\r\n    const pos = intersect.rect(node, point);\r\n    const x = pos.x - node.x;\r\n\r\n    if (\r\n      rx != 0 &&\r\n      (Math.abs(x) < node.width / 2 ||\r\n        (Math.abs(x) == node.width / 2 && Math.abs(pos.y - node.y) > node.height / 2 - ry))\r\n    ) {\r\n      // ellipsis equation: x*x / a*a + y*y / b*b = 1\r\n      // solve for y to get adjustion value for pos.y\r\n      let y = ry * ry * (1 - (x * x) / (rx * rx));\r\n      if (y != 0) y = Math.sqrt(y);\r\n      y = ry - y;\r\n      if (point.y - node.y > 0) y = -y;\r\n\r\n      pos.y += y;\r\n    }\r\n\r\n    return pos;\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nconst rect = (parent, node) => {\r\n  const { shapeSvg, bbox, halfPadding } = labelHelper(parent, node, 'node ' + node.classes, true);\r\n\r\n  log.trace('Classes = ', node.classes);\r\n  // add the rect\r\n  const rect = shapeSvg.insert('rect', ':first-child');\r\n\r\n  rect\r\n    .attr('class', 'basic label-container')\r\n    .attr('style', node.style)\r\n    .attr('rx', node.rx)\r\n    .attr('ry', node.ry)\r\n    .attr('x', -bbox.width / 2 - halfPadding)\r\n    .attr('y', -bbox.height / 2 - halfPadding)\r\n    .attr('width', bbox.width + node.padding)\r\n    .attr('height', bbox.height + node.padding);\r\n\r\n  updateNodeBounds(node, rect);\r\n\r\n  node.intersect = function (point) {\r\n    return intersect.rect(node, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nconst rectWithTitle = (parent, node) => {\r\n  // const { shapeSvg, bbox, halfPadding } = labelHelper(parent, node, 'node ' + node.classes);\r\n\r\n  let classes;\r\n  if (!node.classes) {\r\n    classes = 'node default';\r\n  } else {\r\n    classes = 'node ' + node.classes;\r\n  }\r\n  // Add outer g element\r\n  const shapeSvg = parent\r\n    .insert('g')\r\n    .attr('class', classes)\r\n    .attr('id', node.domId || node.id);\r\n\r\n  // Create the title label and insert it after the rect\r\n  const rect = shapeSvg.insert('rect', ':first-child');\r\n  // const innerRect = shapeSvg.insert('rect');\r\n  const innerLine = shapeSvg.insert('line');\r\n\r\n  const label = shapeSvg.insert('g').attr('class', 'label');\r\n\r\n  const text2 = node.labelText.flat ? node.labelText.flat() : node.labelText;\r\n  // const text2 = typeof text2prim === 'object' ? text2prim[0] : text2prim;\r\n\r\n  let title = '';\r\n  if (typeof text2 === 'object') {\r\n    title = text2[0];\r\n  } else {\r\n    title = text2;\r\n  }\r\n  log.info('Label text abc79', title, text2, typeof text2 === 'object');\r\n\r\n  const text = label.node().appendChild(createLabel(title, node.labelStyle, true, true));\r\n  let bbox;\r\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\r\n    const div = text.children[0];\r\n    const dv = select(text);\r\n    bbox = div.getBoundingClientRect();\r\n    dv.attr('width', bbox.width);\r\n    dv.attr('height', bbox.height);\r\n  }\r\n  log.info('Text 2', text2);\r\n  const textRows = text2.slice(1, text2.length);\r\n  let titleBox = text.getBBox();\r\n  const descr = label\r\n    .node()\r\n    .appendChild(\r\n      createLabel(textRows.join ? textRows.join('<br/>') : textRows, node.labelStyle, true, true)\r\n    );\r\n\r\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\r\n    const div = descr.children[0];\r\n    const dv = select(descr);\r\n    bbox = div.getBoundingClientRect();\r\n    dv.attr('width', bbox.width);\r\n    dv.attr('height', bbox.height);\r\n  }\r\n  // bbox = label.getBBox();\r\n  // log.info(descr);\r\n  const halfPadding = node.padding / 2;\r\n  select(descr).attr(\r\n    'transform',\r\n    'translate( ' +\r\n      // (titleBox.width - bbox.width) / 2 +\r\n      (bbox.width > titleBox.width ? 0 : (titleBox.width - bbox.width) / 2) +\r\n      ', ' +\r\n      (titleBox.height + halfPadding + 5) +\r\n      ')'\r\n  );\r\n  select(text).attr(\r\n    'transform',\r\n    'translate( ' +\r\n      // (titleBox.width - bbox.width) / 2 +\r\n      (bbox.width < titleBox.width ? 0 : -(titleBox.width - bbox.width) / 2) +\r\n      ', ' +\r\n      0 +\r\n      ')'\r\n  );\r\n  // Get the size of the label\r\n\r\n  // Bounding box for title and text\r\n  bbox = label.node().getBBox();\r\n\r\n  // Center the label\r\n  label.attr(\r\n    'transform',\r\n    'translate(' + -bbox.width / 2 + ', ' + (-bbox.height / 2 - halfPadding + 3) + ')'\r\n  );\r\n\r\n  rect\r\n    .attr('class', 'outer title-state')\r\n    .attr('x', -bbox.width / 2 - halfPadding)\r\n    .attr('y', -bbox.height / 2 - halfPadding)\r\n    .attr('width', bbox.width + node.padding)\r\n    .attr('height', bbox.height + node.padding);\r\n\r\n  innerLine\r\n    .attr('class', 'divider')\r\n    .attr('x1', -bbox.width / 2 - halfPadding)\r\n    .attr('x2', bbox.width / 2 + halfPadding)\r\n    .attr('y1', -bbox.height / 2 - halfPadding + titleBox.height + halfPadding)\r\n    .attr('y2', -bbox.height / 2 - halfPadding + titleBox.height + halfPadding);\r\n\r\n  updateNodeBounds(node, rect);\r\n\r\n  node.intersect = function (point) {\r\n    return intersect.rect(node, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nconst stadium = (parent, node) => {\r\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\r\n\r\n  const h = bbox.height + node.padding;\r\n  const w = bbox.width + h / 4 + node.padding;\r\n\r\n  // add the rect\r\n  const rect = shapeSvg\r\n    .insert('rect', ':first-child')\r\n    .attr('style', node.style)\r\n    .attr('rx', h / 2)\r\n    .attr('ry', h / 2)\r\n    .attr('x', -w / 2)\r\n    .attr('y', -h / 2)\r\n    .attr('width', w)\r\n    .attr('height', h);\r\n\r\n  updateNodeBounds(node, rect);\r\n\r\n  node.intersect = function (point) {\r\n    return intersect.rect(node, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nconst circle = (parent, node) => {\r\n  const { shapeSvg, bbox, halfPadding } = labelHelper(parent, node, undefined, true);\r\n  const circle = shapeSvg.insert('circle', ':first-child');\r\n\r\n  // center the circle around its coordinate\r\n  circle\r\n    .attr('style', node.style)\r\n    .attr('rx', node.rx)\r\n    .attr('ry', node.ry)\r\n    .attr('r', bbox.width / 2 + halfPadding)\r\n    .attr('width', bbox.width + node.padding)\r\n    .attr('height', bbox.height + node.padding);\r\n\r\n  log.info('Circle main');\r\n\r\n  updateNodeBounds(node, circle);\r\n\r\n  node.intersect = function (point) {\r\n    log.info('Circle intersect', node, bbox.width / 2 + halfPadding, point);\r\n    return intersect.circle(node, bbox.width / 2 + halfPadding, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nconst subroutine = (parent, node) => {\r\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\r\n\r\n  const w = bbox.width + node.padding;\r\n  const h = bbox.height + node.padding;\r\n  const points = [\r\n    { x: 0, y: 0 },\r\n    { x: w, y: 0 },\r\n    { x: w, y: -h },\r\n    { x: 0, y: -h },\r\n    { x: 0, y: 0 },\r\n    { x: -8, y: 0 },\r\n    { x: w + 8, y: 0 },\r\n    { x: w + 8, y: -h },\r\n    { x: -8, y: -h },\r\n    { x: -8, y: 0 },\r\n  ];\r\n\r\n  const el = insertPolygonShape(shapeSvg, w, h, points);\r\n  el.attr('style', node.style);\r\n  updateNodeBounds(node, el);\r\n\r\n  node.intersect = function (point) {\r\n    return intersect.polygon(node, points, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nconst start = (parent, node) => {\r\n  const shapeSvg = parent\r\n    .insert('g')\r\n    .attr('class', 'node default')\r\n    .attr('id', node.domId || node.id);\r\n  const circle = shapeSvg.insert('circle', ':first-child');\r\n\r\n  // center the circle around its coordinate\r\n  circle.attr('class', 'state-start').attr('r', 7).attr('width', 14).attr('height', 14);\r\n\r\n  updateNodeBounds(node, circle);\r\n\r\n  node.intersect = function (point) {\r\n    return intersect.circle(node, 7, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nconst forkJoin = (parent, node, dir) => {\r\n  const shapeSvg = parent\r\n    .insert('g')\r\n    .attr('class', 'node default')\r\n    .attr('id', node.domId || node.id);\r\n\r\n  let width = 70;\r\n  let height = 10;\r\n\r\n  if (dir === 'LR') {\r\n    width = 10;\r\n    height = 70;\r\n  }\r\n\r\n  const shape = shapeSvg\r\n    .append('rect')\r\n    .attr('x', (-1 * width) / 2)\r\n    .attr('y', (-1 * height) / 2)\r\n    .attr('width', width)\r\n    .attr('height', height)\r\n    .attr('class', 'fork-join');\r\n\r\n  updateNodeBounds(node, shape);\r\n  node.height = node.height + node.padding / 2;\r\n  node.width = node.width + node.padding / 2;\r\n  node.intersect = function (point) {\r\n    return intersect.rect(node, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nconst end = (parent, node) => {\r\n  const shapeSvg = parent\r\n    .insert('g')\r\n    .attr('class', 'node default')\r\n    .attr('id', node.domId || node.id);\r\n  const innerCircle = shapeSvg.insert('circle', ':first-child');\r\n  const circle = shapeSvg.insert('circle', ':first-child');\r\n\r\n  circle.attr('class', 'state-start').attr('r', 7).attr('width', 14).attr('height', 14);\r\n\r\n  innerCircle.attr('class', 'state-end').attr('r', 5).attr('width', 10).attr('height', 10);\r\n\r\n  updateNodeBounds(node, circle);\r\n\r\n  node.intersect = function (point) {\r\n    return intersect.circle(node, 7, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nconst class_box = (parent, node) => {\r\n  const halfPadding = node.padding / 2;\r\n  const rowPadding = 4;\r\n  const lineHeight = 8;\r\n\r\n  let classes;\r\n  if (!node.classes) {\r\n    classes = 'node default';\r\n  } else {\r\n    classes = 'node ' + node.classes;\r\n  }\r\n  // Add outer g element\r\n  const shapeSvg = parent\r\n    .insert('g')\r\n    .attr('class', classes)\r\n    .attr('id', node.domId || node.id);\r\n\r\n  // Create the title label and insert it after the rect\r\n  const rect = shapeSvg.insert('rect', ':first-child');\r\n  const topLine = shapeSvg.insert('line');\r\n  const bottomLine = shapeSvg.insert('line');\r\n  let maxWidth = 0;\r\n  let maxHeight = rowPadding;\r\n\r\n  const labelContainer = shapeSvg.insert('g').attr('class', 'label');\r\n  let verticalPos = 0;\r\n  const hasInterface = node.classData.annotations && node.classData.annotations[0];\r\n\r\n  // 1. Create the labels\r\n  const interfaceLabelText = node.classData.annotations[0]\r\n    ? '«' + node.classData.annotations[0] + '»'\r\n    : '';\r\n  const interfaceLabel = labelContainer\r\n    .node()\r\n    .appendChild(createLabel(interfaceLabelText, node.labelStyle, true, true));\r\n  let interfaceBBox = interfaceLabel.getBBox();\r\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\r\n    const div = interfaceLabel.children[0];\r\n    const dv = select(interfaceLabel);\r\n    interfaceBBox = div.getBoundingClientRect();\r\n    dv.attr('width', interfaceBBox.width);\r\n    dv.attr('height', interfaceBBox.height);\r\n  }\r\n  if (node.classData.annotations[0]) {\r\n    maxHeight += interfaceBBox.height + rowPadding;\r\n    maxWidth += interfaceBBox.width;\r\n  }\r\n\r\n  let classTitleString = node.classData.id;\r\n\r\n  if (node.classData.type !== undefined && node.classData.type !== '') {\r\n    if (getConfig().flowchart.htmlLabels) {\r\n      classTitleString += '&lt;' + node.classData.type + '&gt;';\r\n    } else {\r\n      classTitleString += '<' + node.classData.type + '>';\r\n    }\r\n  }\r\n  const classTitleLabel = labelContainer\r\n    .node()\r\n    .appendChild(createLabel(classTitleString, node.labelStyle, true, true));\r\n  select(classTitleLabel).attr('class', 'classTitle');\r\n  let classTitleBBox = classTitleLabel.getBBox();\r\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\r\n    const div = classTitleLabel.children[0];\r\n    const dv = select(classTitleLabel);\r\n    classTitleBBox = div.getBoundingClientRect();\r\n    dv.attr('width', classTitleBBox.width);\r\n    dv.attr('height', classTitleBBox.height);\r\n  }\r\n  maxHeight += classTitleBBox.height + rowPadding;\r\n  if (classTitleBBox.width > maxWidth) {\r\n    maxWidth = classTitleBBox.width;\r\n  }\r\n  const classAttributes = [];\r\n  node.classData.members.forEach((str) => {\r\n    let parsedText = parseMember(str).displayText;\r\n    if (getConfig().flowchart.htmlLabels) {\r\n      parsedText = parsedText.replace(/</g, '&lt;').replace(/>/g, '&gt;');\r\n    }\r\n    const lbl = labelContainer\r\n      .node()\r\n      .appendChild(createLabel(parsedText, node.labelStyle, true, true));\r\n    let bbox = lbl.getBBox();\r\n    if (evaluate(getConfig().flowchart.htmlLabels)) {\r\n      const div = lbl.children[0];\r\n      const dv = select(lbl);\r\n      bbox = div.getBoundingClientRect();\r\n      dv.attr('width', bbox.width);\r\n      dv.attr('height', bbox.height);\r\n    }\r\n    if (bbox.width > maxWidth) {\r\n      maxWidth = bbox.width;\r\n    }\r\n    maxHeight += bbox.height + rowPadding;\r\n    classAttributes.push(lbl);\r\n  });\r\n\r\n  maxHeight += lineHeight;\r\n\r\n  const classMethods = [];\r\n  node.classData.methods.forEach((str) => {\r\n    const parsedInfo = parseMember(str);\r\n    let displayText = parsedInfo.displayText;\r\n    if (getConfig().flowchart.htmlLabels) {\r\n      displayText = displayText.replace(/</g, '&lt;').replace(/>/g, '&gt;');\r\n    }\r\n    const lbl = labelContainer\r\n      .node()\r\n      .appendChild(\r\n        createLabel(\r\n          displayText,\r\n          parsedInfo.cssStyle ? parsedInfo.cssStyle : node.labelStyle,\r\n          true,\r\n          true\r\n        )\r\n      );\r\n    let bbox = lbl.getBBox();\r\n    if (evaluate(getConfig().flowchart.htmlLabels)) {\r\n      const div = lbl.children[0];\r\n      const dv = select(lbl);\r\n      bbox = div.getBoundingClientRect();\r\n      dv.attr('width', bbox.width);\r\n      dv.attr('height', bbox.height);\r\n    }\r\n    if (bbox.width > maxWidth) {\r\n      maxWidth = bbox.width;\r\n    }\r\n    maxHeight += bbox.height + rowPadding;\r\n\r\n    classMethods.push(lbl);\r\n  });\r\n\r\n  maxHeight += lineHeight;\r\n\r\n  // 2. Position the labels\r\n\r\n  // position the interface label\r\n  if (hasInterface) {\r\n    let diffX = (maxWidth - interfaceBBox.width) / 2;\r\n    select(interfaceLabel).attr(\r\n      'transform',\r\n      'translate( ' + ((-1 * maxWidth) / 2 + diffX) + ', ' + (-1 * maxHeight) / 2 + ')'\r\n    );\r\n    verticalPos = interfaceBBox.height + rowPadding;\r\n  }\r\n  // Positin the class title label\r\n  let diffX = (maxWidth - classTitleBBox.width) / 2;\r\n  select(classTitleLabel).attr(\r\n    'transform',\r\n    'translate( ' +\r\n      ((-1 * maxWidth) / 2 + diffX) +\r\n      ', ' +\r\n      ((-1 * maxHeight) / 2 + verticalPos) +\r\n      ')'\r\n  );\r\n  verticalPos += classTitleBBox.height + rowPadding;\r\n\r\n  topLine\r\n    .attr('class', 'divider')\r\n    .attr('x1', -maxWidth / 2 - halfPadding)\r\n    .attr('x2', maxWidth / 2 + halfPadding)\r\n    .attr('y1', -maxHeight / 2 - halfPadding + lineHeight + verticalPos)\r\n    .attr('y2', -maxHeight / 2 - halfPadding + lineHeight + verticalPos);\r\n\r\n  verticalPos += lineHeight;\r\n\r\n  classAttributes.forEach((lbl) => {\r\n    select(lbl).attr(\r\n      'transform',\r\n      'translate( ' +\r\n        -maxWidth / 2 +\r\n        ', ' +\r\n        ((-1 * maxHeight) / 2 + verticalPos + lineHeight / 2) +\r\n        ')'\r\n    );\r\n    verticalPos += classTitleBBox.height + rowPadding;\r\n  });\r\n\r\n  verticalPos += lineHeight;\r\n  bottomLine\r\n    .attr('class', 'divider')\r\n    .attr('x1', -maxWidth / 2 - halfPadding)\r\n    .attr('x2', maxWidth / 2 + halfPadding)\r\n    .attr('y1', -maxHeight / 2 - halfPadding + lineHeight + verticalPos)\r\n    .attr('y2', -maxHeight / 2 - halfPadding + lineHeight + verticalPos);\r\n\r\n  verticalPos += lineHeight;\r\n\r\n  classMethods.forEach((lbl) => {\r\n    select(lbl).attr(\r\n      'transform',\r\n      'translate( ' + -maxWidth / 2 + ', ' + ((-1 * maxHeight) / 2 + verticalPos) + ')'\r\n    );\r\n    verticalPos += classTitleBBox.height + rowPadding;\r\n  });\r\n  //\r\n  // let bbox;\r\n  // if (evaluate(getConfig().flowchart.htmlLabels)) {\r\n  //   const div = interfaceLabel.children[0];\r\n  //   const dv = select(interfaceLabel);\r\n  //   bbox = div.getBoundingClientRect();\r\n  //   dv.attr('width', bbox.width);\r\n  //   dv.attr('height', bbox.height);\r\n  // }\r\n  // bbox = labelContainer.getBBox();\r\n\r\n  // log.info('Text 2', text2);\r\n  // const textRows = text2.slice(1, text2.length);\r\n  // let titleBox = text.getBBox();\r\n  // const descr = label\r\n  //   .node()\r\n  //   .appendChild(createLabel(textRows.join('<br/>'), node.labelStyle, true, true));\r\n\r\n  // if (evaluate(getConfig().flowchart.htmlLabels)) {\r\n  //   const div = descr.children[0];\r\n  //   const dv = select(descr);\r\n  //   bbox = div.getBoundingClientRect();\r\n  //   dv.attr('width', bbox.width);\r\n  //   dv.attr('height', bbox.height);\r\n  // }\r\n  // // bbox = label.getBBox();\r\n  // // log.info(descr);\r\n  // select(descr).attr(\r\n  //   'transform',\r\n  //   'translate( ' +\r\n  //     // (titleBox.width - bbox.width) / 2 +\r\n  //     (bbox.width > titleBox.width ? 0 : (titleBox.width - bbox.width) / 2) +\r\n  //     ', ' +\r\n  //     (titleBox.height + halfPadding + 5) +\r\n  //     ')'\r\n  // );\r\n  // select(text).attr(\r\n  //   'transform',\r\n  //   'translate( ' +\r\n  //     // (titleBox.width - bbox.width) / 2 +\r\n  //     (bbox.width < titleBox.width ? 0 : -(titleBox.width - bbox.width) / 2) +\r\n  //     ', ' +\r\n  //     0 +\r\n  //     ')'\r\n  // );\r\n  // // Get the size of the label\r\n\r\n  // // Bounding box for title and text\r\n  // bbox = label.node().getBBox();\r\n\r\n  // // Center the label\r\n  // label.attr(\r\n  //   'transform',\r\n  //   'translate(' + -bbox.width / 2 + ', ' + (-bbox.height / 2 - halfPadding + 3) + ')'\r\n  // );\r\n\r\n  rect\r\n    .attr('class', 'outer title-state')\r\n    .attr('x', -maxWidth / 2 - halfPadding)\r\n    .attr('y', -(maxHeight / 2) - halfPadding)\r\n    .attr('width', maxWidth + node.padding)\r\n    .attr('height', maxHeight + node.padding);\r\n\r\n  // innerLine\r\n  //   .attr('class', 'divider')\r\n  //   .attr('x1', -bbox.width / 2 - halfPadding)\r\n  //   .attr('x2', bbox.width / 2 + halfPadding)\r\n  //   .attr('y1', -bbox.height / 2 - halfPadding + titleBox.height + halfPadding)\r\n  //   .attr('y2', -bbox.height / 2 - halfPadding + titleBox.height + halfPadding);\r\n\r\n  updateNodeBounds(node, rect);\r\n\r\n  node.intersect = function (point) {\r\n    return intersect.rect(node, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nconst shapes = {\r\n  question,\r\n  rect,\r\n  rectWithTitle,\r\n  choice,\r\n  circle,\r\n  stadium,\r\n  hexagon,\r\n  rect_left_inv_arrow,\r\n  lean_right,\r\n  lean_left,\r\n  trapezoid,\r\n  inv_trapezoid,\r\n  rect_right_inv_arrow,\r\n  cylinder,\r\n  start,\r\n  end,\r\n  note,\r\n  subroutine,\r\n  fork: forkJoin,\r\n  join: forkJoin,\r\n  class_box,\r\n};\r\n\r\nlet nodeElems = {};\r\n\r\nexport const insertNode = (elem, node, dir) => {\r\n  let newEl;\r\n  let el;\r\n\r\n  // Add link when appropriate\r\n  if (node.link) {\r\n    newEl = elem\r\n      .insert('svg:a')\r\n      .attr('xlink:href', node.link)\r\n      .attr('target', node.linkTarget || '_blank');\r\n    el = shapes[node.shape](newEl, node, dir);\r\n  } else {\r\n    el = shapes[node.shape](elem, node, dir);\r\n    newEl = el;\r\n  }\r\n  if (node.tooltip) {\r\n    el.attr('title', node.tooltip);\r\n  }\r\n  if (node.class) {\r\n    el.attr('class', 'node default ' + node.class);\r\n  }\r\n\r\n  nodeElems[node.id] = newEl;\r\n\r\n  if (node.haveCallback) {\r\n    nodeElems[node.id].attr('class', nodeElems[node.id].attr('class') + ' clickable');\r\n  }\r\n};\r\nexport const setNodeElem = (elem, node) => {\r\n  nodeElems[node.id] = elem;\r\n};\r\nexport const clear = () => {\r\n  nodeElems = {};\r\n};\r\n\r\nexport const positionNode = (node) => {\r\n  const el = nodeElems[node.id];\r\n  log.trace(\r\n    'Transforming node',\r\n    node.diff,\r\n    node,\r\n    'translate(' + (node.x - node.width / 2 - 5) + ', ' + node.width / 2 + ')'\r\n  );\r\n  const padding = 8;\r\n  const diff = node.diff || 0;\r\n  if (node.clusterNode) {\r\n    el.attr(\r\n      'transform',\r\n      'translate(' +\r\n        (node.x + diff - node.width / 2) +\r\n        ', ' +\r\n        (node.y - node.height / 2 - padding) +\r\n        ')'\r\n    );\r\n  } else {\r\n    el.attr('transform', 'translate(' + node.x + ', ' + node.y + ')');\r\n  }\r\n  return diff;\r\n};\r\n","import { updateNodeBounds, labelHelper } from './util';\r\nimport { log } from '../../logger'; // eslint-disable-line\r\nimport intersect from '../intersect/index.js';\r\n\r\nconst note = (parent, node) => {\r\n  const { shapeSvg, bbox, halfPadding } = labelHelper(parent, node, 'node ' + node.classes, true);\r\n\r\n  log.info('Classes = ', node.classes);\r\n  // add the rect\r\n  const rect = shapeSvg.insert('rect', ':first-child');\r\n\r\n  rect\r\n    .attr('rx', node.rx)\r\n    .attr('ry', node.ry)\r\n    .attr('x', -bbox.width / 2 - halfPadding)\r\n    .attr('y', -bbox.height / 2 - halfPadding)\r\n    .attr('width', bbox.width + node.padding)\r\n    .attr('height', bbox.height + node.padding);\r\n\r\n  updateNodeBounds(node, rect);\r\n\r\n  node.intersect = function (point) {\r\n    return intersect.rect(node, point);\r\n  };\r\n\r\n  return shapeSvg;\r\n};\r\n\r\nexport default note;\r\n","import createLabel from '../createLabel';\r\nimport { getConfig } from '../../config';\r\nimport { select } from 'd3';\r\nimport { evaluate } from '../../diagrams/common/common';\r\nexport const labelHelper = (parent, node, _classes, isNode) => {\r\n  let classes;\r\n  if (!_classes) {\r\n    classes = 'node default';\r\n  } else {\r\n    classes = _classes;\r\n  }\r\n  // Add outer g element\r\n  const shapeSvg = parent\r\n    .insert('g')\r\n    .attr('class', classes)\r\n    .attr('id', node.domId || node.id);\r\n\r\n  // Create the label and insert it after the rect\r\n  const label = shapeSvg.insert('g').attr('class', 'label').attr('style', node.labelStyle);\r\n\r\n  const text = label\r\n    .node()\r\n    .appendChild(createLabel(node.labelText, node.labelStyle, false, isNode));\r\n\r\n  // Get the size of the label\r\n  let bbox = text.getBBox();\r\n\r\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\r\n    const div = text.children[0];\r\n    const dv = select(text);\r\n    bbox = div.getBoundingClientRect();\r\n    dv.attr('width', bbox.width);\r\n    dv.attr('height', bbox.height);\r\n  }\r\n\r\n  const halfPadding = node.padding / 2;\r\n\r\n  // Center the label\r\n  label.attr('transform', 'translate(' + -bbox.width / 2 + ', ' + -bbox.height / 2 + ')');\r\n\r\n  return { shapeSvg, bbox, halfPadding, label };\r\n};\r\n\r\nexport const updateNodeBounds = (node, element) => {\r\n  const bbox = element.node().getBBox();\r\n  node.width = bbox.width;\r\n  node.height = bbox.height;\r\n};\r\n\r\nexport function insertPolygonShape(parent, w, h, points) {\r\n  return parent\r\n    .insert('polygon', ':first-child')\r\n    .attr(\r\n      'points',\r\n      points\r\n        .map(function (d) {\r\n          return d.x + ',' + d.y;\r\n        })\r\n        .join(' ')\r\n    )\r\n    .attr('class', 'label-container')\r\n    .attr('transform', 'translate(' + -w / 2 + ',' + h / 2 + ')');\r\n}\r\n","import theme from './themes';\r\n/**\r\n * **Configuration methods in Mermaid version 8.6.0 have been updated, to learn more[[click here](8.6.0_docs.md)].**\r\n *\r\n * ## **What follows are config instructions for older versions**\r\n *\r\n * These are the default options which can be overridden with the initialization call like so:\r\n *\r\n * **Example 1:**\r\n * <pre>\r\n * mermaid.initialize({\r\n *   flowchart:{\r\n *     htmlLabels: false\r\n *   }\r\n * });\r\n * </pre>\r\n *\r\n * **Example 2:**\r\n * <pre>\r\n * &lt;script>\r\n *   var config = {\r\n *     startOnLoad:true,\r\n *     flowchart:{\r\n *       useMaxWidth:true,\r\n *       htmlLabels:true,\r\n *       curve:'cardinal',\r\n *     },\r\n *\r\n *     securityLevel:'loose',\r\n *   };\r\n *   mermaid.initialize(config);\r\n * &lt;/script>\r\n * </pre>\r\n * A summary of all options and their defaults is found [here](#mermaidapi-configuration-defaults). A description of each option follows below.\r\n *\r\n * @name Configuration\r\n */\r\nconst config = {\r\n  /**\r\n   * theme , the CSS style sheet\r\n   *\r\n   * | Parameter | Description | Type | Required | Values |\r\n   * | --- | --- | --- | --- | --- |\r\n   * | theme | Built in Themes | string | Optional | 'default', 'forest', 'dark', 'neutral', 'null'|\r\n   *\r\n   * **Notes:** To disable any pre-defined mermaid theme, use \"null\".\r\n   *\r\n   * <pre>\r\n   *  \"theme\": \"forest\",\r\n   *  \"themeCSS\": \".node rect { fill: red; }\"\r\n   * </pre>\r\n   */\r\n  theme: 'default',\r\n  themeVariables: theme['default'].getThemeVariables(),\r\n  themeCSS: undefined,\r\n  /* **maxTextSize** - The maximum allowed size of the users text diamgram */\r\n  maxTextSize: 50000,\r\n\r\n  /**\r\n   * | Parameter | Description | Type | Required | Values |\r\n   * | --- | --- | --- | --- | --- |\r\n   * | fontFamily | specifies the font to be used in the rendered diagrams| string | Required | Any Posiable CSS FontFamily |\r\n   *\r\n   * **Notes:**\r\n   * Default value: '\"trebuchet ms\", verdana, arial, sans-serif;'.\r\n   */\r\n  fontFamily: '\"trebuchet ms\", verdana, arial, sans-serif;',\r\n\r\n  /**\r\n   * | Parameter | Description | Type | Required | Values |\r\n   * | --- | --- | --- | --- | --- |\r\n   * | logLevel |This option decides the amount of logging to be used.| string \\| number | Required | 1, 2, 3, 4, 5 |\r\n   *\r\n   *\r\n   * **Notes:**\r\n   *\r\n   * - debug: 1\r\n   * - info: 2\r\n   * - warn: 3\r\n   * - error: 4\r\n   * - fatal: 5 (default)\r\n   */\r\n  logLevel: 5,\r\n\r\n  /**\r\n   * | Parameter | Description | Type | Required | Values |\r\n   * | --- | --- | --- | --- | --- |\r\n   * | securitylevel | Level of trust for parsed diagram|string | Required | 'strict', 'loose', 'antiscript' |\r\n   *\r\n   * **Notes**:\r\n   *\r\n   * - **strict**: (**default**) tags in text are encoded, click functionality is disabled\r\n   * - **loose**: tags in text are allowed, click functionality is enabled\r\n   * - **antiscript**: html tags in text are allowed, (only script element is removed), click functionality is enabled\r\n   */\r\n  securityLevel: 'strict',\r\n\r\n  /**\r\n   * | Parameter | Description | Type | Required | Values |\r\n   * | --- | --- | --- | --- | --- |\r\n   * | startOnLoad | Dictates whether mermaind starts on Page load | boolean | Required | true, false |\r\n   *\r\n   * **Notes:** Default value: true\r\n   */\r\n  startOnLoad: true,\r\n\r\n  /**\r\n   * | Parameter | Description |Type | Required |Values|\r\n   * | --- | --- | --- | --- | --- |\r\n   * | arrowMarkerAbsolute | Controls whether or arrow markers in html code are absolute paths or anchors | boolean | Required | true, false |\r\n   *\r\n   *\r\n   * **Notes**:\r\n   *\r\n   * This matters if you are using base tag settings.\r\n   *\r\n   * Default value: false\r\n   */\r\n  arrowMarkerAbsolute: false,\r\n\r\n  /**\r\n   * This option controls which currentConfig keys are considered _secure_ and can only be changed via\r\n   * call to mermaidAPI.initialize. Calls to mermaidAPI.reinitialize cannot make changes to\r\n   * the `secure` keys in the current currentConfig. This prevents malicious graph directives from\r\n   * overriding a site's default security.\r\n\r\n   * **Notes**:\r\n   *\r\n   * Default value: ['secure', 'securityLevel', 'startOnLoad', 'maxTextSize']\r\n   */\r\n  secure: ['secure', 'securityLevel', 'startOnLoad', 'maxTextSize'],\r\n\r\n  /**\r\n   * This option controls if the generated ids of nodes in the SVG are generated randomly or based on a seed.\r\n   * If set to false, the IDs are generated based on the current date and thus are not deterministic. This is the default behaviour.\r\n   *\r\n   * **Notes**:\r\n   *\r\n   * This matters if your files are checked into sourcecontrol e.g. git and should not change unless content is changed.\r\n   *\r\n   * Default value: false\r\n   */\r\n  deterministicIds: false,\r\n\r\n  /**\r\n   * This option is the optional seed for deterministic ids. if set to undefined but deterministicIds is true, a simple number iterator is used.\r\n   * You can set this attribute to base the seed on a static string.\r\n   */\r\n  deterministicIDSeed: undefined,\r\n\r\n  /**\r\n   * The object containing configurations specific for flowcharts\r\n   */\r\n  flowchart: {\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | diagramPadding | Amount of padding around the diagram as a whole | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * The amount of padding around the diagram as a whole so that embedded diagrams have margins, expressed in pixels\r\n     *\r\n     * Default value: 8\r\n     */\r\n    diagramPadding: 8,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | htmlLabels | Flag for setting whether or not a html tag should be used for rendering labels on the edges. | boolean| Required | true, false |\r\n     *\r\n     * **Notes:** Default value: true.\r\n     */\r\n    htmlLabels: true,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | nodeSpacing | Defines the spacing between nodes on the same level | Integer | Required | Any positive Number |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * Pertains to horizontal spacing for TB (top to bottom) or BT (bottom to top) graphs, and the vertical spacing for LR as well as RL graphs.**\r\n     *\r\n     * Default value: 50\r\n     */\r\n    nodeSpacing: 50,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | rankSpacing | Defines the spacing between nodes on different levels | Integer | Required | Any Positive Number |\r\n     *\r\n     * **Notes**:\r\n     *\r\n     * pertains to vertical spacing for TB (top to bottom) or BT (bottom to top), and the horizontal spacing for LR as well as RL graphs.\r\n     *\r\n     * Default value 50\r\n     */\r\n    rankSpacing: 50,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | curve | Defines how mermaid renders curves for flowcharts. | string | Required | 'basis', 'linear', 'cardinal'|\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * Default Vaue: 'basis'\r\n     */\r\n    curve: 'basis',\r\n    // Only used in new experimental rendering\r\n    // represents the padding between the labels and the shape\r\n    padding: 15,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values|\r\n     * | --- | --- | --- | --- | --- |\r\n     * | useMaxWidth | See notes | boolean | 4 | true, false |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * When this flag is set the height and width is set to 100% and is then scaling with the\r\n     * available space if not the absolute space required is used.\r\n     *\r\n     * Default value: true\r\n     */\r\n    useMaxWidth: true,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values|\r\n     * | --- | --- | --- | --- | --- |\r\n     * | defaultRenderer | See notes | boolean | 4 | dagre-d3, dagre-wrapper |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * Decides which rendering engine that is to be used for the rendering. Legal values are:\r\n     * * dagre-d3\r\n     * * dagre-wrapper - wrapper for dagre implemented in mermaid\r\n     *\r\n     * Default value: 'dagre-d3'\r\n     */\r\n    defaultRenderer: 'dagre-d3',\r\n  },\r\n\r\n  /**\r\n   * The object containing configurations specific for sequence diagrams\r\n   */\r\n  sequence: {\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | activationWidth | Width of the activation rect | Integer | Required | Any Positive Value |\r\n     *\r\n     *\r\n     * **Notes:** Default value :10\r\n     */\r\n    activationWidth: 10,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | diagramMarginX | Margin to the right and left of the sequence diagram | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:** Default value: 50\r\n     */\r\n    diagramMarginX: 50,\r\n\r\n    /**\r\n     *| Parameter | Description | Type | Required | Values |\r\n     *| --- | --- | --- | --- | --- |\r\n     *| diagramMarginY | Margin to the over and under the sequence diagram | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:** Default value: 10\r\n     */\r\n    diagramMarginY: 10,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | actorMargin | Margin between actors | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 50\r\n     */\r\n    actorMargin: 50,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | width | Width of actor boxes | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 150\r\n     */\r\n    width: 150,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | height | Height of actor boxes | Integer | Required | Any Positive Value|\r\n     *\r\n     * **Notes:**\r\n     * Default value: 65\r\n     */\r\n    height: 65,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | boxMargin | Margin around loop boxes | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 10\r\n     */\r\n    boxMargin: 10,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | boxTextMargin | Margin around the text in loop/alt/opt boxes | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 5\r\n     */\r\n    boxTextMargin: 5,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | noteMargin | margin around notes | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 10\r\n     */\r\n    noteMargin: 10,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | messageMargin | Space between messages | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 35\r\n     */\r\n    messageMargin: 35,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | messageAlign | Multiline message alignment | string | Required | 'left', 'center', 'right' |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 'center'\r\n     */\r\n    messageAlign: 'center',\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | mirrorActors | Mirror actors under diagram | boolean | Required | true, false |\r\n     *\r\n     * **Notes:**\r\n     * Default value: true\r\n     */\r\n    mirrorActors: true,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | bottomMarginAdj | Prolongs the edge of the diagram downwards | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * Depending on css styling this might need adjustment.\r\n     *\r\n     * Default value: 1\r\n     */\r\n    bottomMarginAdj: 1,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | useMaxWidth | See Notes | boolean | Required | true, false |\r\n     *\r\n     * **Notes:**\r\n     * When this flag is set to true, the height and width is set to 100% and is then scaling with the\r\n     * available space. If set to false, the absolute space required is used.\r\n     *\r\n     * Default value: true\r\n     */\r\n    useMaxWidth: true,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | rightAngles | display curve arrows as right angles | boolean | Required | true, false |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * This will display arrows that start and begin at the same node as right angles, rather than a curve\r\n     *\r\n     * Default value: false\r\n     */\r\n    rightAngles: false,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | showSequenceNumbers | This will show the node numbers | boolean | Required | true, false |\r\n     *\r\n     * **Notes:**\r\n     * Default value: false\r\n     */\r\n    showSequenceNumbers: false,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | actorFontSize| This sets the font size of the actor's description | Integer | Require | Any Positive Value |\r\n     *\r\n     ***Notes:**\r\n     ***Default value 14**..\r\n     */\r\n    actorFontSize: 14,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | actorFontFamily |This sets the font family of the actor's description | string | Required | Any Posiable CSS FontFamily |\r\n     *\r\n     * **Notes:**\r\n     * Default value: \"'Open-Sans\", \"sans-serif\"'\r\n     */\r\n    actorFontFamily: '\"Open-Sans\", \"sans-serif\"',\r\n\r\n    /**\r\n     * This sets the font weight of the actor's description\r\n     *\r\n     * **Notes:**\r\n     * Default value: 400.\r\n     */\r\n    actorFontWeight: 400,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | noteFontSize | This sets the font size of actor-attached notes | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 14\r\n     */\r\n    noteFontSize: 14,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | noteFontFamily| This sets the font family of actor-attached notes. | string | Required | Any Posiable CSS FontFamily |\r\n     *\r\n     * **Notes:**\r\n     * Default value: ''\"trebuchet ms\", verdana, arial, sans-serif'\r\n     */\r\n    noteFontFamily: '\"trebuchet ms\", verdana, arial, sans-serif',\r\n\r\n    /**\r\n     * This sets the font weight of the note's description\r\n     *\r\n     * **Notes:**\r\n     * Default value: 400\r\n     */\r\n    noteFontWeight: 400,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | noteAlign | This sets the text alignment of actor-attached notes | string | required | 'left', 'center', 'right'|\r\n     *\r\n     * **Notes:**\r\n     * Default value: 'center'\r\n     */\r\n    noteAlign: 'center',\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | messageFontSize | This sets the font size of actor messages | Integer | Required | Any Positive Number |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 16\r\n     */\r\n    messageFontSize: 16,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | messageFontFamily | This sets the font family of actor messages | string | Required | Any Posiable CSS FontFamily |\r\n     *\r\n     * **Notes:**\r\n     * Default value: '\"trebuchet ms\", verdana, arial, sans-serif'\r\n     */\r\n    messageFontFamily: '\"trebuchet ms\", verdana, arial, sans-serif',\r\n\r\n    /**\r\n     * This sets the font weight of the message's description\r\n     *\r\n     * **Notes:**\r\n     * Default value: 400.\r\n     */\r\n    messageFontWeight: 400,\r\n\r\n    /**\r\n     * This sets the auto-wrap state for the diagram\r\n     *\r\n     * **Notes:**\r\n     * Default value: false.\r\n     */\r\n    wrap: false,\r\n\r\n    /**\r\n     * This sets the auto-wrap padding for the diagram (sides only)\r\n     *\r\n     * **Notes:**\r\n     * Default value: 0.\r\n     */\r\n    wrapPadding: 10,\r\n\r\n    /**\r\n     * This sets the width of the loop-box (loop, alt, opt, par)\r\n     *\r\n     * **Notes:**\r\n     * Default value: 50.\r\n     */\r\n    labelBoxWidth: 50,\r\n\r\n    /**\r\n     * This sets the height of the loop-box (loop, alt, opt, par)\r\n     *\r\n     * **Notes:**\r\n     * Default value: 20.\r\n     */\r\n    labelBoxHeight: 20,\r\n\r\n    messageFont: function () {\r\n      return {\r\n        fontFamily: this.messageFontFamily,\r\n        fontSize: this.messageFontSize,\r\n        fontWeight: this.messageFontWeight,\r\n      };\r\n    },\r\n    noteFont: function () {\r\n      return {\r\n        fontFamily: this.noteFontFamily,\r\n        fontSize: this.noteFontSize,\r\n        fontWeight: this.noteFontWeight,\r\n      };\r\n    },\r\n    actorFont: function () {\r\n      return {\r\n        fontFamily: this.actorFontFamily,\r\n        fontSize: this.actorFontSize,\r\n        fontWeight: this.actorFontWeight,\r\n      };\r\n    },\r\n  },\r\n\r\n  /**\r\n   * The object containing configurations specific for gantt diagrams\r\n   */\r\n  gantt: {\r\n    /**\r\n     * ### titleTopMargin\r\n     *\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | titleTopMargin | Margin top for the text over the gantt diagram | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 25\r\n     */\r\n    titleTopMargin: 25,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | barHeight | The height of the bars in the graph | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 20\r\n     */\r\n    barHeight: 20,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | barGap | The margin between the different activities in the gantt diagram | Integer | Optional | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 4\r\n     */\r\n    barGap: 4,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values|\r\n     * | --- | --- | --- | --- | --- |\r\n     * | topPadding | Margin between title and gantt diagram and between axis and gantt diagram. | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 50\r\n     */\r\n    topPadding: 50,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values|\r\n     * | --- | --- | --- | --- | --- |\r\n     * | rightPadding | The space allocated for the section name to the right of the activities | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 75\r\n     */\r\n    rightPadding: 75,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values|\r\n     * | --- | --- | --- | --- | --- |\r\n     * | leftPadding | The space allocated for the section name to the left of the activities | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 75\r\n     */\r\n    leftPadding: 75,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values|\r\n     * | --- | --- | --- | --- | --- |\r\n     * | gridLineStartPadding | Vertical starting position of the grid lines | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 35\r\n     */\r\n    gridLineStartPadding: 35,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values|\r\n     * | --- | --- | --- | --- | --- |\r\n     * | fontSize | Font size | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 11\r\n     */\r\n    fontSize: 11,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values|\r\n     * | --- | --- | --- | --- | --- |\r\n     * | sectionFontSize | Font size for secions| Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 11\r\n     */\r\n    sectionFontSize: 11,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values|\r\n     * | --- | --- | --- | --- | --- |\r\n     * | numberSectionStyles | The number of alternating section styles | Integer | 4 | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 4\r\n     */\r\n    numberSectionStyles: 4,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | axisFormat | Datetime format of the axis | 3 | Required | Date in yy-mm-dd |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * This might need adjustment to match your locale and preferences\r\n     *\r\n     * Default value: '%Y-%m-%d'.\r\n     */\r\n    axisFormat: '%Y-%m-%d',\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | useMaxWidth | See notes | boolean | 4 | true, false |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * When this flag is set the height and width is set to 100% and is then scaling with the\r\n     * available space if not the absolute space required is used.\r\n     *\r\n     * Default value: true\r\n     */\r\n    useMaxWidth: true,\r\n\r\n    /**\r\n     *| Parameter | Description |Type | Required | Values|\r\n     *| --- | --- | --- | --- | --- |\r\n     *| topAxis | See notes | Boolean | 4 | True, False |\r\n     *\r\n     ***Notes:** when this flag is set date labels will be added to the\r\ntop of the chart\r\n     *\r\n     ***Default value false**.\r\n     */\r\n    topAxis: false,\r\n\r\n    useWidth: undefined,\r\n  },\r\n\r\n  /**\r\n   * The object containing configurations specific for journey diagrams\r\n   */\r\n  journey: {\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | diagramMarginX | Margin to the right and left of the sequence diagram | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 50\r\n     */\r\n    diagramMarginX: 50,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | diagramMarginY | Margin to the over and under the sequence diagram. | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 10\r\n     */\r\n    diagramMarginY: 10,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | actorMargin | Margin between actors | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 50\r\n     */\r\n    leftMargin: 150,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | width | Width of actor boxes | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 150\r\n     */\r\n    width: 150,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | height | Height of actor boxes | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 65\r\n     */\r\n    height: 50,\r\n\r\n    /**\r\n     *| Parameter | Description |Type | Required | Values|\r\n     *| --- | --- | --- | --- | --- |\r\n     *| boxMargin | Margin around loop boxes | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 10\r\n     */\r\n    boxMargin: 10,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | boxTextMargin | Margin around the text in loop/alt/opt boxes | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 5\r\n     */\r\n    boxTextMargin: 5,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | noteMargin | Margin around notes | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 10\r\n     */\r\n    noteMargin: 10,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | messageMargin |Space between messages. | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * Space between messages.\r\n     *\r\n     * Default value: 35\r\n     */\r\n    messageMargin: 35,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | messageAlign | Multiline message alignment | 3 | 4 | 'left', 'center', 'right' |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 'center'\r\n     */\r\n    messageAlign: 'center',\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | bottomMarginAdj | Prolongs the edge of the diagram downwards | Integer | 4 | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * Depending on css styling this might need adjustment.\r\n     *\r\n     * Default value: 1\r\n     */\r\n    bottomMarginAdj: 1,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | useMaxWidth | See notes | boolean | 4 | true, false |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * When this flag is set the height and width is set to 100% and is then scaling with the\r\n     * available space if not the absolute space required is used.\r\n     *\r\n     * Default value: true\r\n     */\r\n    useMaxWidth: true,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | rightAngles | Curved Arrows become Right Angles | 3 | 4 | true, false |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * This will display arrows that start and begin at the same node as right angles, rather than a curves\r\n     *\r\n     * Default value: false\r\n     */\r\n    rightAngles: false,\r\n    taskFontSize: 14,\r\n    taskFontFamily: '\"Open-Sans\", \"sans-serif\"',\r\n    taskMargin: 50,\r\n    // width of activation box\r\n    activationWidth: 10,\r\n\r\n    // text placement as: tspan | fo | old only text as before\r\n    textPlacement: 'fo',\r\n    actorColours: ['#8FBC8F', '#7CFC00', '#00FFFF', '#20B2AA', '#B0E0E6', '#FFFFE0'],\r\n\r\n    sectionFills: ['#191970', '#8B008B', '#4B0082', '#2F4F4F', '#800000', '#8B4513', '#00008B'],\r\n    sectionColours: ['#fff'],\r\n  },\r\n  class: {\r\n    arrowMarkerAbsolute: false,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | useMaxWidth | See notes | boolean | 4 | true, false |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * When this flag is set the height and width is set to 100% and is then scaling with the\r\n     * available space if not the absolute space required is used.\r\n     *\r\n     * Default value: true\r\n     */\r\n    useMaxWidth: true,\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values|\r\n     * | --- | --- | --- | --- | --- |\r\n     * | defaultRenderer | See notes | boolean | 4 | dagre-d3, dagre-wrapper |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * Decides which rendering engine that is to be used for the rendering. Legal values are:\r\n     * * dagre-d3\r\n     * * dagre-wrapper - wrapper for dagre implemented in mermaid\r\n     *\r\n     * Default value: 'dagre-d3'\r\n     */\r\n    defaultRenderer: 'dagre-wrapper',\r\n  },\r\n  git: {\r\n    arrowMarkerAbsolute: false,\r\n\r\n    useWidth: undefined,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | useMaxWidth | See notes | boolean | 4 | true, false |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * When this flag is set the height and width is set to 100% and is then scaling with the\r\n     * available space if not the absolute space required is used.\r\n     *\r\n     * Default value: true\r\n     */\r\n    useMaxWidth: true,\r\n  },\r\n  state: {\r\n    dividerMargin: 10,\r\n    sizeUnit: 5,\r\n    padding: 8,\r\n    textHeight: 10,\r\n    titleShift: -15,\r\n    noteMargin: 10,\r\n    forkWidth: 70,\r\n    forkHeight: 7,\r\n    // Used\r\n    miniPadding: 2,\r\n    // Font size factor, this is used to guess the width of the edges labels before rendering by dagre\r\n    // layout. This might need updating if/when switching font\r\n    fontSizeFactor: 5.02,\r\n    fontSize: 24,\r\n    labelHeight: 16,\r\n    edgeLengthFactor: '20',\r\n    compositTitleSize: 35,\r\n    radius: 5,\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | useMaxWidth | See notes | boolean | 4 | true, false |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * When this flag is set the height and width is set to 100% and is then scaling with the\r\n     * available space if not the absolute space required is used.\r\n     *\r\n     * Default value: true\r\n     */\r\n    useMaxWidth: true,\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values|\r\n     * | --- | --- | --- | --- | --- |\r\n     * | defaultRenderer | See notes | boolean | 4 | dagre-d3, dagre-wrapper |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * Decides which rendering engine that is to be used for the rendering. Legal values are:\r\n     * * dagre-d3\r\n     * * dagre-wrapper - wrapper for dagre implemented in mermaid\r\n     *\r\n     * Default value: 'dagre-d3'\r\n     */\r\n    defaultRenderer: 'dagre-wrapper',\r\n  },\r\n\r\n  /**\r\n   * The object containing configurations specific for entity relationship diagrams\r\n   */\r\n  er: {\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | diagramPadding | Amount of padding around the diagram as a whole | Integer | Required | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * The amount of padding around the diagram as a whole so that embedded diagrams have margins, expressed in pixels\r\n     *\r\n     * Default value: 20\r\n     */\r\n    diagramPadding: 20,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | layoutDirection | Directional bias for layout of entities. | string | Required | \"TB\", \"BT\", \"LR\", \"RL\" |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * 'TB' for Top-Bottom, 'BT'for Bottom-Top, 'LR' for Left-Right, or 'RL' for Right to Left.\r\n     *\r\n     * T = top, B = bottom, L = left, and R = right.\r\n     *\r\n     * Default value: 'TB'\r\n     */\r\n    layoutDirection: 'TB',\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | minEntityWidth | The mimimum width of an entity box | Integer | Required | Any Positive Value  |\r\n     *\r\n     * **Notes:**\r\n     * Expressed in pixels.\r\n     * Default value: 100\r\n     */\r\n    minEntityWidth: 100,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | minEntityHeight| The minimum height of an entity box | Integer | 4 | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     * Expressed in pixels\r\n     * Default value: 75\r\n     */\r\n    minEntityHeight: 75,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | entityPadding | Minimum internal padding betweentext in box and box borders | Integer | 4 | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * The minimum internal padding betweentext in an entity box and the enclosing box borders, expressed in pixels.\r\n     *\r\n     * Default value: 15\r\n     */\r\n    entityPadding: 15,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | stroke | Stroke color of box edges and lines | string | 4 | Any recognized color |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 'gray'\r\n     */\r\n    stroke: 'gray',\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | fill | Fill color of entity boxes | string | 4 | Any recognized color |\r\n     *\r\n     * **Notes:**\r\n     * Default value: 'honeydew'\r\n     */\r\n    fill: 'honeydew',\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | fontSize | Font Size in pixels | Integer |  | Any Positive Value |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * Font size (expressed as an integer representing a number of pixels)\r\n     * Default value: 12\r\n     */\r\n    fontSize: 12,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | useMaxWidth | See Notes | boolean | Required | true, false |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * When this flag is set to true, the diagram width is locked to 100% and\r\n     * scaled based on available space. If set to false, the diagram reserves its\r\n     * absolute width.\r\n     *\r\n     * Default value: true\r\n     */\r\n    useMaxWidth: true,\r\n  },\r\n\r\n  /**\r\n   * The object containing configurations specific for pie diagrams\r\n   */\r\n  pie: {\r\n    useWidth: undefined,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | useMaxWidth | See Notes | boolean | Required | true, false |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * When this flag is set to true, the diagram width is locked to 100% and\r\n     * scaled based on available space. If set to false, the diagram reserves its\r\n     * absolute width.\r\n     *\r\n     * Default value: true\r\n     */\r\n    useMaxWidth: true,\r\n  },\r\n\r\n  /**\r\n   * The object containing configurations specific for req diagrams\r\n   */\r\n  requirement: {\r\n    useWidth: undefined,\r\n\r\n    /**\r\n     * | Parameter | Description | Type | Required | Values |\r\n     * | --- | --- | --- | --- | --- |\r\n     * | useMaxWidth | See Notes | boolean | Required | true, false |\r\n     *\r\n     * **Notes:**\r\n     *\r\n     * When this flag is set to true, the diagram width is locked to 100% and\r\n     * scaled based on available space. If set to false, the diagram reserves its\r\n     * absolute width.\r\n     *\r\n     * Default value: true\r\n     */\r\n    useMaxWidth: true,\r\n\r\n    rect_fill: '#f9f9f9',\r\n    text_color: '#333',\r\n    rect_border_size: '0.5px',\r\n    rect_border_color: '#bbb',\r\n    rect_min_width: 200,\r\n    rect_min_height: 200,\r\n    fontSize: 14,\r\n    rect_padding: 10,\r\n    line_height: 20,\r\n  },\r\n};\r\n\r\nconfig.class.arrowMarkerAbsolute = config.arrowMarkerAbsolute;\r\nconfig.git.arrowMarkerAbsolute = config.arrowMarkerAbsolute;\r\n\r\nconst keyify = (obj, prefix = '') =>\r\n  Object.keys(obj).reduce((res, el) => {\r\n    if (Array.isArray(obj[el])) {\r\n      return res;\r\n    } else if (typeof obj[el] === 'object' && obj[el] !== null) {\r\n      return [...res, prefix + el, ...keyify(obj[el], '')];\r\n    }\r\n    return [...res, prefix + el];\r\n  }, []);\r\n\r\nexport const configKeys = keyify(config, '');\r\nexport default config;\r\n","import { select } from 'd3';\r\nimport { log } from '../../logger';\r\nimport * as configApi from '../../config';\r\nimport common from '../common/common';\r\nimport utils from '../../utils';\r\nimport mermaidAPI from '../../mermaidAPI';\r\n\r\nconst MERMAID_DOM_ID_PREFIX = 'classid-';\r\n\r\nlet relations = [];\r\nlet classes = {};\r\nlet classCounter = 0;\r\n\r\nlet funs = [];\r\n\r\nexport const parseDirective = function (statement, context, type) {\r\n  mermaidAPI.parseDirective(this, statement, context, type);\r\n};\r\n\r\nconst splitClassNameAndType = function (id) {\r\n  let genericType = '';\r\n  let className = id;\r\n\r\n  if (id.indexOf('~') > 0) {\r\n    let split = id.split('~');\r\n    className = split[0];\r\n\r\n    genericType = split[1];\r\n  }\r\n\r\n  return { className: className, type: genericType };\r\n};\r\n\r\n/**\r\n * Function called by parser when a node definition has been found.\r\n * @param id\r\n * @public\r\n */\r\nexport const addClass = function (id) {\r\n  let classId = splitClassNameAndType(id);\r\n  // Only add class if not exists\r\n  if (typeof classes[classId.className] !== 'undefined') return;\r\n\r\n  classes[classId.className] = {\r\n    id: classId.className,\r\n    type: classId.type,\r\n    cssClasses: [],\r\n    methods: [],\r\n    members: [],\r\n    annotations: [],\r\n    domId: MERMAID_DOM_ID_PREFIX + classId.className + '-' + classCounter,\r\n  };\r\n\r\n  classCounter++;\r\n};\r\n\r\n/**\r\n * Function to lookup domId from id in the graph definition.\r\n * @param id\r\n * @public\r\n */\r\nexport const lookUpDomId = function (id) {\r\n  const classKeys = Object.keys(classes);\r\n  for (let i = 0; i < classKeys.length; i++) {\r\n    if (classes[classKeys[i]].id === id) {\r\n      return classes[classKeys[i]].domId;\r\n    }\r\n  }\r\n};\r\n\r\nexport const clear = function () {\r\n  relations = [];\r\n  classes = {};\r\n  funs = [];\r\n  funs.push(setupToolTips);\r\n};\r\n\r\nexport const getClass = function (id) {\r\n  return classes[id];\r\n};\r\nexport const getClasses = function () {\r\n  return classes;\r\n};\r\n\r\nexport const getRelations = function () {\r\n  return relations;\r\n};\r\n\r\nexport const addRelation = function (relation) {\r\n  log.debug('Adding relation: ' + JSON.stringify(relation));\r\n  addClass(relation.id1);\r\n  addClass(relation.id2);\r\n\r\n  relation.id1 = splitClassNameAndType(relation.id1).className;\r\n  relation.id2 = splitClassNameAndType(relation.id2).className;\r\n\r\n  relations.push(relation);\r\n};\r\n\r\n/**\r\n * Adds an annotation to the specified class\r\n * Annotations mark special properties of the given type (like 'interface' or 'service')\r\n * @param className The class name\r\n * @param annotation The name of the annotation without any brackets\r\n * @public\r\n */\r\nexport const addAnnotation = function (className, annotation) {\r\n  const validatedClassName = splitClassNameAndType(className).className;\r\n  classes[validatedClassName].annotations.push(annotation);\r\n};\r\n\r\n/**\r\n * Adds a member to the specified class\r\n * @param className The class name\r\n * @param member The full name of the member.\r\n * If the member is enclosed in <<brackets>> it is treated as an annotation\r\n * If the member is ending with a closing bracket ) it is treated as a method\r\n * Otherwise the member will be treated as a normal property\r\n * @public\r\n */\r\nexport const addMember = function (className, member) {\r\n  const validatedClassName = splitClassNameAndType(className).className;\r\n  const theClass = classes[validatedClassName];\r\n\r\n  if (typeof member === 'string') {\r\n    // Member can contain white spaces, we trim them out\r\n    const memberString = member.trim();\r\n\r\n    if (memberString.startsWith('<<') && memberString.endsWith('>>')) {\r\n      // Remove leading and trailing brackets\r\n      theClass.annotations.push(memberString.substring(2, memberString.length - 2));\r\n    } else if (memberString.indexOf(')') > 0) {\r\n      theClass.methods.push(memberString);\r\n    } else if (memberString) {\r\n      theClass.members.push(memberString);\r\n    }\r\n  }\r\n};\r\n\r\nexport const addMembers = function (className, members) {\r\n  if (Array.isArray(members)) {\r\n    members.reverse();\r\n    members.forEach((member) => addMember(className, member));\r\n  }\r\n};\r\n\r\nexport const cleanupLabel = function (label) {\r\n  if (label.substring(0, 1) === ':') {\r\n    return label.substr(1).trim();\r\n  } else {\r\n    return label.trim();\r\n  }\r\n};\r\n\r\n/**\r\n * Called by parser when a special node is found, e.g. a clickable element.\r\n * @param ids Comma separated list of ids\r\n * @param className Class to add\r\n */\r\nexport const setCssClass = function (ids, className) {\r\n  ids.split(',').forEach(function (_id) {\r\n    let id = _id;\r\n    if (_id[0].match(/\\d/)) id = MERMAID_DOM_ID_PREFIX + id;\r\n    if (typeof classes[id] !== 'undefined') {\r\n      classes[id].cssClasses.push(className);\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Called by parser when a tooltip is found, e.g. a clickable element.\r\n * @param ids Comma separated list of ids\r\n * @param tooltip Tooltip to add\r\n */\r\nconst setTooltip = function (ids, tooltip) {\r\n  const config = configApi.getConfig();\r\n  ids.split(',').forEach(function (id) {\r\n    if (typeof tooltip !== 'undefined') {\r\n      classes[id].tooltip = common.sanitizeText(tooltip, config);\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Called by parser when a link is found. Adds the URL to the vertex data.\r\n * @param ids Comma separated list of ids\r\n * @param linkStr URL to create a link for\r\n * @param target Target of the link, _blank by default as originally defined in the svgDraw.js file\r\n */\r\nexport const setLink = function (ids, linkStr, target) {\r\n  const config = configApi.getConfig();\r\n  ids.split(',').forEach(function (_id) {\r\n    let id = _id;\r\n    if (_id[0].match(/\\d/)) id = MERMAID_DOM_ID_PREFIX + id;\r\n    if (typeof classes[id] !== 'undefined') {\r\n      classes[id].link = utils.formatUrl(linkStr, config);\r\n      if (typeof target === 'string') {\r\n        classes[id].linkTarget = target;\r\n      } else {\r\n        classes[id].linkTarget = '_blank';\r\n      }\r\n    }\r\n  });\r\n  setCssClass(ids, 'clickable');\r\n};\r\n\r\n/**\r\n * Called by parser when a click definition is found. Registers an event handler.\r\n * @param ids Comma separated list of ids\r\n * @param functionName Function to be called on click\r\n * @param functionArgs Function args the function should be called with\r\n */\r\nexport const setClickEvent = function (ids, functionName, functionArgs) {\r\n  ids.split(',').forEach(function (id) {\r\n    setClickFunc(id, functionName, functionArgs);\r\n    classes[id].haveCallback = true;\r\n  });\r\n  setCssClass(ids, 'clickable');\r\n};\r\n\r\nconst setClickFunc = function (domId, functionName, functionArgs) {\r\n  const config = configApi.getConfig();\r\n  let id = domId;\r\n  let elemId = lookUpDomId(id);\r\n\r\n  if (config.securityLevel !== 'loose') {\r\n    return;\r\n  }\r\n  if (typeof functionName === 'undefined') {\r\n    return;\r\n  }\r\n  if (typeof classes[id] !== 'undefined') {\r\n    let argList = [];\r\n    if (typeof functionArgs === 'string') {\r\n      /* Splits functionArgs by ',', ignoring all ',' in double quoted strings */\r\n      argList = functionArgs.split(/,(?=(?:(?:[^\"]*\"){2})*[^\"]*$)/);\r\n      for (let i = 0; i < argList.length; i++) {\r\n        let item = argList[i].trim();\r\n        /* Removes all double quotes at the start and end of an argument */\r\n        /* This preserves all starting and ending whitespace inside */\r\n        if (item.charAt(0) === '\"' && item.charAt(item.length - 1) === '\"') {\r\n          item = item.substr(1, item.length - 2);\r\n        }\r\n        argList[i] = item;\r\n      }\r\n    }\r\n\r\n    /* if no arguments passed into callback, default to passing in id */\r\n    if (argList.length === 0) {\r\n      argList.push(elemId);\r\n    }\r\n\r\n    funs.push(function () {\r\n      const elem = document.querySelector(`[id=\"${elemId}\"]`);\r\n      if (elem !== null) {\r\n        elem.addEventListener(\r\n          'click',\r\n          function () {\r\n            utils.runFunc(functionName, ...argList);\r\n          },\r\n          false\r\n        );\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const bindFunctions = function (element) {\r\n  funs.forEach(function (fun) {\r\n    fun(element);\r\n  });\r\n};\r\n\r\nexport const lineType = {\r\n  LINE: 0,\r\n  DOTTED_LINE: 1,\r\n};\r\n\r\nexport const relationType = {\r\n  AGGREGATION: 0,\r\n  EXTENSION: 1,\r\n  COMPOSITION: 2,\r\n  DEPENDENCY: 3,\r\n};\r\n\r\nconst setupToolTips = function (element) {\r\n  let tooltipElem = select('.mermaidTooltip');\r\n  if ((tooltipElem._groups || tooltipElem)[0][0] === null) {\r\n    tooltipElem = select('body').append('div').attr('class', 'mermaidTooltip').style('opacity', 0);\r\n  }\r\n\r\n  const svg = select(element).select('svg');\r\n\r\n  const nodes = svg.selectAll('g.node');\r\n  nodes\r\n    .on('mouseover', function () {\r\n      const el = select(this);\r\n      const title = el.attr('title');\r\n      // Dont try to draw a tooltip if no data is provided\r\n      if (title === null) {\r\n        return;\r\n      }\r\n      const rect = this.getBoundingClientRect();\r\n\r\n      tooltipElem.transition().duration(200).style('opacity', '.9');\r\n      tooltipElem\r\n        .html(el.attr('title'))\r\n        .style('left', window.scrollX + rect.left + (rect.right - rect.left) / 2 + 'px')\r\n        .style('top', window.scrollY + rect.top - 14 + document.body.scrollTop + 'px');\r\n      el.classed('hover', true);\r\n    })\r\n    .on('mouseout', function () {\r\n      tooltipElem.transition().duration(500).style('opacity', 0);\r\n      const el = select(this);\r\n      el.classed('hover', false);\r\n    });\r\n};\r\nfuns.push(setupToolTips);\r\n\r\nlet direction = 'TB';\r\nconst getDirection = () => direction;\r\nconst setDirection = (dir) => {\r\n  direction = dir;\r\n};\r\n\r\nexport default {\r\n  parseDirective,\r\n  getConfig: () => configApi.getConfig().class,\r\n  addClass,\r\n  bindFunctions,\r\n  clear,\r\n  getClass,\r\n  getClasses,\r\n  addAnnotation,\r\n  getRelations,\r\n  addRelation,\r\n  getDirection,\r\n  setDirection,\r\n  addMember,\r\n  addMembers,\r\n  cleanupLabel,\r\n  lineType,\r\n  relationType,\r\n  setClickEvent,\r\n  setCssClass,\r\n  setLink,\r\n  setTooltip,\r\n  lookUpDomId,\r\n};\r\n","import { select } from 'd3';\r\nimport dagre from 'dagre';\r\nimport graphlib from 'graphlib';\r\nimport { log } from '../../logger';\r\nimport classDb, { lookUpDomId } from './classDb';\r\nimport { parser } from './parser/classDiagram';\r\nimport svgDraw from './svgDraw';\r\nimport { getConfig } from '../../config';\r\nimport { render } from '../../dagre-wrapper/index.js';\r\n// import addHtmlLabel from 'dagre-d3/lib/label/add-html-label.js';\r\nimport { curveLinear } from 'd3';\r\nimport { interpolateToCurve, getStylesFromArray, configureSvgSize } from '../../utils';\r\nimport common from '../common/common';\r\n\r\nparser.yy = classDb;\r\n\r\nlet idCache = {};\r\nconst padding = 20;\r\n\r\nconst conf = {\r\n  dividerMargin: 10,\r\n  padding: 5,\r\n  textHeight: 10,\r\n};\r\n\r\n/**\r\n * Function that adds the vertices found during parsing to the graph to be rendered.\r\n * @param vert Object containing the vertices.\r\n * @param g The graph that is to be drawn.\r\n */\r\nexport const addClasses = function (classes, g) {\r\n  // const svg = select(`[id=\"${svgId}\"]`);\r\n  const keys = Object.keys(classes);\r\n  log.info('keys:', keys);\r\n  log.info(classes);\r\n\r\n  // Iterate through each item in the vertex object (containing all the vertices found) in the graph definition\r\n  keys.forEach(function (id) {\r\n    const vertex = classes[id];\r\n\r\n    /**\r\n     * Variable for storing the classes for the vertex\r\n     * @type {string}\r\n     */\r\n    let cssClassStr = '';\r\n    if (vertex.cssClasses.length > 0) {\r\n      cssClassStr = cssClassStr + ' ' + vertex.cssClasses.join(' ');\r\n    }\r\n    // if (vertex.classes.length > 0) {\r\n    //   classStr = vertex.classes.join(' ');\r\n    // }\r\n\r\n    const styles = { labelStyle: '' }; //getStylesFromArray(vertex.styles);\r\n\r\n    // Use vertex id as text in the box if no text is provided by the graph definition\r\n    let vertexText = vertex.text !== undefined ? vertex.text : vertex.id;\r\n\r\n    // We create a SVG label, either by delegating to addHtmlLabel or manually\r\n    // let vertexNode;\r\n    // if (evaluate(getConfig().flowchart.htmlLabels)) {\r\n    //   const node = {\r\n    //     label: vertexText.replace(\r\n    //       /fa[lrsb]?:fa-[\\w-]+/g,\r\n    //       s => `<i class='${s.replace(':', ' ')}'></i>`\r\n    //     )\r\n    //   };\r\n    //   vertexNode = addHtmlLabel(svg, node).node();\r\n    //   vertexNode.parentNode.removeChild(vertexNode);\r\n    // } else {\r\n    //   const svgLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');\r\n    //   svgLabel.setAttribute('style', styles.labelStyle.replace('color:', 'fill:'));\r\n\r\n    //   const rows = vertexText.split(common.lineBreakRegex);\r\n\r\n    //   for (let j = 0; j < rows.length; j++) {\r\n    //     const tspan = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');\r\n    //     tspan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n    //     tspan.setAttribute('dy', '1em');\r\n    //     tspan.setAttribute('x', '1');\r\n    //     tspan.textContent = rows[j];\r\n    //     svgLabel.appendChild(tspan);\r\n    //   }\r\n    //   vertexNode = svgLabel;\r\n    // }\r\n\r\n    let radious = 0;\r\n    let _shape = '';\r\n    // Set the shape based parameters\r\n    switch (vertex.type) {\r\n      case 'class':\r\n        _shape = 'class_box';\r\n        break;\r\n      default:\r\n        _shape = 'class_box';\r\n    }\r\n    // Add the node\r\n    g.setNode(vertex.id, {\r\n      labelStyle: styles.labelStyle,\r\n      shape: _shape,\r\n      labelText: vertexText,\r\n      classData: vertex,\r\n      rx: radious,\r\n      ry: radious,\r\n      class: cssClassStr,\r\n      style: styles.style,\r\n      id: vertex.id,\r\n      domId: vertex.domId,\r\n      haveCallback: vertex.haveCallback,\r\n      link: vertex.link,\r\n      width: vertex.type === 'group' ? 500 : undefined,\r\n      type: vertex.type,\r\n      padding: getConfig().flowchart.padding,\r\n    });\r\n\r\n    log.info('setNode', {\r\n      labelStyle: styles.labelStyle,\r\n      shape: _shape,\r\n      labelText: vertexText,\r\n      rx: radious,\r\n      ry: radious,\r\n      class: cssClassStr,\r\n      style: styles.style,\r\n      id: vertex.id,\r\n      width: vertex.type === 'group' ? 500 : undefined,\r\n      type: vertex.type,\r\n      padding: getConfig().flowchart.padding,\r\n    });\r\n  });\r\n};\r\n\r\n/**\r\n * Add edges to graph based on parsed graph defninition\r\n * @param {Object} edges The edges to add to the graph\r\n * @param {Object} g The graph object\r\n */\r\nexport const addRelations = function (relations, g) {\r\n  let cnt = 0;\r\n\r\n  let defaultStyle;\r\n  let defaultLabelStyle;\r\n\r\n  // if (typeof relations.defaultStyle !== 'undefined') {\r\n  //   const defaultStyles = getStylesFromArray(relations.defaultStyle);\r\n  //   defaultStyle = defaultStyles.style;\r\n  //   defaultLabelStyle = defaultStyles.labelStyle;\r\n  // }\r\n\r\n  relations.forEach(function (edge) {\r\n    cnt++;\r\n    const edgeData = {};\r\n    //Set relationship style and line type\r\n    edgeData.classes = 'relation';\r\n    edgeData.pattern = edge.relation.lineType == 1 ? 'dashed' : 'solid';\r\n\r\n    edgeData.id = 'id' + cnt;\r\n    // Set link type for rendering\r\n    if (edge.type === 'arrow_open') {\r\n      edgeData.arrowhead = 'none';\r\n    } else {\r\n      edgeData.arrowhead = 'normal';\r\n    }\r\n\r\n    log.info(edgeData, edge);\r\n    //Set edge extra labels\r\n    //edgeData.startLabelLeft = edge.relationTitle1;\r\n    edgeData.startLabelRight = edge.relationTitle1 === 'none' ? '' : edge.relationTitle1;\r\n    edgeData.endLabelLeft = edge.relationTitle2 === 'none' ? '' : edge.relationTitle2;\r\n    //edgeData.endLabelRight = edge.relationTitle2;\r\n\r\n    //Set relation arrow types\r\n    edgeData.arrowTypeStart = getArrowMarker(edge.relation.type1);\r\n    edgeData.arrowTypeEnd = getArrowMarker(edge.relation.type2);\r\n    let style = '';\r\n    let labelStyle = '';\r\n\r\n    if (typeof edge.style !== 'undefined') {\r\n      const styles = getStylesFromArray(edge.style);\r\n      style = styles.style;\r\n      labelStyle = styles.labelStyle;\r\n    } else {\r\n      style = 'fill:none';\r\n      if (typeof defaultStyle !== 'undefined') {\r\n        style = defaultStyle;\r\n      }\r\n      if (typeof defaultLabelStyle !== 'undefined') {\r\n        labelStyle = defaultLabelStyle;\r\n      }\r\n    }\r\n\r\n    edgeData.style = style;\r\n    edgeData.labelStyle = labelStyle;\r\n\r\n    if (typeof edge.interpolate !== 'undefined') {\r\n      edgeData.curve = interpolateToCurve(edge.interpolate, curveLinear);\r\n    } else if (typeof relations.defaultInterpolate !== 'undefined') {\r\n      edgeData.curve = interpolateToCurve(relations.defaultInterpolate, curveLinear);\r\n    } else {\r\n      edgeData.curve = interpolateToCurve(conf.curve, curveLinear);\r\n    }\r\n\r\n    edge.text = edge.title;\r\n    if (typeof edge.text === 'undefined') {\r\n      if (typeof edge.style !== 'undefined') {\r\n        edgeData.arrowheadStyle = 'fill: #333';\r\n      }\r\n    } else {\r\n      edgeData.arrowheadStyle = 'fill: #333';\r\n      edgeData.labelpos = 'c';\r\n\r\n      if (getConfig().flowchart.htmlLabels) { // eslint-disable-line\r\n        edgeData.labelType = 'html';\r\n        edgeData.label = '<span class=\"edgeLabel\">' + edge.text + '</span>';\r\n      } else {\r\n        edgeData.labelType = 'text';\r\n        edgeData.label = edge.text.replace(common.lineBreakRegex, '\\n');\r\n\r\n        if (typeof edge.style === 'undefined') {\r\n          edgeData.style = edgeData.style || 'stroke: #333; stroke-width: 1.5px;fill:none';\r\n        }\r\n\r\n        edgeData.labelStyle = edgeData.labelStyle.replace('color:', 'fill:');\r\n      }\r\n    }\r\n    // Add the edge to the graph\r\n    g.setEdge(edge.id1, edge.id2, edgeData, cnt);\r\n  });\r\n};\r\n\r\n// Todo optimize\r\nconst getGraphId = function (label) {\r\n  const keys = Object.keys(idCache);\r\n\r\n  for (let i = 0; i < keys.length; i++) {\r\n    if (idCache[keys[i]].label === label) {\r\n      return keys[i];\r\n    }\r\n  }\r\n\r\n  return undefined;\r\n};\r\n\r\nexport const setConf = function (cnf) {\r\n  const keys = Object.keys(cnf);\r\n\r\n  keys.forEach(function (key) {\r\n    conf[key] = cnf[key];\r\n  });\r\n};\r\n\r\n/**\r\n * Draws a flowchart in the tag with id: id based on the graph definition in text.\r\n * @param text\r\n * @param id\r\n */\r\nexport const drawOld = function (text, id) {\r\n  idCache = {};\r\n  parser.yy.clear();\r\n  parser.parse(text);\r\n\r\n  log.info('Rendering diagram ' + text);\r\n\r\n  // Fetch the default direction, use TD if none was found\r\n  const diagram = select(`[id='${id}']`);\r\n  // insertMarkers(diagram);\r\n\r\n  // Layout graph, Create a new directed graph\r\n  const g = new graphlib.Graph({\r\n    multigraph: true,\r\n  });\r\n\r\n  // Set an object for the graph label\r\n  g.setGraph({\r\n    isMultiGraph: true,\r\n  });\r\n\r\n  // Default to assigning a new object as a label for each new edge.\r\n  g.setDefaultEdgeLabel(function () {\r\n    return {};\r\n  });\r\n\r\n  const classes = classDb.getClasses();\r\n  log.info('classes:');\r\n  log.info(classes);\r\n  const keys = Object.keys(classes);\r\n  for (let i = 0; i < keys.length; i++) {\r\n    const classDef = classes[keys[i]];\r\n    const node = svgDraw.drawClass(diagram, classDef, conf);\r\n    idCache[node.id] = node;\r\n\r\n    // Add nodes to the graph. The first argument is the node id. The second is\r\n    // metadata about the node. In this case we're going to add labels to each of\r\n    // our nodes.\r\n    g.setNode(node.id, node);\r\n\r\n    log.info('Org height: ' + node.height);\r\n  }\r\n\r\n  const relations = classDb.getRelations();\r\n  log.info('relations:', relations);\r\n  relations.forEach(function (relation) {\r\n    log.info(\r\n      'tjoho' + getGraphId(relation.id1) + getGraphId(relation.id2) + JSON.stringify(relation)\r\n    );\r\n    g.setEdge(\r\n      getGraphId(relation.id1),\r\n      getGraphId(relation.id2),\r\n      {\r\n        relation: relation,\r\n      },\r\n      relation.title || 'DEFAULT'\r\n    );\r\n  });\r\n\r\n  dagre.layout(g);\r\n  g.nodes().forEach(function (v) {\r\n    if (typeof v !== 'undefined' && typeof g.node(v) !== 'undefined') {\r\n      log.debug('Node ' + v + ': ' + JSON.stringify(g.node(v)));\r\n      select('#' + lookUpDomId(v)).attr(\r\n        'transform',\r\n        'translate(' +\r\n          (g.node(v).x - g.node(v).width / 2) +\r\n          ',' +\r\n          (g.node(v).y - g.node(v).height / 2) +\r\n          ' )'\r\n      );\r\n    }\r\n  });\r\n\r\n  g.edges().forEach(function (e) {\r\n    if (typeof e !== 'undefined' && typeof g.edge(e) !== 'undefined') {\r\n      log.debug('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(g.edge(e)));\r\n      svgDraw.drawEdge(diagram, g.edge(e), g.edge(e).relation, conf);\r\n    }\r\n  });\r\n\r\n  const svgBounds = diagram.node().getBBox();\r\n  const width = svgBounds.width + padding * 2;\r\n  const height = svgBounds.height + padding * 2;\r\n\r\n  configureSvgSize(diagram, height, width, conf.useMaxWidth);\r\n\r\n  // Ensure the viewBox includes the whole svgBounds area with extra space for padding\r\n  const vBox = `${svgBounds.x - padding} ${svgBounds.y - padding} ${width} ${height}`;\r\n  log.debug(`viewBox ${vBox}`);\r\n  diagram.attr('viewBox', vBox);\r\n};\r\n\r\nexport const draw = function (text, id) {\r\n  log.info('Drawing class');\r\n  classDb.clear();\r\n  // const parser = classDb.parser;\r\n  // parser.yy = classDb;\r\n\r\n  // Parse the graph definition\r\n  // try {\r\n  parser.parse(text);\r\n  // } catch (err) {\r\n  // log.debug('Parsing failed');\r\n  // }\r\n\r\n  // Fetch the default direction, use TD if none was found\r\n  //let dir = 'TD';\r\n\r\n  const conf = getConfig().flowchart;\r\n  log.info('config:', conf);\r\n  const nodeSpacing = conf.nodeSpacing || 50;\r\n  const rankSpacing = conf.rankSpacing || 50;\r\n\r\n  // Create the input mermaid.graph\r\n  const g = new graphlib.Graph({\r\n    multigraph: true,\r\n    compound: true,\r\n  })\r\n    .setGraph({\r\n      rankdir: classDb.getDirection(),\r\n      nodesep: nodeSpacing,\r\n      ranksep: rankSpacing,\r\n      marginx: 8,\r\n      marginy: 8,\r\n    })\r\n    .setDefaultEdgeLabel(function () {\r\n      return {};\r\n    });\r\n\r\n  // let subG;\r\n  // const subGraphs = flowDb.getSubGraphs();\r\n  // log.info('Subgraphs - ', subGraphs);\r\n  // for (let i = subGraphs.length - 1; i >= 0; i--) {\r\n  //   subG = subGraphs[i];\r\n  //   log.info('Subgraph - ', subG);\r\n  //   flowDb.addVertex(subG.id, subG.title, 'group', undefined, subG.classes);\r\n  // }\r\n\r\n  // Fetch the verices/nodes and edges/links from the parsed graph definition\r\n  const classes = classDb.getClasses();\r\n  const relations = classDb.getRelations();\r\n\r\n  log.info(relations);\r\n  // let i = 0;\r\n  // for (i = subGraphs.length - 1; i >= 0; i--) {\r\n  //   subG = subGraphs[i];\r\n\r\n  //   selectAll('cluster').append('text');\r\n\r\n  //   for (let j = 0; j < subG.nodes.length; j++) {\r\n  //     g.setParent(subG.nodes[j], subG.id);\r\n  //   }\r\n  // }\r\n  addClasses(classes, g, id);\r\n  addRelations(relations, g);\r\n\r\n  // Add custom shapes\r\n  // flowChartShapes.addToRenderV2(addShape);\r\n\r\n  // Set up an SVG group so that we can translate the final graph.\r\n  const svg = select(`[id=\"${id}\"]`);\r\n  svg.attr('xmlns:xlink', 'http://www.w3.org/1999/xlink');\r\n\r\n  // Run the renderer. This is what draws the final graph.\r\n  const element = select('#' + id + ' g');\r\n  render(element, g, ['aggregation', 'extension', 'composition', 'dependency'], 'classDiagram', id);\r\n\r\n  // element.selectAll('g.node').attr('title', function() {\r\n  //   return flowDb.getTooltip(this.id);\r\n  // });\r\n\r\n  const padding = 8;\r\n  const svgBounds = svg.node().getBBox();\r\n  const width = svgBounds.width + padding * 2;\r\n  const height = svgBounds.height + padding * 2;\r\n  log.debug(\r\n    `new ViewBox 0 0 ${width} ${height}`,\r\n    `translate(${padding - g._label.marginx}, ${padding - g._label.marginy})`\r\n  );\r\n\r\n  configureSvgSize(svg, height, width, conf.useMaxWidth);\r\n\r\n  svg.attr('viewBox', `0 0 ${width} ${height}`);\r\n  svg\r\n    .select('g')\r\n    .attr('transform', `translate(${padding - g._label.marginx}, ${padding - svgBounds.y})`);\r\n\r\n  // Index nodes\r\n  // flowDb.indexNodes('subGraph' + i);\r\n\r\n  // Add label rects for non html labels\r\n  if (!conf.htmlLabels) {\r\n    const labels = document.querySelectorAll('[id=\"' + id + '\"] .edgeLabel .label');\r\n    for (let k = 0; k < labels.length; k++) {\r\n      const label = labels[k];\r\n\r\n      // Get dimensions of label\r\n      const dim = label.getBBox();\r\n\r\n      const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\r\n      rect.setAttribute('rx', 0);\r\n      rect.setAttribute('ry', 0);\r\n      rect.setAttribute('width', dim.width);\r\n      rect.setAttribute('height', dim.height);\r\n      // rect.setAttribute('style', 'fill:#e8e8e8;');\r\n\r\n      label.insertBefore(rect, label.firstChild);\r\n    }\r\n  }\r\n\r\n  // If node has a link, wrap it in an anchor SVG object.\r\n  // const keys = Object.keys(classes);\r\n  // keys.forEach(function(key) {\r\n  //   const vertex = classes[key];\r\n\r\n  //   if (vertex.link) {\r\n  //     const node = select('#' + id + ' [id=\"' + key + '\"]');\r\n  //     if (node) {\r\n  //       const link = document.createElementNS('http://www.w3.org/2000/svg', 'a');\r\n  //       link.setAttributeNS('http://www.w3.org/2000/svg', 'class', vertex.classes.join(' '));\r\n  //       link.setAttributeNS('http://www.w3.org/2000/svg', 'href', vertex.link);\r\n  //       link.setAttributeNS('http://www.w3.org/2000/svg', 'rel', 'noopener');\r\n\r\n  //       const linkNode = node.insert(function() {\r\n  //         return link;\r\n  //       }, ':first-child');\r\n\r\n  //       const shape = node.select('.label-container');\r\n  //       if (shape) {\r\n  //         linkNode.append(function() {\r\n  //           return shape.node();\r\n  //         });\r\n  //       }\r\n\r\n  //       const label = node.select('.label');\r\n  //       if (label) {\r\n  //         linkNode.append(function() {\r\n  //           return label.node();\r\n  //         });\r\n  //       }\r\n  //     }\r\n  //   }\r\n  // });\r\n};\r\n\r\nexport default {\r\n  setConf,\r\n  draw,\r\n};\r\nfunction getArrowMarker(type) {\r\n  let marker;\r\n  switch (type) {\r\n    case 0:\r\n      marker = 'aggregation';\r\n      break;\r\n    case 1:\r\n      marker = 'extension';\r\n      break;\r\n    case 2:\r\n      marker = 'composition';\r\n      break;\r\n    case 3:\r\n      marker = 'dependency';\r\n      break;\r\n    default:\r\n      marker = 'none';\r\n  }\r\n  return marker;\r\n}\r\n","import { select } from 'd3';\r\nimport dagre from 'dagre';\r\nimport graphlib from 'graphlib';\r\nimport { log } from '../../logger';\r\nimport classDb, { lookUpDomId } from './classDb';\r\nimport { parser } from './parser/classDiagram';\r\nimport svgDraw from './svgDraw';\r\nimport { configureSvgSize } from '../../utils';\r\n\r\nparser.yy = classDb;\r\n\r\nlet idCache = {};\r\nconst padding = 20;\r\n\r\nconst conf = {\r\n  dividerMargin: 10,\r\n  padding: 5,\r\n  textHeight: 10,\r\n};\r\n\r\n// Todo optimize\r\nconst getGraphId = function (label) {\r\n  const keys = Object.keys(idCache);\r\n\r\n  for (let i = 0; i < keys.length; i++) {\r\n    if (idCache[keys[i]].label === label) {\r\n      return keys[i];\r\n    }\r\n  }\r\n\r\n  return undefined;\r\n};\r\n\r\n/**\r\n * Setup arrow head and define the marker. The result is appended to the svg.\r\n */\r\nconst insertMarkers = function (elem) {\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', 'extensionStart')\r\n    .attr('class', 'extension')\r\n    .attr('refX', 0)\r\n    .attr('refY', 7)\r\n    .attr('markerWidth', 190)\r\n    .attr('markerHeight', 240)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 1,7 L18,13 V 1 Z');\r\n\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', 'extensionEnd')\r\n    .attr('refX', 19)\r\n    .attr('refY', 7)\r\n    .attr('markerWidth', 20)\r\n    .attr('markerHeight', 28)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 1,1 V 13 L18,7 Z'); // this is actual shape for arrowhead\r\n\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', 'compositionStart')\r\n    .attr('class', 'extension')\r\n    .attr('refX', 0)\r\n    .attr('refY', 7)\r\n    .attr('markerWidth', 190)\r\n    .attr('markerHeight', 240)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\r\n\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', 'compositionEnd')\r\n    .attr('refX', 19)\r\n    .attr('refY', 7)\r\n    .attr('markerWidth', 20)\r\n    .attr('markerHeight', 28)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\r\n\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', 'aggregationStart')\r\n    .attr('class', 'extension')\r\n    .attr('refX', 0)\r\n    .attr('refY', 7)\r\n    .attr('markerWidth', 190)\r\n    .attr('markerHeight', 240)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\r\n\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', 'aggregationEnd')\r\n    .attr('refX', 19)\r\n    .attr('refY', 7)\r\n    .attr('markerWidth', 20)\r\n    .attr('markerHeight', 28)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\r\n\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', 'dependencyStart')\r\n    .attr('class', 'extension')\r\n    .attr('refX', 0)\r\n    .attr('refY', 7)\r\n    .attr('markerWidth', 190)\r\n    .attr('markerHeight', 240)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 5,7 L9,13 L1,7 L9,1 Z');\r\n\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', 'dependencyEnd')\r\n    .attr('refX', 19)\r\n    .attr('refY', 7)\r\n    .attr('markerWidth', 20)\r\n    .attr('markerHeight', 28)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 18,7 L9,13 L14,7 L9,1 Z');\r\n};\r\n\r\nexport const setConf = function (cnf) {\r\n  const keys = Object.keys(cnf);\r\n\r\n  keys.forEach(function (key) {\r\n    conf[key] = cnf[key];\r\n  });\r\n};\r\n\r\n/**\r\n * Draws a flowchart in the tag with id: id based on the graph definition in text.\r\n * @param text\r\n * @param id\r\n */\r\nexport const draw = function (text, id) {\r\n  idCache = {};\r\n  parser.yy.clear();\r\n  parser.parse(text);\r\n\r\n  log.info('Rendering diagram ' + text);\r\n\r\n  // Fetch the default direction, use TD if none was found\r\n  const diagram = select(`[id='${id}']`);\r\n  diagram.attr('xmlns:xlink', 'http://www.w3.org/1999/xlink');\r\n  insertMarkers(diagram);\r\n\r\n  // Layout graph, Create a new directed graph\r\n  const g = new graphlib.Graph({\r\n    multigraph: true,\r\n  });\r\n\r\n  // Set an object for the graph label\r\n  g.setGraph({\r\n    isMultiGraph: true,\r\n  });\r\n\r\n  // Default to assigning a new object as a label for each new edge.\r\n  g.setDefaultEdgeLabel(function () {\r\n    return {};\r\n  });\r\n\r\n  const classes = classDb.getClasses();\r\n  const keys = Object.keys(classes);\r\n\r\n  for (let i = 0; i < keys.length; i++) {\r\n    const classDef = classes[keys[i]];\r\n    const node = svgDraw.drawClass(diagram, classDef, conf);\r\n    idCache[node.id] = node;\r\n\r\n    // Add nodes to the graph. The first argument is the node id. The second is\r\n    // metadata about the node. In this case we're going to add labels to each of\r\n    // our nodes.\r\n    g.setNode(node.id, node);\r\n\r\n    log.info('Org height: ' + node.height);\r\n  }\r\n\r\n  const relations = classDb.getRelations();\r\n  relations.forEach(function (relation) {\r\n    log.info(\r\n      'tjoho' + getGraphId(relation.id1) + getGraphId(relation.id2) + JSON.stringify(relation)\r\n    );\r\n    g.setEdge(\r\n      getGraphId(relation.id1),\r\n      getGraphId(relation.id2),\r\n      {\r\n        relation: relation,\r\n      },\r\n      relation.title || 'DEFAULT'\r\n    );\r\n  });\r\n\r\n  dagre.layout(g);\r\n  g.nodes().forEach(function (v) {\r\n    if (typeof v !== 'undefined' && typeof g.node(v) !== 'undefined') {\r\n      log.debug('Node ' + v + ': ' + JSON.stringify(g.node(v)));\r\n      select('#' + lookUpDomId(v)).attr(\r\n        'transform',\r\n        'translate(' +\r\n          (g.node(v).x - g.node(v).width / 2) +\r\n          ',' +\r\n          (g.node(v).y - g.node(v).height / 2) +\r\n          ' )'\r\n      );\r\n    }\r\n  });\r\n\r\n  g.edges().forEach(function (e) {\r\n    if (typeof e !== 'undefined' && typeof g.edge(e) !== 'undefined') {\r\n      log.debug('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(g.edge(e)));\r\n      svgDraw.drawEdge(diagram, g.edge(e), g.edge(e).relation, conf);\r\n    }\r\n  });\r\n\r\n  const svgBounds = diagram.node().getBBox();\r\n  const width = svgBounds.width + padding * 2;\r\n  const height = svgBounds.height + padding * 2;\r\n\r\n  configureSvgSize(diagram, height, width, conf.useMaxWidth);\r\n\r\n  // Ensure the viewBox includes the whole svgBounds area with extra space for padding\r\n  const vBox = `${svgBounds.x - padding} ${svgBounds.y - padding} ${width} ${height}`;\r\n  log.debug(`viewBox ${vBox}`);\r\n  diagram.attr('viewBox', vBox);\r\n};\r\n\r\nexport default {\r\n  setConf,\r\n  draw,\r\n};\r\n","const getStyles = (options) =>\r\n  `g.classGroup text {\r\n  fill: ${options.nodeBorder};\r\n  fill: ${options.classText};\r\n  stroke: none;\r\n  font-family: ${options.fontFamily};\r\n  font-size: 10px;\r\n\r\n  .title {\r\n    font-weight: bolder;\r\n  }\r\n\r\n}\r\n\r\n.nodeLabel, .edgeLabel {\r\n  color: ${options.classText};\r\n}\r\n.edgeLabel .label rect {\r\n  fill: ${options.mainBkg};\r\n}\r\n.label text {\r\n  fill: ${options.classText};\r\n}\r\n.edgeLabel .label span {\r\n  background: ${options.mainBkg};\r\n}\r\n\r\n.classTitle {\r\n  font-weight: bolder;\r\n}\r\n.node rect,\r\n  .node circle,\r\n  .node ellipse,\r\n  .node polygon,\r\n  .node path {\r\n    fill: ${options.mainBkg};\r\n    stroke: ${options.nodeBorder};\r\n    stroke-width: 1px;\r\n  }\r\n\r\n\r\n.divider {\r\n  stroke: ${options.nodeBorder};\r\n  stroke: 1;\r\n}\r\n\r\ng.clickable {\r\n  cursor: pointer;\r\n}\r\n\r\ng.classGroup rect {\r\n  fill: ${options.mainBkg};\r\n  stroke: ${options.nodeBorder};\r\n}\r\n\r\ng.classGroup line {\r\n  stroke: ${options.nodeBorder};\r\n  stroke-width: 1;\r\n}\r\n\r\n.classLabel .box {\r\n  stroke: none;\r\n  stroke-width: 0;\r\n  fill: ${options.mainBkg};\r\n  opacity: 0.5;\r\n}\r\n\r\n.classLabel .label {\r\n  fill: ${options.nodeBorder};\r\n  font-size: 10px;\r\n}\r\n\r\n.relation {\r\n  stroke: ${options.lineColor};\r\n  stroke-width: 1;\r\n  fill: none;\r\n}\r\n\r\n.dashed-line{\r\n  stroke-dasharray: 3;\r\n}\r\n\r\n#compositionStart, .composition {\r\n  fill: ${options.lineColor} !important;\r\n  stroke: ${options.lineColor} !important;\r\n  stroke-width: 1;\r\n}\r\n\r\n#compositionEnd, .composition {\r\n  fill: ${options.lineColor} !important;\r\n  stroke: ${options.lineColor} !important;\r\n  stroke-width: 1;\r\n}\r\n\r\n#dependencyStart, .dependency {\r\n  fill: ${options.lineColor} !important;\r\n  stroke: ${options.lineColor} !important;\r\n  stroke-width: 1;\r\n}\r\n\r\n#dependencyStart, .dependency {\r\n  fill: ${options.lineColor} !important;\r\n  stroke: ${options.lineColor} !important;\r\n  stroke-width: 1;\r\n}\r\n\r\n#extensionStart, .extension {\r\n  fill: ${options.lineColor} !important;\r\n  stroke: ${options.lineColor} !important;\r\n  stroke-width: 1;\r\n}\r\n\r\n#extensionEnd, .extension {\r\n  fill: ${options.lineColor} !important;\r\n  stroke: ${options.lineColor} !important;\r\n  stroke-width: 1;\r\n}\r\n\r\n#aggregationStart, .aggregation {\r\n  fill: ${options.mainBkg} !important;\r\n  stroke: ${options.lineColor} !important;\r\n  stroke-width: 1;\r\n}\r\n\r\n#aggregationEnd, .aggregation {\r\n  fill: ${options.mainBkg} !important;\r\n  stroke: ${options.lineColor} !important;\r\n  stroke-width: 1;\r\n}\r\n\r\n.edgeTerminals {\r\n  font-size: 11px;\r\n}\r\n\r\n`;\r\n\r\nexport default getStyles;\r\n","import { line, curveBasis } from 'd3';\r\nimport { lookUpDomId, relationType } from './classDb';\r\nimport utils from '../../utils';\r\nimport { log } from '../../logger';\r\n\r\nlet edgeCount = 0;\r\nexport const drawEdge = function (elem, path, relation, conf) {\r\n  const getRelationType = function (type) {\r\n    switch (type) {\r\n      case relationType.AGGREGATION:\r\n        return 'aggregation';\r\n      case relationType.EXTENSION:\r\n        return 'extension';\r\n      case relationType.COMPOSITION:\r\n        return 'composition';\r\n      case relationType.DEPENDENCY:\r\n        return 'dependency';\r\n    }\r\n  };\r\n\r\n  path.points = path.points.filter((p) => !Number.isNaN(p.y));\r\n\r\n  // The data for our line\r\n  const lineData = path.points;\r\n\r\n  // This is the accessor function we talked about above\r\n  const lineFunction = line()\r\n    .x(function (d) {\r\n      return d.x;\r\n    })\r\n    .y(function (d) {\r\n      return d.y;\r\n    })\r\n    .curve(curveBasis);\r\n\r\n  const svgPath = elem\r\n    .append('path')\r\n    .attr('d', lineFunction(lineData))\r\n    .attr('id', 'edge' + edgeCount)\r\n    .attr('class', 'relation');\r\n  let url = '';\r\n  if (conf.arrowMarkerAbsolute) {\r\n    url =\r\n      window.location.protocol +\r\n      '//' +\r\n      window.location.host +\r\n      window.location.pathname +\r\n      window.location.search;\r\n    url = url.replace(/\\(/g, '\\\\(');\r\n    url = url.replace(/\\)/g, '\\\\)');\r\n  }\r\n\r\n  if (relation.relation.lineType == 1) {\r\n    svgPath.attr('class', 'relation dashed-line');\r\n  }\r\n  if (relation.relation.type1 !== 'none') {\r\n    svgPath.attr(\r\n      'marker-start',\r\n      'url(' + url + '#' + getRelationType(relation.relation.type1) + 'Start' + ')'\r\n    );\r\n  }\r\n  if (relation.relation.type2 !== 'none') {\r\n    svgPath.attr(\r\n      'marker-end',\r\n      'url(' + url + '#' + getRelationType(relation.relation.type2) + 'End' + ')'\r\n    );\r\n  }\r\n\r\n  let x, y;\r\n  const l = path.points.length;\r\n  // Calculate Label position\r\n  let labelPosition = utils.calcLabelPosition(path.points);\r\n  x = labelPosition.x;\r\n  y = labelPosition.y;\r\n\r\n  let p1_card_x, p1_card_y;\r\n  let p2_card_x, p2_card_y;\r\n\r\n  if (l % 2 !== 0 && l > 1) {\r\n    let cardinality_1_point = utils.calcCardinalityPosition(\r\n      relation.relation.type1 !== 'none',\r\n      path.points,\r\n      path.points[0]\r\n    );\r\n    let cardinality_2_point = utils.calcCardinalityPosition(\r\n      relation.relation.type2 !== 'none',\r\n      path.points,\r\n      path.points[l - 1]\r\n    );\r\n\r\n    log.debug('cardinality_1_point ' + JSON.stringify(cardinality_1_point));\r\n    log.debug('cardinality_2_point ' + JSON.stringify(cardinality_2_point));\r\n\r\n    p1_card_x = cardinality_1_point.x;\r\n    p1_card_y = cardinality_1_point.y;\r\n    p2_card_x = cardinality_2_point.x;\r\n    p2_card_y = cardinality_2_point.y;\r\n  }\r\n\r\n  if (typeof relation.title !== 'undefined') {\r\n    const g = elem.append('g').attr('class', 'classLabel');\r\n    const label = g\r\n      .append('text')\r\n      .attr('class', 'label')\r\n      .attr('x', x)\r\n      .attr('y', y)\r\n      .attr('fill', 'red')\r\n      .attr('text-anchor', 'middle')\r\n      .text(relation.title);\r\n\r\n    window.label = label;\r\n    const bounds = label.node().getBBox();\r\n\r\n    g.insert('rect', ':first-child')\r\n      .attr('class', 'box')\r\n      .attr('x', bounds.x - conf.padding / 2)\r\n      .attr('y', bounds.y - conf.padding / 2)\r\n      .attr('width', bounds.width + conf.padding)\r\n      .attr('height', bounds.height + conf.padding);\r\n  }\r\n\r\n  log.info('Rendering relation ' + JSON.stringify(relation));\r\n  if (typeof relation.relationTitle1 !== 'undefined' && relation.relationTitle1 !== 'none') {\r\n    const g = elem.append('g').attr('class', 'cardinality');\r\n    g.append('text')\r\n      .attr('class', 'type1')\r\n      .attr('x', p1_card_x)\r\n      .attr('y', p1_card_y)\r\n      .attr('fill', 'black')\r\n      .attr('font-size', '6')\r\n      .text(relation.relationTitle1);\r\n  }\r\n  if (typeof relation.relationTitle2 !== 'undefined' && relation.relationTitle2 !== 'none') {\r\n    const g = elem.append('g').attr('class', 'cardinality');\r\n    g.append('text')\r\n      .attr('class', 'type2')\r\n      .attr('x', p2_card_x)\r\n      .attr('y', p2_card_y)\r\n      .attr('fill', 'black')\r\n      .attr('font-size', '6')\r\n      .text(relation.relationTitle2);\r\n  }\r\n\r\n  edgeCount++;\r\n};\r\n\r\nexport const drawClass = function (elem, classDef, conf) {\r\n  log.info('Rendering class ' + classDef);\r\n\r\n  const id = classDef.id;\r\n  const classInfo = {\r\n    id: id,\r\n    label: classDef.id,\r\n    width: 0,\r\n    height: 0,\r\n  };\r\n\r\n  // add class group\r\n  const g = elem.append('g').attr('id', lookUpDomId(id)).attr('class', 'classGroup');\r\n\r\n  // add title\r\n  let title;\r\n  if (classDef.link) {\r\n    title = g\r\n      .append('svg:a')\r\n      .attr('xlink:href', classDef.link)\r\n      .attr('target', classDef.linkTarget)\r\n      .append('text')\r\n      .attr('y', conf.textHeight + conf.padding)\r\n      .attr('x', 0);\r\n  } else {\r\n    title = g\r\n      .append('text')\r\n      .attr('y', conf.textHeight + conf.padding)\r\n      .attr('x', 0);\r\n  }\r\n\r\n  // add annotations\r\n  let isFirst = true;\r\n  classDef.annotations.forEach(function (member) {\r\n    const titleText2 = title.append('tspan').text('«' + member + '»');\r\n    if (!isFirst) titleText2.attr('dy', conf.textHeight);\r\n    isFirst = false;\r\n  });\r\n\r\n  let classTitleString = classDef.id;\r\n\r\n  if (classDef.type !== undefined && classDef.type !== '') {\r\n    classTitleString += '<' + classDef.type + '>';\r\n  }\r\n\r\n  const classTitle = title.append('tspan').text(classTitleString).attr('class', 'title');\r\n\r\n  // If class has annotations the title needs to have an offset of the text height\r\n  if (!isFirst) classTitle.attr('dy', conf.textHeight);\r\n\r\n  const titleHeight = title.node().getBBox().height;\r\n\r\n  const membersLine = g\r\n    .append('line') // text label for the x axis\r\n    .attr('x1', 0)\r\n    .attr('y1', conf.padding + titleHeight + conf.dividerMargin / 2)\r\n    .attr('y2', conf.padding + titleHeight + conf.dividerMargin / 2);\r\n\r\n  const members = g\r\n    .append('text') // text label for the x axis\r\n    .attr('x', conf.padding)\r\n    .attr('y', titleHeight + conf.dividerMargin + conf.textHeight)\r\n    .attr('fill', 'white')\r\n    .attr('class', 'classText');\r\n\r\n  isFirst = true;\r\n  classDef.members.forEach(function (member) {\r\n    addTspan(members, member, isFirst, conf);\r\n    isFirst = false;\r\n  });\r\n\r\n  const membersBox = members.node().getBBox();\r\n\r\n  const methodsLine = g\r\n    .append('line') // text label for the x axis\r\n    .attr('x1', 0)\r\n    .attr('y1', conf.padding + titleHeight + conf.dividerMargin + membersBox.height)\r\n    .attr('y2', conf.padding + titleHeight + conf.dividerMargin + membersBox.height);\r\n\r\n  const methods = g\r\n    .append('text') // text label for the x axis\r\n    .attr('x', conf.padding)\r\n    .attr('y', titleHeight + 2 * conf.dividerMargin + membersBox.height + conf.textHeight)\r\n    .attr('fill', 'white')\r\n    .attr('class', 'classText');\r\n\r\n  isFirst = true;\r\n\r\n  classDef.methods.forEach(function (method) {\r\n    addTspan(methods, method, isFirst, conf);\r\n    isFirst = false;\r\n  });\r\n\r\n  const classBox = g.node().getBBox();\r\n  var cssClassStr = ' ';\r\n\r\n  if (classDef.cssClasses.length > 0) {\r\n    cssClassStr = cssClassStr + classDef.cssClasses.join(' ');\r\n  }\r\n\r\n  const rect = g\r\n    .insert('rect', ':first-child')\r\n    .attr('x', 0)\r\n    .attr('y', 0)\r\n    .attr('width', classBox.width + 2 * conf.padding)\r\n    .attr('height', classBox.height + conf.padding + 0.5 * conf.dividerMargin)\r\n    .attr('class', cssClassStr);\r\n\r\n  const rectWidth = rect.node().getBBox().width;\r\n\r\n  // Center title\r\n  // We subtract the width of each text element from the class box width and divide it by 2\r\n  title.node().childNodes.forEach(function (x) {\r\n    x.setAttribute('x', (rectWidth - x.getBBox().width) / 2);\r\n  });\r\n\r\n  if (classDef.tooltip) {\r\n    title.insert('title').text(classDef.tooltip);\r\n  }\r\n\r\n  membersLine.attr('x2', rectWidth);\r\n  methodsLine.attr('x2', rectWidth);\r\n\r\n  classInfo.width = rectWidth;\r\n  classInfo.height = classBox.height + conf.padding + 0.5 * conf.dividerMargin;\r\n\r\n  return classInfo;\r\n};\r\n\r\nexport const parseMember = function (text) {\r\n  const fieldRegEx = /(\\+|-|~|#)?(\\w+)(~\\w+~|\\[\\])?\\s+(\\w+)/;\r\n  const methodRegEx = /^([+|\\-|~|#])?(\\w+) *\\( *(.*)\\) *(\\*|\\$)? *(\\w*[~|[\\]]*\\s*\\w*~?)$/;\r\n\r\n  let fieldMatch = text.match(fieldRegEx);\r\n  let methodMatch = text.match(methodRegEx);\r\n\r\n  if (fieldMatch && !methodMatch) {\r\n    return buildFieldDisplay(fieldMatch);\r\n  } else if (methodMatch) {\r\n    return buildMethodDisplay(methodMatch);\r\n  } else {\r\n    return buildLegacyDisplay(text);\r\n  }\r\n};\r\n\r\nconst buildFieldDisplay = function (parsedText) {\r\n  let displayText = '';\r\n\r\n  try {\r\n    let visibility = parsedText[1] ? parsedText[1].trim() : '';\r\n    let fieldType = parsedText[2] ? parsedText[2].trim() : '';\r\n    let genericType = parsedText[3] ? parseGenericTypes(parsedText[3].trim()) : '';\r\n    let fieldName = parsedText[4] ? parsedText[4].trim() : '';\r\n\r\n    displayText = visibility + fieldType + genericType + ' ' + fieldName;\r\n  } catch (err) {\r\n    displayText = parsedText;\r\n  }\r\n\r\n  return {\r\n    displayText: displayText,\r\n    cssStyle: '',\r\n  };\r\n};\r\n\r\nconst buildMethodDisplay = function (parsedText) {\r\n  let cssStyle = '';\r\n  let displayText = '';\r\n\r\n  try {\r\n    let visibility = parsedText[1] ? parsedText[1].trim() : '';\r\n    let methodName = parsedText[2] ? parsedText[2].trim() : '';\r\n    let parameters = parsedText[3] ? parseGenericTypes(parsedText[3].trim()) : '';\r\n    let classifier = parsedText[4] ? parsedText[4].trim() : '';\r\n    let returnType = parsedText[5] ? ' : ' + parseGenericTypes(parsedText[5]).trim() : '';\r\n\r\n    displayText = visibility + methodName + '(' + parameters + ')' + returnType;\r\n\r\n    cssStyle = parseClassifier(classifier);\r\n  } catch (err) {\r\n    displayText = parsedText;\r\n  }\r\n\r\n  return {\r\n    displayText: displayText,\r\n    cssStyle: cssStyle,\r\n  };\r\n};\r\n\r\nconst buildLegacyDisplay = function (text) {\r\n  // if for some reason we dont have any match, use old format to parse text\r\n  let displayText = '';\r\n  let cssStyle = '';\r\n  let memberText = '';\r\n  let returnType = '';\r\n  let methodStart = text.indexOf('(');\r\n  let methodEnd = text.indexOf(')');\r\n\r\n  if (methodStart > 1 && methodEnd > methodStart && methodEnd <= text.length) {\r\n    let visibility = '';\r\n    let methodName = '';\r\n\r\n    let firstChar = text.substring(0, 1);\r\n    if (firstChar.match(/\\w/)) {\r\n      methodName = text.substring(0, methodStart).trim();\r\n    } else {\r\n      if (firstChar.match(/\\+|-|~|#/)) {\r\n        visibility = firstChar;\r\n      }\r\n\r\n      methodName = text.substring(1, methodStart).trim();\r\n    }\r\n\r\n    let parameters = text.substring(methodStart + 1, methodEnd);\r\n    let classifier = text.substring(methodEnd + 1, 1);\r\n    cssStyle = parseClassifier(classifier);\r\n\r\n    displayText = visibility + methodName + '(' + parseGenericTypes(parameters.trim()) + ')';\r\n\r\n    if (methodEnd < memberText.length) {\r\n      returnType = text.substring(methodEnd + 2).trim();\r\n      if (returnType !== '') {\r\n        returnType = ' : ' + parseGenericTypes(returnType);\r\n      }\r\n    }\r\n  } else {\r\n    // finally - if all else fails, just send the text back as written (other than parsing for generic types)\r\n    displayText = parseGenericTypes(text);\r\n  }\r\n\r\n  return {\r\n    displayText: displayText,\r\n    cssStyle: cssStyle,\r\n  };\r\n};\r\n\r\nconst addTspan = function (textEl, txt, isFirst, conf) {\r\n  let member = parseMember(txt);\r\n\r\n  const tSpan = textEl.append('tspan').attr('x', conf.padding).text(member.displayText);\r\n\r\n  if (member.cssStyle !== '') {\r\n    tSpan.attr('style', member.cssStyle);\r\n  }\r\n\r\n  if (!isFirst) {\r\n    tSpan.attr('dy', conf.textHeight);\r\n  }\r\n};\r\n\r\nconst parseGenericTypes = function (text) {\r\n  let cleanedText = text;\r\n\r\n  if (text.indexOf('~') != -1) {\r\n    cleanedText = cleanedText.replace('~', '<');\r\n    cleanedText = cleanedText.replace('~', '>');\r\n\r\n    return parseGenericTypes(cleanedText);\r\n  } else {\r\n    return cleanedText;\r\n  }\r\n};\r\n\r\nconst parseClassifier = function (classifier) {\r\n  switch (classifier) {\r\n    case '*':\r\n      return 'font-style:italic;';\r\n    case '$':\r\n      return 'text-decoration:underline;';\r\n    default:\r\n      return '';\r\n  }\r\n};\r\n\r\nexport default {\r\n  drawClass,\r\n  drawEdge,\r\n  parseMember,\r\n};\r\n","import DOMPurify from 'dompurify';\r\n\r\nexport const getRows = (s) => {\r\n  if (!s) return 1;\r\n  let str = breakToPlaceholder(s);\r\n  str = str.replace(/\\\\n/g, '#br#');\r\n  return str.split('#br#');\r\n};\r\n\r\nexport const removeScript = (txt) => {\r\n  var rs = '';\r\n  var idx = 0;\r\n\r\n  while (idx >= 0) {\r\n    idx = txt.indexOf('<script');\r\n    if (idx >= 0) {\r\n      rs += txt.substr(0, idx);\r\n      txt = txt.substr(idx + 1);\r\n\r\n      idx = txt.indexOf('</script>');\r\n      if (idx >= 0) {\r\n        idx += 9;\r\n        txt = txt.substr(idx);\r\n      }\r\n    } else {\r\n      rs += txt;\r\n      idx = -1;\r\n      break;\r\n    }\r\n  }\r\n\r\n  rs = rs.replace(/javascript:/g, '#');\r\n  rs = rs.replace(/onerror=/g, 'onerror:');\r\n  rs = rs.replace(/<iframe/g, '');\r\n\r\n  return rs;\r\n};\r\n\r\nconst sanitizeMore = (text, config) => {\r\n  let txt = text;\r\n  let htmlLabels = true;\r\n  if (\r\n    config.flowchart &&\r\n    (config.flowchart.htmlLabels === false || config.flowchart.htmlLabels === 'false')\r\n  ) {\r\n    htmlLabels = false;\r\n  }\r\n\r\n  if (htmlLabels) {\r\n    const level = config.securityLevel;\r\n\r\n    if (level === 'antiscript') {\r\n      txt = removeScript(txt);\r\n    } else if (level !== 'loose') {\r\n      // eslint-disable-line\r\n      txt = breakToPlaceholder(txt);\r\n      txt = txt.replace(/</g, '&lt;').replace(/>/g, '&gt;');\r\n      txt = txt.replace(/=/g, '&equals;');\r\n      txt = placeholderToBreak(txt);\r\n    }\r\n  }\r\n\r\n  return txt;\r\n};\r\n\r\nexport const sanitizeText = (text, config) => {\r\n  const txt = sanitizeMore(DOMPurify.sanitize(text), config);\r\n  return txt;\r\n};\r\n\r\nexport const lineBreakRegex = /<br\\s*\\/?>/gi;\r\n\r\nexport const hasBreaks = (text) => {\r\n  return /<br\\s*[/]?>/gi.test(text);\r\n};\r\n\r\nexport const splitBreaks = (text) => {\r\n  return text.split(/<br\\s*[/]?>/gi);\r\n};\r\nconst placeholderToBreak = (s) => {\r\n  return s.replace(/#br#/g, '<br/>');\r\n};\r\nconst breakToPlaceholder = (s) => {\r\n  return s.replace(lineBreakRegex, '#br#');\r\n};\r\n\r\nconst getUrl = (useAbsolute) => {\r\n  let url = '';\r\n  if (useAbsolute) {\r\n    url =\r\n      window.location.protocol +\r\n      '//' +\r\n      window.location.host +\r\n      window.location.pathname +\r\n      window.location.search;\r\n    url = url.replace(/\\(/g, '\\\\(');\r\n    url = url.replace(/\\)/g, '\\\\)');\r\n  }\r\n\r\n  return url;\r\n};\r\n\r\nexport const evaluate = (val) => (val === 'false' || val === false ? false : true);\r\n\r\nexport default {\r\n  getRows,\r\n  sanitizeText,\r\n  hasBreaks,\r\n  splitBreaks,\r\n  lineBreakRegex,\r\n  removeScript,\r\n  getUrl,\r\n  evaluate,\r\n};\r\n","/**\r\n *\r\n */\r\nimport { log } from '../../logger';\r\nimport mermaidAPI from '../../mermaidAPI';\r\nimport * as configApi from '../../config';\r\n\r\nlet entities = {};\r\nlet relationships = [];\r\nlet title = '';\r\n\r\nconst Cardinality = {\r\n  ZERO_OR_ONE: 'ZERO_OR_ONE',\r\n  ZERO_OR_MORE: 'ZERO_OR_MORE',\r\n  ONE_OR_MORE: 'ONE_OR_MORE',\r\n  ONLY_ONE: 'ONLY_ONE',\r\n};\r\n\r\nconst Identification = {\r\n  NON_IDENTIFYING: 'NON_IDENTIFYING',\r\n  IDENTIFYING: 'IDENTIFYING',\r\n};\r\n\r\nexport const parseDirective = function (statement, context, type) {\r\n  mermaidAPI.parseDirective(this, statement, context, type);\r\n};\r\n\r\nconst addEntity = function (name) {\r\n  if (typeof entities[name] === 'undefined') {\r\n    entities[name] = { attributes: [] };\r\n    log.info('Added new entity :', name);\r\n  }\r\n\r\n  return entities[name];\r\n};\r\n\r\nconst getEntities = () => entities;\r\n\r\nconst addAttributes = function (entityName, attribs) {\r\n  let entity = addEntity(entityName); // May do nothing (if entity has already been added)\r\n\r\n  // Process attribs in reverse order due to effect of recursive construction (last attribute is first)\r\n  let i;\r\n  for (i = attribs.length - 1; i >= 0; i--) {\r\n    entity.attributes.push(attribs[i]);\r\n    log.debug('Added attribute ', attribs[i].attributeName);\r\n  }\r\n};\r\n\r\n/**\r\n * Add a relationship\r\n * @param entA The first entity in the relationship\r\n * @param rolA The role played by the first entity in relation to the second\r\n * @param entB The second entity in the relationship\r\n * @param rSpec The details of the relationship between the two entities\r\n */\r\nconst addRelationship = function (entA, rolA, entB, rSpec) {\r\n  let rel = {\r\n    entityA: entA,\r\n    roleA: rolA,\r\n    entityB: entB,\r\n    relSpec: rSpec,\r\n  };\r\n\r\n  relationships.push(rel);\r\n  log.debug('Added new relationship :', rel);\r\n};\r\n\r\nconst getRelationships = () => relationships;\r\n\r\n// Keep this - TODO: revisit...allow the diagram to have a title\r\nconst setTitle = function (txt) {\r\n  title = txt;\r\n};\r\n\r\nconst getTitle = function () {\r\n  return title;\r\n};\r\n\r\nconst clear = function () {\r\n  entities = {};\r\n  relationships = [];\r\n  title = '';\r\n};\r\n\r\nexport default {\r\n  Cardinality,\r\n  Identification,\r\n  parseDirective,\r\n  getConfig: () => configApi.getConfig().er,\r\n  addEntity,\r\n  addAttributes,\r\n  getEntities,\r\n  addRelationship,\r\n  getRelationships,\r\n  clear,\r\n  setTitle,\r\n  getTitle,\r\n};\r\n","const ERMarkers = {\r\n  ONLY_ONE_START: 'ONLY_ONE_START',\r\n  ONLY_ONE_END: 'ONLY_ONE_END',\r\n  ZERO_OR_ONE_START: 'ZERO_OR_ONE_START',\r\n  ZERO_OR_ONE_END: 'ZERO_OR_ONE_END',\r\n  ONE_OR_MORE_START: 'ONE_OR_MORE_START',\r\n  ONE_OR_MORE_END: 'ONE_OR_MORE_END',\r\n  ZERO_OR_MORE_START: 'ZERO_OR_MORE_START',\r\n  ZERO_OR_MORE_END: 'ZERO_OR_MORE_END',\r\n};\r\n\r\n/**\r\n * Put the markers into the svg DOM for later use with edge paths\r\n */\r\nconst insertMarkers = function (elem, conf) {\r\n  let marker;\r\n\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', ERMarkers.ONLY_ONE_START)\r\n    .attr('refX', 0)\r\n    .attr('refY', 9)\r\n    .attr('markerWidth', 18)\r\n    .attr('markerHeight', 18)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('stroke', conf.stroke)\r\n    .attr('fill', 'none')\r\n    .attr('d', 'M9,0 L9,18 M15,0 L15,18');\r\n\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', ERMarkers.ONLY_ONE_END)\r\n    .attr('refX', 18)\r\n    .attr('refY', 9)\r\n    .attr('markerWidth', 18)\r\n    .attr('markerHeight', 18)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('stroke', conf.stroke)\r\n    .attr('fill', 'none')\r\n    .attr('d', 'M3,0 L3,18 M9,0 L9,18');\r\n\r\n  marker = elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', ERMarkers.ZERO_OR_ONE_START)\r\n    .attr('refX', 0)\r\n    .attr('refY', 9)\r\n    .attr('markerWidth', 30)\r\n    .attr('markerHeight', 18)\r\n    .attr('orient', 'auto');\r\n  marker\r\n    .append('circle')\r\n    .attr('stroke', conf.stroke)\r\n    .attr('fill', 'white')\r\n    .attr('cx', 21)\r\n    .attr('cy', 9)\r\n    .attr('r', 6);\r\n  marker.append('path').attr('stroke', conf.stroke).attr('fill', 'none').attr('d', 'M9,0 L9,18');\r\n\r\n  marker = elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', ERMarkers.ZERO_OR_ONE_END)\r\n    .attr('refX', 30)\r\n    .attr('refY', 9)\r\n    .attr('markerWidth', 30)\r\n    .attr('markerHeight', 18)\r\n    .attr('orient', 'auto');\r\n  marker\r\n    .append('circle')\r\n    .attr('stroke', conf.stroke)\r\n    .attr('fill', 'white')\r\n    .attr('cx', 9)\r\n    .attr('cy', 9)\r\n    .attr('r', 6);\r\n  marker.append('path').attr('stroke', conf.stroke).attr('fill', 'none').attr('d', 'M21,0 L21,18');\r\n\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', ERMarkers.ONE_OR_MORE_START)\r\n    .attr('refX', 18)\r\n    .attr('refY', 18)\r\n    .attr('markerWidth', 45)\r\n    .attr('markerHeight', 36)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('stroke', conf.stroke)\r\n    .attr('fill', 'none')\r\n    .attr('d', 'M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27');\r\n\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', ERMarkers.ONE_OR_MORE_END)\r\n    .attr('refX', 27)\r\n    .attr('refY', 18)\r\n    .attr('markerWidth', 45)\r\n    .attr('markerHeight', 36)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('stroke', conf.stroke)\r\n    .attr('fill', 'none')\r\n    .attr('d', 'M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18');\r\n\r\n  marker = elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', ERMarkers.ZERO_OR_MORE_START)\r\n    .attr('refX', 18)\r\n    .attr('refY', 18)\r\n    .attr('markerWidth', 57)\r\n    .attr('markerHeight', 36)\r\n    .attr('orient', 'auto');\r\n  marker\r\n    .append('circle')\r\n    .attr('stroke', conf.stroke)\r\n    .attr('fill', 'white')\r\n    .attr('cx', 48)\r\n    .attr('cy', 18)\r\n    .attr('r', 6);\r\n  marker\r\n    .append('path')\r\n    .attr('stroke', conf.stroke)\r\n    .attr('fill', 'none')\r\n    .attr('d', 'M0,18 Q18,0 36,18 Q18,36 0,18');\r\n\r\n  marker = elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', ERMarkers.ZERO_OR_MORE_END)\r\n    .attr('refX', 39)\r\n    .attr('refY', 18)\r\n    .attr('markerWidth', 57)\r\n    .attr('markerHeight', 36)\r\n    .attr('orient', 'auto');\r\n  marker\r\n    .append('circle')\r\n    .attr('stroke', conf.stroke)\r\n    .attr('fill', 'white')\r\n    .attr('cx', 9)\r\n    .attr('cy', 18)\r\n    .attr('r', 6);\r\n  marker\r\n    .append('path')\r\n    .attr('stroke', conf.stroke)\r\n    .attr('fill', 'none')\r\n    .attr('d', 'M21,18 Q39,0 57,18 Q39,36 21,18');\r\n\r\n  return;\r\n};\r\n\r\nexport default {\r\n  ERMarkers,\r\n  insertMarkers,\r\n};\r\n","import graphlib from 'graphlib';\r\nimport { line, curveBasis, select } from 'd3';\r\nimport erDb from './erDb';\r\nimport erParser from './parser/erDiagram';\r\nimport dagre from 'dagre';\r\nimport { getConfig } from '../../config';\r\nimport { log } from '../../logger';\r\nimport erMarkers from './erMarkers';\r\nimport { configureSvgSize } from '../../utils';\r\n\r\nconst conf = {};\r\n\r\n/**\r\n * Allows the top-level API module to inject config specific to this renderer,\r\n * storing it in the local conf object. Note that generic config still needs to be\r\n * retrieved using getConfig() imported from the config module\r\n */\r\nexport const setConf = function (cnf) {\r\n  const keys = Object.keys(cnf);\r\n  for (let i = 0; i < keys.length; i++) {\r\n    conf[keys[i]] = cnf[keys[i]];\r\n  }\r\n};\r\n\r\n/**\r\n * Draw attributes for an entity\r\n * @param groupNode the svg group node for the entity\r\n * @param entityTextNode the svg node for the entity label text\r\n * @param attributes an array of attributes defined for the entity (each attribute has a type and a name)\r\n * @return the bounding box of the entity, after attributes have been added\r\n */\r\nconst drawAttributes = (groupNode, entityTextNode, attributes) => {\r\n  const heightPadding = conf.entityPadding / 3; // Padding internal to attribute boxes\r\n  const widthPadding = conf.entityPadding / 3; // Ditto\r\n  const attrFontSize = conf.fontSize * 0.85;\r\n  const labelBBox = entityTextNode.node().getBBox();\r\n  const attributeNodes = []; // Intermediate storage for attribute nodes created so that we can do a second pass\r\n  let hasKeyType = false;\r\n  let hasComment = false;\r\n  let maxWidth = 0;\r\n  let maxTypeWidth = 0;\r\n  let maxNameWidth = 0;\r\n  let maxKeyWidth = 0;\r\n  let maxCommentWidth = 0;\r\n  let cumulativeHeight = labelBBox.height + heightPadding * 2;\r\n  let attrNum = 1;\r\n\r\n  attributes.forEach((item) => {\r\n    const attrPrefix = `${entityTextNode.node().id}-attr-${attrNum}`;\r\n    let nodeWidth = 0;\r\n    let nodeHeight = 0;\r\n\r\n    // Add a text node for the attribute type\r\n    const typeNode = groupNode\r\n      .append('text')\r\n      .attr('class', 'er entityLabel')\r\n      .attr('id', `${attrPrefix}-type`)\r\n      .attr('x', 0)\r\n      .attr('y', 0)\r\n      .attr('dominant-baseline', 'middle')\r\n      .attr('text-anchor', 'left')\r\n      .attr(\r\n        'style',\r\n        'font-family: ' + getConfig().fontFamily + '; font-size: ' + attrFontSize + 'px'\r\n      )\r\n      .text(item.attributeType);\r\n\r\n    // Add a text node for the attribute name\r\n    const nameNode = groupNode\r\n      .append('text')\r\n      .attr('class', 'er entityLabel')\r\n      .attr('id', `${attrPrefix}-name`)\r\n      .attr('x', 0)\r\n      .attr('y', 0)\r\n      .attr('dominant-baseline', 'middle')\r\n      .attr('text-anchor', 'left')\r\n      .attr(\r\n        'style',\r\n        'font-family: ' + getConfig().fontFamily + '; font-size: ' + attrFontSize + 'px'\r\n      )\r\n      .text(item.attributeName);\r\n\r\n    const attributeNode = {};\r\n    attributeNode.tn = typeNode;\r\n    attributeNode.nn = nameNode;\r\n\r\n    const typeBBox = typeNode.node().getBBox();\r\n    const nameBBox = nameNode.node().getBBox();\r\n    maxTypeWidth = Math.max(maxTypeWidth, typeBBox.width);\r\n    maxNameWidth = Math.max(maxNameWidth, nameBBox.width);\r\n    nodeWidth += typeBBox.width;\r\n    nodeWidth += nameBBox.width;\r\n\r\n    nodeHeight = Math.max(typeBBox.height, nameBBox.height);\r\n\r\n    if (hasKeyType || item.attributeKeyType !== undefined) {\r\n      const keyTypeNode = groupNode\r\n        .append('text')\r\n        .attr('class', 'er entityLabel')\r\n        .attr('id', `${attrPrefix}-name`)\r\n        .attr('x', 0)\r\n        .attr('y', 0)\r\n        .attr('dominant-baseline', 'middle')\r\n        .attr('text-anchor', 'left')\r\n        .attr(\r\n          'style',\r\n          'font-family: ' + getConfig().fontFamily + '; font-size: ' + attrFontSize + 'px'\r\n        )\r\n        .text(item.attributeKeyType || '');\r\n\r\n      attributeNode.kn = keyTypeNode;\r\n      const keyTypeBBox = keyTypeNode.node().getBBox();\r\n      nodeWidth += keyTypeBBox.width;\r\n      maxKeyWidth = Math.max(maxKeyWidth, nodeWidth);\r\n      nodeHeight = Math.max(nodeHeight, keyTypeBBox.height);\r\n      hasKeyType = true;\r\n    }\r\n\r\n    if (hasComment || item.attributeComment !== undefined) {\r\n      const commentNode = groupNode\r\n        .append('text')\r\n        .attr('class', 'er entityLabel')\r\n        .attr('id', `${attrPrefix}-name`)\r\n        .attr('x', 0)\r\n        .attr('y', 0)\r\n        .attr('dominant-baseline', 'middle')\r\n        .attr('text-anchor', 'left')\r\n        .attr(\r\n          'style',\r\n          'font-family: ' + getConfig().fontFamily + '; font-size: ' + attrFontSize + 'px'\r\n        )\r\n        .text(item.attributeComment || '');\r\n\r\n      attributeNode.cn = commentNode;\r\n      const commentNodeBBox = commentNode.node().getBBox();\r\n      nodeWidth += commentNodeBBox.width;\r\n      maxCommentWidth = Math.max(nodeWidth, nameBBox.width);\r\n      nodeHeight = Math.max(nodeHeight, commentNodeBBox.height);\r\n      hasComment = true;\r\n    }\r\n\r\n    attributeNode.height = nodeHeight;\r\n    // Keep a reference to the nodes so that we can iterate through them later\r\n    attributeNodes.push(attributeNode);\r\n    maxWidth = Math.max(maxWidth, nodeWidth);\r\n    cumulativeHeight += nodeHeight + heightPadding * 2;\r\n    attrNum += 1;\r\n  });\r\n\r\n  // Calculate the new bounding box of the overall entity, now that attributes have been added\r\n  const bBox = {\r\n    width: Math.max(\r\n      conf.minEntityWidth,\r\n      Math.max(labelBBox.width + conf.entityPadding * 2, maxWidth + widthPadding * 4)\r\n    ),\r\n    height:\r\n      attributes.length > 0\r\n        ? cumulativeHeight\r\n        : Math.max(conf.minEntityHeight, labelBBox.height + conf.entityPadding * 2),\r\n  };\r\n\r\n  // There might be some spare width for padding out attributes if the entity name is very long\r\n  const spareWidth = Math.max(0, bBox.width - maxWidth - widthPadding * 4);\r\n\r\n  if (attributes.length > 0) {\r\n    // Position the entity label near the top of the entity bounding box\r\n    entityTextNode.attr(\r\n      'transform',\r\n      'translate(' + bBox.width / 2 + ',' + (heightPadding + labelBBox.height / 2) + ')'\r\n    );\r\n\r\n    // Add rectangular boxes for the attribute types/names\r\n    let heightOffset = labelBBox.height + heightPadding * 2; // Start at the bottom of the entity label\r\n    let attribStyle = 'attributeBoxOdd'; // We will flip the style on alternate rows to achieve a banded effect\r\n\r\n    attributeNodes.forEach((attributeNode) => {\r\n      // Calculate the alignment y co-ordinate for the type/name of the attribute\r\n      const alignY = heightOffset + heightPadding + attributeNode.height / 2;\r\n\r\n      // Position the type of the attribute\r\n      attributeNode.tn.attr('transform', 'translate(' + widthPadding + ',' + alignY + ')');\r\n\r\n      // Insert a rectangle for the type\r\n      const typeRect = groupNode\r\n        .insert('rect', '#' + attributeNode.tn.node().id)\r\n        .attr('class', `er ${attribStyle}`)\r\n        .attr('fill', conf.fill)\r\n        .attr('fill-opacity', '100%')\r\n        .attr('stroke', conf.stroke)\r\n        .attr('x', 0)\r\n        .attr('y', heightOffset)\r\n        .attr('width', maxTypeWidth * 2 + spareWidth / 2)\r\n        .attr('height', attributeNode.tn.node().getBBox().height + heightPadding * 2);\r\n\r\n      // Position the name of the attribute\r\n      attributeNode.nn.attr(\r\n        'transform',\r\n        'translate(' + (parseFloat(typeRect.attr('width')) + widthPadding) + ',' + alignY + ')'\r\n      );\r\n\r\n      // Insert a rectangle for the name\r\n      groupNode\r\n        .insert('rect', '#' + attributeNode.nn.node().id)\r\n        .attr('class', `er ${attribStyle}`)\r\n        .attr('fill', conf.fill)\r\n        .attr('fill-opacity', '100%')\r\n        .attr('stroke', conf.stroke)\r\n        .attr('x', `${typeRect.attr('x') + typeRect.attr('width')}`)\r\n        .attr('y', heightOffset)\r\n        .attr('width', maxNameWidth + widthPadding * 2 + spareWidth / 2)\r\n        .attr('height', attributeNode.nn.node().getBBox().height + heightPadding * 2);\r\n\r\n      if (hasKeyType) {\r\n        // Position the name of the attribute\r\n        attributeNode.kn.attr(\r\n          'transform',\r\n          'translate(' + (parseFloat(typeRect.attr('width')) + widthPadding) + ',' + alignY + ')'\r\n        );\r\n\r\n        // Insert a rectangle for the name\r\n        groupNode\r\n          .insert('rect', '#' + attributeNode.kn.node().id)\r\n          .attr('class', `er ${attribStyle}`)\r\n          .attr('fill', conf.fill)\r\n          .attr('fill-opacity', '100%')\r\n          .attr('stroke', conf.stroke)\r\n          .attr('x', `${typeRect.attr('x') + typeRect.attr('width')}`)\r\n          .attr('y', heightOffset)\r\n          .attr('width', maxKeyWidth + widthPadding * 2 + spareWidth / 2)\r\n          .attr('height', attributeNode.kn.node().getBBox().height + heightPadding * 2);\r\n      }\r\n\r\n      if (hasComment) {\r\n        // Position the name of the attribute\r\n        attributeNode.cn.attr(\r\n          'transform',\r\n          'translate(' + (parseFloat(typeRect.attr('width')) + widthPadding) + ',' + alignY + ')'\r\n        );\r\n\r\n        // Insert a rectangle for the name\r\n        groupNode\r\n          .insert('rect', '#' + attributeNode.cn.node().id)\r\n          .attr('class', `er ${attribStyle}`)\r\n          .attr('fill', conf.fill)\r\n          .attr('fill-opacity', '100%')\r\n          .attr('stroke', conf.stroke)\r\n          .attr('x', `${typeRect.attr('x') + typeRect.attr('width')}`)\r\n          .attr('y', heightOffset)\r\n          .attr('width', maxCommentWidth + widthPadding * 2 + spareWidth / 2)\r\n          .attr('height', attributeNode.cn.node().getBBox().height + heightPadding * 2);\r\n      }\r\n\r\n      // Increment the height offset to move to the next row\r\n      heightOffset += attributeNode.height + heightPadding * 2;\r\n\r\n      // Flip the attribute style for row banding\r\n      attribStyle = attribStyle == 'attributeBoxOdd' ? 'attributeBoxEven' : 'attributeBoxOdd';\r\n    });\r\n  } else {\r\n    // Ensure the entity box is a decent size without any attributes\r\n    bBox.height = Math.max(conf.minEntityHeight, cumulativeHeight);\r\n\r\n    // Position the entity label in the middle of the box\r\n    entityTextNode.attr('transform', 'translate(' + bBox.width / 2 + ',' + bBox.height / 2 + ')');\r\n  }\r\n\r\n  return bBox;\r\n};\r\n\r\n/**\r\n * Use D3 to construct the svg elements for the entities\r\n * @param svgNode the svg node that contains the diagram\r\n * @param entities The entities to be drawn\r\n * @param graph The graph that contains the vertex and edge definitions post-layout\r\n * @return The first entity that was inserted\r\n */\r\nconst drawEntities = function (svgNode, entities, graph) {\r\n  const keys = Object.keys(entities);\r\n  let firstOne;\r\n\r\n  keys.forEach(function (id) {\r\n    // Create a group for each entity\r\n    const groupNode = svgNode.append('g').attr('id', id);\r\n\r\n    firstOne = firstOne === undefined ? id : firstOne;\r\n\r\n    // Label the entity - this is done first so that we can get the bounding box\r\n    // which then determines the size of the rectangle\r\n    const textId = 'entity-' + id;\r\n    const textNode = groupNode\r\n      .append('text')\r\n      .attr('class', 'er entityLabel')\r\n      .attr('id', textId)\r\n      .attr('x', 0)\r\n      .attr('y', 0)\r\n      .attr('dominant-baseline', 'middle')\r\n      .attr('text-anchor', 'middle')\r\n      .attr(\r\n        'style',\r\n        'font-family: ' + getConfig().fontFamily + '; font-size: ' + conf.fontSize + 'px'\r\n      )\r\n      .text(id);\r\n\r\n    const { width: entityWidth, height: entityHeight } = drawAttributes(\r\n      groupNode,\r\n      textNode,\r\n      entities[id].attributes\r\n    );\r\n\r\n    // Draw the rectangle - insert it before the text so that the text is not obscured\r\n    const rectNode = groupNode\r\n      .insert('rect', '#' + textId)\r\n      .attr('class', 'er entityBox')\r\n      .attr('fill', conf.fill)\r\n      .attr('fill-opacity', '100%')\r\n      .attr('stroke', conf.stroke)\r\n      .attr('x', 0)\r\n      .attr('y', 0)\r\n      .attr('width', entityWidth)\r\n      .attr('height', entityHeight);\r\n\r\n    const rectBBox = rectNode.node().getBBox();\r\n\r\n    // Add the entity to the graph\r\n    graph.setNode(id, {\r\n      width: rectBBox.width,\r\n      height: rectBBox.height,\r\n      shape: 'rect',\r\n      id: id,\r\n    });\r\n  });\r\n  return firstOne;\r\n}; // drawEntities\r\n\r\nconst adjustEntities = function (svgNode, graph) {\r\n  graph.nodes().forEach(function (v) {\r\n    if (typeof v !== 'undefined' && typeof graph.node(v) !== 'undefined') {\r\n      svgNode\r\n        .select('#' + v)\r\n        .attr(\r\n          'transform',\r\n          'translate(' +\r\n            (graph.node(v).x - graph.node(v).width / 2) +\r\n            ',' +\r\n            (graph.node(v).y - graph.node(v).height / 2) +\r\n            ' )'\r\n        );\r\n    }\r\n  });\r\n  return;\r\n};\r\n\r\nconst getEdgeName = function (rel) {\r\n  return (rel.entityA + rel.roleA + rel.entityB).replace(/\\s/g, '');\r\n};\r\n\r\n/**\r\n * Add each relationship to the graph\r\n * @param relationships the relationships to be added\r\n * @param g the graph\r\n * @return {Array} The array of relationships\r\n */\r\nconst addRelationships = function (relationships, g) {\r\n  relationships.forEach(function (r) {\r\n    g.setEdge(r.entityA, r.entityB, { relationship: r }, getEdgeName(r));\r\n  });\r\n  return relationships;\r\n}; // addRelationships\r\n\r\nlet relCnt = 0;\r\n/**\r\n * Draw a relationship using edge information from the graph\r\n * @param svg the svg node\r\n * @param rel the relationship to draw in the svg\r\n * @param g the graph containing the edge information\r\n * @param insert the insertion point in the svg DOM (because relationships have markers that need to sit 'behind' opaque entity boxes)\r\n */\r\nconst drawRelationshipFromLayout = function (svg, rel, g, insert) {\r\n  relCnt++;\r\n\r\n  // Find the edge relating to this relationship\r\n  const edge = g.edge(rel.entityA, rel.entityB, getEdgeName(rel));\r\n\r\n  // Get a function that will generate the line path\r\n  const lineFunction = line()\r\n    .x(function (d) {\r\n      return d.x;\r\n    })\r\n    .y(function (d) {\r\n      return d.y;\r\n    })\r\n    .curve(curveBasis);\r\n\r\n  // Insert the line at the right place\r\n  const svgPath = svg\r\n    .insert('path', '#' + insert)\r\n    .attr('class', 'er relationshipLine')\r\n    .attr('d', lineFunction(edge.points))\r\n    .attr('stroke', conf.stroke)\r\n    .attr('fill', 'none');\r\n\r\n  // ...and with dashes if necessary\r\n  if (rel.relSpec.relType === erDb.Identification.NON_IDENTIFYING) {\r\n    svgPath.attr('stroke-dasharray', '8,8');\r\n  }\r\n\r\n  // TODO: Understand this better\r\n  let url = '';\r\n  if (conf.arrowMarkerAbsolute) {\r\n    url =\r\n      window.location.protocol +\r\n      '//' +\r\n      window.location.host +\r\n      window.location.pathname +\r\n      window.location.search;\r\n    url = url.replace(/\\(/g, '\\\\(');\r\n    url = url.replace(/\\)/g, '\\\\)');\r\n  }\r\n\r\n  // Decide which start and end markers it needs. It may be possible to be more concise here\r\n  // by reversing a start marker to make an end marker...but this will do for now\r\n\r\n  // Note that the 'A' entity's marker is at the end of the relationship and the 'B' entity's marker is at the start\r\n  switch (rel.relSpec.cardA) {\r\n    case erDb.Cardinality.ZERO_OR_ONE:\r\n      svgPath.attr('marker-end', 'url(' + url + '#' + erMarkers.ERMarkers.ZERO_OR_ONE_END + ')');\r\n      break;\r\n    case erDb.Cardinality.ZERO_OR_MORE:\r\n      svgPath.attr('marker-end', 'url(' + url + '#' + erMarkers.ERMarkers.ZERO_OR_MORE_END + ')');\r\n      break;\r\n    case erDb.Cardinality.ONE_OR_MORE:\r\n      svgPath.attr('marker-end', 'url(' + url + '#' + erMarkers.ERMarkers.ONE_OR_MORE_END + ')');\r\n      break;\r\n    case erDb.Cardinality.ONLY_ONE:\r\n      svgPath.attr('marker-end', 'url(' + url + '#' + erMarkers.ERMarkers.ONLY_ONE_END + ')');\r\n      break;\r\n  }\r\n\r\n  switch (rel.relSpec.cardB) {\r\n    case erDb.Cardinality.ZERO_OR_ONE:\r\n      svgPath.attr(\r\n        'marker-start',\r\n        'url(' + url + '#' + erMarkers.ERMarkers.ZERO_OR_ONE_START + ')'\r\n      );\r\n      break;\r\n    case erDb.Cardinality.ZERO_OR_MORE:\r\n      svgPath.attr(\r\n        'marker-start',\r\n        'url(' + url + '#' + erMarkers.ERMarkers.ZERO_OR_MORE_START + ')'\r\n      );\r\n      break;\r\n    case erDb.Cardinality.ONE_OR_MORE:\r\n      svgPath.attr(\r\n        'marker-start',\r\n        'url(' + url + '#' + erMarkers.ERMarkers.ONE_OR_MORE_START + ')'\r\n      );\r\n      break;\r\n    case erDb.Cardinality.ONLY_ONE:\r\n      svgPath.attr('marker-start', 'url(' + url + '#' + erMarkers.ERMarkers.ONLY_ONE_START + ')');\r\n      break;\r\n  }\r\n\r\n  // Now label the relationship\r\n\r\n  // Find the half-way point\r\n  const len = svgPath.node().getTotalLength();\r\n  const labelPoint = svgPath.node().getPointAtLength(len * 0.5);\r\n\r\n  // Append a text node containing the label\r\n  const labelId = 'rel' + relCnt;\r\n\r\n  const labelNode = svg\r\n    .append('text')\r\n    .attr('class', 'er relationshipLabel')\r\n    .attr('id', labelId)\r\n    .attr('x', labelPoint.x)\r\n    .attr('y', labelPoint.y)\r\n    .attr('text-anchor', 'middle')\r\n    .attr('dominant-baseline', 'middle')\r\n    .attr(\r\n      'style',\r\n      'font-family: ' + getConfig().fontFamily + '; font-size: ' + conf.fontSize + 'px'\r\n    )\r\n    .text(rel.roleA);\r\n\r\n  // Figure out how big the opaque 'container' rectangle needs to be\r\n  const labelBBox = labelNode.node().getBBox();\r\n\r\n  // Insert the opaque rectangle before the text label\r\n  svg\r\n    .insert('rect', '#' + labelId)\r\n    .attr('class', 'er relationshipLabelBox')\r\n    .attr('x', labelPoint.x - labelBBox.width / 2)\r\n    .attr('y', labelPoint.y - labelBBox.height / 2)\r\n    .attr('width', labelBBox.width)\r\n    .attr('height', labelBBox.height)\r\n    .attr('fill', 'white')\r\n    .attr('fill-opacity', '85%');\r\n\r\n  return;\r\n};\r\n\r\n/**\r\n * Draw en E-R diagram in the tag with id: id based on the text definition of the diagram\r\n * @param text the text of the diagram\r\n * @param id the unique id of the DOM node that contains the diagram\r\n */\r\nexport const draw = function (text, id) {\r\n  log.info('Drawing ER diagram');\r\n  erDb.clear();\r\n  const parser = erParser.parser;\r\n  parser.yy = erDb;\r\n\r\n  // Parse the text to populate erDb\r\n  try {\r\n    parser.parse(text);\r\n  } catch (err) {\r\n    log.debug('Parsing failed');\r\n  }\r\n\r\n  // Get a reference to the svg node that contains the text\r\n  const svg = select(`[id='${id}']`);\r\n\r\n  // Add cardinality marker definitions to the svg\r\n  erMarkers.insertMarkers(svg, conf);\r\n\r\n  // Now we have to construct the diagram in a specific way:\r\n  // ---\r\n  // 1. Create all the entities in the svg node at 0,0, but with the correct dimensions (allowing for text content)\r\n  // 2. Make sure they are all added to the graph\r\n  // 3. Add all the edges (relationships) to the graph aswell\r\n  // 4. Let dagre do its magic to layout the graph.  This assigns:\r\n  //    - the centre co-ordinates for each node, bearing in mind the dimensions and edge relationships\r\n  //    - the path co-ordinates for each edge\r\n  //    But it has no impact on the svg child nodes - the diagram remains with every entity rooted at 0,0\r\n  // 5. Now assign a transform to each entity in the svg node so that it gets drawn in the correct place, as determined by\r\n  //    its centre point, which is obtained from the graph, and it's width and height\r\n  // 6. And finally, create all the edges in the svg node using information from the graph\r\n  // ---\r\n\r\n  // Create the graph\r\n  let g;\r\n\r\n  // TODO: Explore directed vs undirected graphs, and how the layout is affected\r\n  // An E-R diagram could be said to be undirected, but there is merit in setting\r\n  // the direction from parent to child in a one-to-many as this influences graphlib to\r\n  // put the parent above the child (does it?), which is intuitive.  Most relationships\r\n  // in ER diagrams are one-to-many.\r\n  g = new graphlib.Graph({\r\n    multigraph: true,\r\n    directed: true,\r\n    compound: false,\r\n  })\r\n    .setGraph({\r\n      rankdir: conf.layoutDirection,\r\n      marginx: 20,\r\n      marginy: 20,\r\n      nodesep: 100,\r\n      edgesep: 100,\r\n      ranksep: 100,\r\n    })\r\n    .setDefaultEdgeLabel(function () {\r\n      return {};\r\n    });\r\n\r\n  // Draw the entities (at 0,0), returning the first svg node that got\r\n  // inserted - this represents the insertion point for relationship paths\r\n  const firstEntity = drawEntities(svg, erDb.getEntities(), g);\r\n\r\n  // TODO: externalise the addition of entities to the graph - it's a bit 'buried' in the above\r\n\r\n  // Add all the relationships to the graph\r\n  const relationships = addRelationships(erDb.getRelationships(), g);\r\n\r\n  dagre.layout(g); // Node and edge positions will be updated\r\n\r\n  // Adjust the positions of the entities so that they adhere to the layout\r\n  adjustEntities(svg, g);\r\n\r\n  // Draw the relationships\r\n  relationships.forEach(function (rel) {\r\n    drawRelationshipFromLayout(svg, rel, g, firstEntity);\r\n  });\r\n\r\n  const padding = conf.diagramPadding;\r\n\r\n  const svgBounds = svg.node().getBBox();\r\n  const width = svgBounds.width + padding * 2;\r\n  const height = svgBounds.height + padding * 2;\r\n\r\n  configureSvgSize(svg, height, width, conf.useMaxWidth);\r\n\r\n  svg.attr('viewBox', `${svgBounds.x - padding} ${svgBounds.y - padding} ${width} ${height}`);\r\n}; // draw\r\n\r\nexport default {\r\n  setConf,\r\n  draw,\r\n};\r\n","const getStyles = (options) =>\r\n  `\r\n  .entityBox {\r\n    fill: ${options.mainBkg};\r\n    stroke: ${options.nodeBorder};\r\n  }\r\n\r\n  .attributeBoxOdd {\r\n    fill: #ffffff;\r\n    stroke: ${options.nodeBorder};\r\n  }\r\n\r\n  .attributeBoxEven {\r\n    fill: #f2f2f2;\r\n    stroke: ${options.nodeBorder};\r\n  }\r\n\r\n  .relationshipLabelBox {\r\n    fill: ${options.tertiaryColor};\r\n    opacity: 0.7;\r\n    background-color: ${options.tertiaryColor};\r\n      rect {\r\n        opacity: 0.5;\r\n      }\r\n  }\r\n\r\n    .relationshipLine {\r\n      stroke: ${options.lineColor};\r\n    }\r\n`;\r\n\r\nexport default getStyles;\r\n","import dagreD3 from 'dagre-d3';\r\n\r\nfunction question(parent, bbox, node) {\r\n  const w = bbox.width;\r\n  const h = bbox.height;\r\n  const s = (w + h) * 0.9;\r\n  const points = [\r\n    { x: s / 2, y: 0 },\r\n    { x: s, y: -s / 2 },\r\n    { x: s / 2, y: -s },\r\n    { x: 0, y: -s / 2 },\r\n  ];\r\n  const shapeSvg = insertPolygonShape(parent, s, s, points);\r\n  node.intersect = function (point) {\r\n    return dagreD3.intersect.polygon(node, points, point);\r\n  };\r\n  return shapeSvg;\r\n}\r\n\r\nfunction hexagon(parent, bbox, node) {\r\n  const f = 4;\r\n  const h = bbox.height;\r\n  const m = h / f;\r\n  const w = bbox.width + 2 * m;\r\n  const points = [\r\n    { x: m, y: 0 },\r\n    { x: w - m, y: 0 },\r\n    { x: w, y: -h / 2 },\r\n    { x: w - m, y: -h },\r\n    { x: m, y: -h },\r\n    { x: 0, y: -h / 2 },\r\n  ];\r\n  const shapeSvg = insertPolygonShape(parent, w, h, points);\r\n  node.intersect = function (point) {\r\n    return dagreD3.intersect.polygon(node, points, point);\r\n  };\r\n  return shapeSvg;\r\n}\r\n\r\nfunction rect_left_inv_arrow(parent, bbox, node) {\r\n  const w = bbox.width;\r\n  const h = bbox.height;\r\n  const points = [\r\n    { x: -h / 2, y: 0 },\r\n    { x: w, y: 0 },\r\n    { x: w, y: -h },\r\n    { x: -h / 2, y: -h },\r\n    { x: 0, y: -h / 2 },\r\n  ];\r\n  const shapeSvg = insertPolygonShape(parent, w, h, points);\r\n  node.intersect = function (point) {\r\n    return dagreD3.intersect.polygon(node, points, point);\r\n  };\r\n  return shapeSvg;\r\n}\r\n\r\nfunction lean_right(parent, bbox, node) {\r\n  const w = bbox.width;\r\n  const h = bbox.height;\r\n  const points = [\r\n    { x: (-2 * h) / 6, y: 0 },\r\n    { x: w - h / 6, y: 0 },\r\n    { x: w + (2 * h) / 6, y: -h },\r\n    { x: h / 6, y: -h },\r\n  ];\r\n  const shapeSvg = insertPolygonShape(parent, w, h, points);\r\n  node.intersect = function (point) {\r\n    return dagreD3.intersect.polygon(node, points, point);\r\n  };\r\n  return shapeSvg;\r\n}\r\n\r\nfunction lean_left(parent, bbox, node) {\r\n  const w = bbox.width;\r\n  const h = bbox.height;\r\n  const points = [\r\n    { x: (2 * h) / 6, y: 0 },\r\n    { x: w + h / 6, y: 0 },\r\n    { x: w - (2 * h) / 6, y: -h },\r\n    { x: -h / 6, y: -h },\r\n  ];\r\n  const shapeSvg = insertPolygonShape(parent, w, h, points);\r\n  node.intersect = function (point) {\r\n    return dagreD3.intersect.polygon(node, points, point);\r\n  };\r\n  return shapeSvg;\r\n}\r\n\r\nfunction trapezoid(parent, bbox, node) {\r\n  const w = bbox.width;\r\n  const h = bbox.height;\r\n  const points = [\r\n    { x: (-2 * h) / 6, y: 0 },\r\n    { x: w + (2 * h) / 6, y: 0 },\r\n    { x: w - h / 6, y: -h },\r\n    { x: h / 6, y: -h },\r\n  ];\r\n  const shapeSvg = insertPolygonShape(parent, w, h, points);\r\n  node.intersect = function (point) {\r\n    return dagreD3.intersect.polygon(node, points, point);\r\n  };\r\n  return shapeSvg;\r\n}\r\n\r\nfunction inv_trapezoid(parent, bbox, node) {\r\n  const w = bbox.width;\r\n  const h = bbox.height;\r\n  const points = [\r\n    { x: h / 6, y: 0 },\r\n    { x: w - h / 6, y: 0 },\r\n    { x: w + (2 * h) / 6, y: -h },\r\n    { x: (-2 * h) / 6, y: -h },\r\n  ];\r\n  const shapeSvg = insertPolygonShape(parent, w, h, points);\r\n  node.intersect = function (point) {\r\n    return dagreD3.intersect.polygon(node, points, point);\r\n  };\r\n  return shapeSvg;\r\n}\r\n\r\nfunction rect_right_inv_arrow(parent, bbox, node) {\r\n  const w = bbox.width;\r\n  const h = bbox.height;\r\n  const points = [\r\n    { x: 0, y: 0 },\r\n    { x: w + h / 2, y: 0 },\r\n    { x: w, y: -h / 2 },\r\n    { x: w + h / 2, y: -h },\r\n    { x: 0, y: -h },\r\n  ];\r\n  const shapeSvg = insertPolygonShape(parent, w, h, points);\r\n  node.intersect = function (point) {\r\n    return dagreD3.intersect.polygon(node, points, point);\r\n  };\r\n  return shapeSvg;\r\n}\r\n\r\nfunction stadium(parent, bbox, node) {\r\n  const h = bbox.height;\r\n  const w = bbox.width + h / 4;\r\n\r\n  const shapeSvg = parent\r\n    .insert('rect', ':first-child')\r\n    .attr('rx', h / 2)\r\n    .attr('ry', h / 2)\r\n    .attr('x', -w / 2)\r\n    .attr('y', -h / 2)\r\n    .attr('width', w)\r\n    .attr('height', h);\r\n\r\n  node.intersect = function (point) {\r\n    return dagreD3.intersect.rect(node, point);\r\n  };\r\n  return shapeSvg;\r\n}\r\n\r\nfunction subroutine(parent, bbox, node) {\r\n  const w = bbox.width;\r\n  const h = bbox.height;\r\n  const points = [\r\n    { x: 0, y: 0 },\r\n    { x: w, y: 0 },\r\n    { x: w, y: -h },\r\n    { x: 0, y: -h },\r\n    { x: 0, y: 0 },\r\n    { x: -8, y: 0 },\r\n    { x: w + 8, y: 0 },\r\n    { x: w + 8, y: -h },\r\n    { x: -8, y: -h },\r\n    { x: -8, y: 0 },\r\n  ];\r\n  const shapeSvg = insertPolygonShape(parent, w, h, points);\r\n  node.intersect = function (point) {\r\n    return dagreD3.intersect.polygon(node, points, point);\r\n  };\r\n  return shapeSvg;\r\n}\r\n\r\nfunction cylinder(parent, bbox, node) {\r\n  const w = bbox.width;\r\n  const rx = w / 2;\r\n  const ry = rx / (2.5 + w / 50);\r\n  const h = bbox.height + ry;\r\n\r\n  const shape =\r\n    'M 0,' +\r\n    ry +\r\n    ' a ' +\r\n    rx +\r\n    ',' +\r\n    ry +\r\n    ' 0,0,0 ' +\r\n    w +\r\n    ' 0 a ' +\r\n    rx +\r\n    ',' +\r\n    ry +\r\n    ' 0,0,0 ' +\r\n    -w +\r\n    ' 0 l 0,' +\r\n    h +\r\n    ' a ' +\r\n    rx +\r\n    ',' +\r\n    ry +\r\n    ' 0,0,0 ' +\r\n    w +\r\n    ' 0 l 0,' +\r\n    -h;\r\n\r\n  const shapeSvg = parent\r\n    .attr('label-offset-y', ry)\r\n    .insert('path', ':first-child')\r\n    .attr('d', shape)\r\n    .attr('transform', 'translate(' + -w / 2 + ',' + -(h / 2 + ry) + ')');\r\n\r\n  node.intersect = function (point) {\r\n    const pos = dagreD3.intersect.rect(node, point);\r\n    const x = pos.x - node.x;\r\n\r\n    if (\r\n      rx != 0 &&\r\n      (Math.abs(x) < node.width / 2 ||\r\n        (Math.abs(x) == node.width / 2 && Math.abs(pos.y - node.y) > node.height / 2 - ry))\r\n    ) {\r\n      // ellipsis equation: x*x / a*a + y*y / b*b = 1\r\n      // solve for y to get adjustion value for pos.y\r\n      let y = ry * ry * (1 - (x * x) / (rx * rx));\r\n      if (y != 0) y = Math.sqrt(y);\r\n      y = ry - y;\r\n      if (point.y - node.y > 0) y = -y;\r\n\r\n      pos.y += y;\r\n    }\r\n\r\n    return pos;\r\n  };\r\n\r\n  return shapeSvg;\r\n}\r\n\r\nexport function addToRender(render) {\r\n  render.shapes().question = question;\r\n  render.shapes().hexagon = hexagon;\r\n  render.shapes().stadium = stadium;\r\n  render.shapes().subroutine = subroutine;\r\n  render.shapes().cylinder = cylinder;\r\n\r\n  // Add custom shape for box with inverted arrow on left side\r\n  render.shapes().rect_left_inv_arrow = rect_left_inv_arrow;\r\n\r\n  // Add custom shape for box with inverted arrow on left side\r\n  render.shapes().lean_right = lean_right;\r\n\r\n  // Add custom shape for box with inverted arrow on left side\r\n  render.shapes().lean_left = lean_left;\r\n\r\n  // Add custom shape for box with inverted arrow on left side\r\n  render.shapes().trapezoid = trapezoid;\r\n\r\n  // Add custom shape for box with inverted arrow on left side\r\n  render.shapes().inv_trapezoid = inv_trapezoid;\r\n\r\n  // Add custom shape for box with inverted arrow on right side\r\n  render.shapes().rect_right_inv_arrow = rect_right_inv_arrow;\r\n}\r\n\r\nexport function addToRenderV2(addShape) {\r\n  addShape({ question });\r\n  addShape({ hexagon });\r\n  addShape({ stadium });\r\n  addShape({ subroutine });\r\n  addShape({ cylinder });\r\n\r\n  // Add custom shape for box with inverted arrow on left side\r\n  addShape({ rect_left_inv_arrow });\r\n\r\n  // Add custom shape for box with inverted arrow on left side\r\n  addShape({ lean_right });\r\n\r\n  // Add custom shape for box with inverted arrow on left side\r\n  addShape({ lean_left });\r\n\r\n  // Add custom shape for box with inverted arrow on left side\r\n  addShape({ trapezoid });\r\n\r\n  // Add custom shape for box with inverted arrow on left side\r\n  addShape({ inv_trapezoid });\r\n\r\n  // Add custom shape for box with inverted arrow on right side\r\n  addShape({ rect_right_inv_arrow });\r\n}\r\n\r\nfunction insertPolygonShape(parent, w, h, points) {\r\n  return parent\r\n    .insert('polygon', ':first-child')\r\n    .attr(\r\n      'points',\r\n      points\r\n        .map(function (d) {\r\n          return d.x + ',' + d.y;\r\n        })\r\n        .join(' ')\r\n    )\r\n    .attr('transform', 'translate(' + -w / 2 + ',' + h / 2 + ')');\r\n}\r\n\r\nexport default {\r\n  addToRender,\r\n  addToRenderV2,\r\n};\r\n","import { select } from 'd3';\r\nimport utils from '../../utils';\r\nimport * as configApi from '../../config';\r\nimport common from '../common/common';\r\nimport mermaidAPI from '../../mermaidAPI';\r\nimport { log } from '../../logger';\r\n\r\nconst MERMAID_DOM_ID_PREFIX = 'flowchart-';\r\nlet vertexCounter = 0;\r\nlet config = configApi.getConfig();\r\nlet vertices = {};\r\nlet edges = [];\r\nlet classes = [];\r\nlet subGraphs = [];\r\nlet subGraphLookup = {};\r\nlet tooltips = {};\r\nlet subCount = 0;\r\nlet firstGraphFlag = true;\r\nlet direction;\r\n\r\nlet version; // As in graph\r\n\r\n// Functions to be run after graph rendering\r\nlet funs = [];\r\n\r\nexport const parseDirective = function (statement, context, type) {\r\n  mermaidAPI.parseDirective(this, statement, context, type);\r\n};\r\n\r\n/**\r\n * Function to lookup domId from id in the graph definition.\r\n * @param id\r\n * @public\r\n */\r\nexport const lookUpDomId = function (id) {\r\n  const veritceKeys = Object.keys(vertices);\r\n  for (let i = 0; i < veritceKeys.length; i++) {\r\n    if (vertices[veritceKeys[i]].id === id) {\r\n      return vertices[veritceKeys[i]].domId;\r\n    }\r\n  }\r\n  return id;\r\n};\r\n\r\n/**\r\n * Function called by parser when a node definition has been found\r\n * @param id\r\n * @param text\r\n * @param type\r\n * @param style\r\n * @param classes\r\n */\r\nexport const addVertex = function (_id, text, type, style, classes, dir) {\r\n  let txt;\r\n  let id = _id;\r\n  if (typeof id === 'undefined') {\r\n    return;\r\n  }\r\n  if (id.trim().length === 0) {\r\n    return;\r\n  }\r\n\r\n  // if (id[0].match(/\\d/)) id = MERMAID_DOM_ID_PREFIX + id;\r\n\r\n  if (typeof vertices[id] === 'undefined') {\r\n    vertices[id] = {\r\n      id: id,\r\n      domId: MERMAID_DOM_ID_PREFIX + id + '-' + vertexCounter,\r\n      styles: [],\r\n      classes: [],\r\n    };\r\n  }\r\n  vertexCounter++;\r\n  if (typeof text !== 'undefined') {\r\n    config = configApi.getConfig();\r\n    txt = common.sanitizeText(text.trim(), config);\r\n\r\n    // strip quotes if string starts and ends with a quote\r\n    if (txt[0] === '\"' && txt[txt.length - 1] === '\"') {\r\n      txt = txt.substring(1, txt.length - 1);\r\n    }\r\n\r\n    vertices[id].text = txt;\r\n  } else {\r\n    if (typeof vertices[id].text === 'undefined') {\r\n      vertices[id].text = _id;\r\n    }\r\n  }\r\n  if (typeof type !== 'undefined') {\r\n    vertices[id].type = type;\r\n  }\r\n  if (typeof style !== 'undefined') {\r\n    if (style !== null) {\r\n      style.forEach(function (s) {\r\n        vertices[id].styles.push(s);\r\n      });\r\n    }\r\n  }\r\n  if (typeof classes !== 'undefined') {\r\n    if (classes !== null) {\r\n      classes.forEach(function (s) {\r\n        vertices[id].classes.push(s);\r\n      });\r\n    }\r\n  }\r\n  if (typeof dir !== 'undefined') {\r\n    vertices[id].dir = dir;\r\n  }\r\n};\r\n\r\n/**\r\n * Function called by parser when a link/edge definition has been found\r\n * @param start\r\n * @param end\r\n * @param type\r\n * @param linktext\r\n */\r\nexport const addSingleLink = function (_start, _end, type, linktext) {\r\n  let start = _start;\r\n  let end = _end;\r\n  // if (start[0].match(/\\d/)) start = MERMAID_DOM_ID_PREFIX + start;\r\n  // if (end[0].match(/\\d/)) end = MERMAID_DOM_ID_PREFIX + end;\r\n  // log.info('Got edge...', start, end);\r\n\r\n  const edge = { start: start, end: end, type: undefined, text: '' };\r\n  linktext = type.text;\r\n\r\n  if (typeof linktext !== 'undefined') {\r\n    edge.text = common.sanitizeText(linktext.trim(), config);\r\n\r\n    // strip quotes if string starts and exnds with a quote\r\n    if (edge.text[0] === '\"' && edge.text[edge.text.length - 1] === '\"') {\r\n      edge.text = edge.text.substring(1, edge.text.length - 1);\r\n    }\r\n  }\r\n\r\n  if (typeof type !== 'undefined') {\r\n    edge.type = type.type;\r\n    edge.stroke = type.stroke;\r\n    edge.length = type.length;\r\n  }\r\n  edges.push(edge);\r\n};\r\nexport const addLink = function (_start, _end, type, linktext) {\r\n  let i, j;\r\n  for (i = 0; i < _start.length; i++) {\r\n    for (j = 0; j < _end.length; j++) {\r\n      addSingleLink(_start[i], _end[j], type, linktext);\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * Updates a link's line interpolation algorithm\r\n * @param pos\r\n * @param interpolate\r\n */\r\nexport const updateLinkInterpolate = function (positions, interp) {\r\n  positions.forEach(function (pos) {\r\n    if (pos === 'default') {\r\n      edges.defaultInterpolate = interp;\r\n    } else {\r\n      edges[pos].interpolate = interp;\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Updates a link with a style\r\n * @param pos\r\n * @param style\r\n */\r\nexport const updateLink = function (positions, style) {\r\n  positions.forEach(function (pos) {\r\n    if (pos === 'default') {\r\n      edges.defaultStyle = style;\r\n    } else {\r\n      if (utils.isSubstringInArray('fill', style) === -1) {\r\n        style.push('fill:none');\r\n      }\r\n      edges[pos].style = style;\r\n    }\r\n  });\r\n};\r\n\r\nexport const addClass = function (id, style) {\r\n  if (typeof classes[id] === 'undefined') {\r\n    classes[id] = { id: id, styles: [], textStyles: [] };\r\n  }\r\n\r\n  if (typeof style !== 'undefined') {\r\n    if (style !== null) {\r\n      style.forEach(function (s) {\r\n        if (s.match('color')) {\r\n          const newStyle1 = s.replace('fill', 'bgFill');\r\n          const newStyle2 = newStyle1.replace('color', 'fill');\r\n          classes[id].textStyles.push(newStyle2);\r\n        }\r\n        classes[id].styles.push(s);\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * Called by parser when a graph definition is found, stores the direction of the chart.\r\n * @param dir\r\n */\r\nexport const setDirection = function (dir) {\r\n  direction = dir;\r\n  if (direction.match(/.*</)) {\r\n    direction = 'RL';\r\n  }\r\n  if (direction.match(/.*\\^/)) {\r\n    direction = 'BT';\r\n  }\r\n  if (direction.match(/.*>/)) {\r\n    direction = 'LR';\r\n  }\r\n  if (direction.match(/.*v/)) {\r\n    direction = 'TB';\r\n  }\r\n};\r\n\r\n/**\r\n * Called by parser when a special node is found, e.g. a clickable element.\r\n * @param ids Comma separated list of ids\r\n * @param className Class to add\r\n */\r\nexport const setClass = function (ids, className) {\r\n  ids.split(',').forEach(function (_id) {\r\n    // let id = version === 'gen-2' ? lookUpDomId(_id) : _id;\r\n    let id = _id;\r\n    // if (_id[0].match(/\\d/)) id = MERMAID_DOM_ID_PREFIX + id;\r\n    if (typeof vertices[id] !== 'undefined') {\r\n      vertices[id].classes.push(className);\r\n    }\r\n\r\n    if (typeof subGraphLookup[id] !== 'undefined') {\r\n      subGraphLookup[id].classes.push(className);\r\n    }\r\n  });\r\n};\r\n\r\nconst setTooltip = function (ids, tooltip) {\r\n  ids.split(',').forEach(function (id) {\r\n    if (typeof tooltip !== 'undefined') {\r\n      tooltips[version === 'gen-1' ? lookUpDomId(id) : id] = common.sanitizeText(tooltip, config);\r\n    }\r\n  });\r\n};\r\n\r\nconst setClickFun = function (id, functionName, functionArgs) {\r\n  let domId = lookUpDomId(id);\r\n  // if (_id[0].match(/\\d/)) id = MERMAID_DOM_ID_PREFIX + id;\r\n  if (configApi.getConfig().securityLevel !== 'loose') {\r\n    return;\r\n  }\r\n  if (typeof functionName === 'undefined') {\r\n    return;\r\n  }\r\n  let argList = [];\r\n  if (typeof functionArgs === 'string') {\r\n    /* Splits functionArgs by ',', ignoring all ',' in double quoted strings */\r\n    argList = functionArgs.split(/,(?=(?:(?:[^\"]*\"){2})*[^\"]*$)/);\r\n    for (let i = 0; i < argList.length; i++) {\r\n      let item = argList[i].trim();\r\n      /* Removes all double quotes at the start and end of an argument */\r\n      /* This preserves all starting and ending whitespace inside */\r\n      if (item.charAt(0) === '\"' && item.charAt(item.length - 1) === '\"') {\r\n        item = item.substr(1, item.length - 2);\r\n      }\r\n      argList[i] = item;\r\n    }\r\n  }\r\n\r\n  /* if no arguments passed into callback, default to passing in id */\r\n  if (argList.length === 0) {\r\n    argList.push(id);\r\n  }\r\n\r\n  if (typeof vertices[id] !== 'undefined') {\r\n    vertices[id].haveCallback = true;\r\n    funs.push(function () {\r\n      const elem = document.querySelector(`[id=\"${domId}\"]`);\r\n      if (elem !== null) {\r\n        elem.addEventListener(\r\n          'click',\r\n          function () {\r\n            utils.runFunc(functionName, ...argList);\r\n          },\r\n          false\r\n        );\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * Called by parser when a link is found. Adds the URL to the vertex data.\r\n * @param ids Comma separated list of ids\r\n * @param linkStr URL to create a link for\r\n */\r\nexport const setLink = function (ids, linkStr, target) {\r\n  ids.split(',').forEach(function (id) {\r\n    if (typeof vertices[id] !== 'undefined') {\r\n      vertices[id].link = utils.formatUrl(linkStr, config);\r\n      vertices[id].linkTarget = target;\r\n    }\r\n  });\r\n  setClass(ids, 'clickable');\r\n};\r\nexport const getTooltip = function (id) {\r\n  return tooltips[id];\r\n};\r\n\r\n/**\r\n * Called by parser when a click definition is found. Registers an event handler.\r\n * @param ids Comma separated list of ids\r\n * @param functionName Function to be called on click\r\n * @param tooltip Tooltip for the clickable element\r\n */\r\nexport const setClickEvent = function (ids, functionName, functionArgs) {\r\n  ids.split(',').forEach(function (id) {\r\n    setClickFun(id, functionName, functionArgs);\r\n  });\r\n  setClass(ids, 'clickable');\r\n};\r\n\r\nexport const bindFunctions = function (element) {\r\n  funs.forEach(function (fun) {\r\n    fun(element);\r\n  });\r\n};\r\nexport const getDirection = function () {\r\n  return direction.trim();\r\n};\r\n/**\r\n * Retrieval function for fetching the found nodes after parsing has completed.\r\n * @returns {{}|*|vertices}\r\n */\r\nexport const getVertices = function () {\r\n  return vertices;\r\n};\r\n\r\n/**\r\n * Retrieval function for fetching the found links after parsing has completed.\r\n * @returns {{}|*|edges}\r\n */\r\nexport const getEdges = function () {\r\n  return edges;\r\n};\r\n\r\n/**\r\n * Retrieval function for fetching the found class definitions after parsing has completed.\r\n * @returns {{}|*|classes}\r\n */\r\nexport const getClasses = function () {\r\n  return classes;\r\n};\r\n\r\nconst setupToolTips = function (element) {\r\n  let tooltipElem = select('.mermaidTooltip');\r\n  if ((tooltipElem._groups || tooltipElem)[0][0] === null) {\r\n    tooltipElem = select('body').append('div').attr('class', 'mermaidTooltip').style('opacity', 0);\r\n  }\r\n\r\n  const svg = select(element).select('svg');\r\n\r\n  const nodes = svg.selectAll('g.node');\r\n  nodes\r\n    .on('mouseover', function () {\r\n      const el = select(this);\r\n      const title = el.attr('title');\r\n\r\n      // Dont try to draw a tooltip if no data is provided\r\n      if (title === null) {\r\n        return;\r\n      }\r\n      const rect = this.getBoundingClientRect();\r\n\r\n      tooltipElem.transition().duration(200).style('opacity', '.9');\r\n      tooltipElem\r\n        .html(el.attr('title'))\r\n        .style('left', window.scrollX + rect.left + (rect.right - rect.left) / 2 + 'px')\r\n        .style('top', window.scrollY + rect.top - 14 + document.body.scrollTop + 'px');\r\n      el.classed('hover', true);\r\n    })\r\n    .on('mouseout', function () {\r\n      tooltipElem.transition().duration(500).style('opacity', 0);\r\n      const el = select(this);\r\n      el.classed('hover', false);\r\n    });\r\n};\r\nfuns.push(setupToolTips);\r\n\r\n/**\r\n * Clears the internal graph db so that a new graph can be parsed.\r\n */\r\nexport const clear = function (ver) {\r\n  vertices = {};\r\n  classes = {};\r\n  edges = [];\r\n  funs = [];\r\n  funs.push(setupToolTips);\r\n  subGraphs = [];\r\n  subGraphLookup = {};\r\n  subCount = 0;\r\n  tooltips = [];\r\n  firstGraphFlag = true;\r\n  version = ver || 'gen-1';\r\n};\r\nexport const setGen = (ver) => {\r\n  version = ver || 'gen-1';\r\n};\r\n/**\r\n *\r\n * @returns {string}\r\n */\r\nexport const defaultStyle = function () {\r\n  return 'fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;';\r\n};\r\n\r\n/**\r\n * Clears the internal graph db so that a new graph can be parsed.\r\n */\r\nexport const addSubGraph = function (_id, list, _title) {\r\n  // console.log('addSubGraph', _id, list, _title);\r\n  let id = _id.trim();\r\n  let title = _title;\r\n  if (_id === _title && _title.match(/\\s/)) {\r\n    id = undefined;\r\n  }\r\n  function uniq(a) {\r\n    const prims = { boolean: {}, number: {}, string: {} };\r\n    const objs = [];\r\n\r\n    let dir; //  = unbdefined; direction.trim();\r\n    const nodeList = a.filter(function (item) {\r\n      const type = typeof item;\r\n      if (item.stmt && item.stmt === 'dir') {\r\n        dir = item.value;\r\n        return false;\r\n      }\r\n      if (item.trim() === '') {\r\n        return false;\r\n      }\r\n      if (type in prims) {\r\n        return prims[type].hasOwnProperty(item) ? false : (prims[type][item] = true); // eslint-disable-line\r\n      } else {\r\n        return objs.indexOf(item) >= 0 ? false : objs.push(item);\r\n      }\r\n    });\r\n    return { nodeList, dir };\r\n  }\r\n\r\n  let nodeList = [];\r\n\r\n  const { nodeList: nl, dir } = uniq(nodeList.concat.apply(nodeList, list));\r\n  nodeList = nl;\r\n  if (version === 'gen-1') {\r\n    log.warn('LOOKING UP');\r\n    for (let i = 0; i < nodeList.length; i++) {\r\n      nodeList[i] = lookUpDomId(nodeList[i]);\r\n    }\r\n  }\r\n\r\n  id = id || 'subGraph' + subCount;\r\n  // if (id[0].match(/\\d/)) id = lookUpDomId(id);\r\n  title = title || '';\r\n  title = common.sanitizeText(title, config);\r\n  subCount = subCount + 1;\r\n  const subGraph = { id: id, nodes: nodeList, title: title.trim(), classes: [], dir };\r\n\r\n  log.info('Adding', subGraph.id, subGraph.nodes, subGraph.dir);\r\n\r\n  /**\r\n   * Deletes an id from all subgraphs\r\n   */\r\n  // const del = _id => {\r\n  //   subGraphs.forEach(sg => {\r\n  //     const pos = sg.nodes.indexOf(_id);\r\n  //     if (pos >= 0) {\r\n  //       sg.nodes.splice(pos, 1);\r\n  //     }\r\n  //   });\r\n  // };\r\n\r\n  // // Removes the members of this subgraph from any other subgraphs, a node only belong to one subgraph\r\n  // subGraph.nodes.forEach(_id => del(_id));\r\n\r\n  // Remove the members in the new subgraph if they already belong to another subgraph\r\n  subGraph.nodes = makeUniq(subGraph, subGraphs).nodes;\r\n  subGraphs.push(subGraph);\r\n  subGraphLookup[id] = subGraph;\r\n  return id;\r\n};\r\n\r\nconst getPosForId = function (id) {\r\n  for (let i = 0; i < subGraphs.length; i++) {\r\n    if (subGraphs[i].id === id) {\r\n      return i;\r\n    }\r\n  }\r\n  return -1;\r\n};\r\nlet secCount = -1;\r\nconst posCrossRef = [];\r\nconst indexNodes2 = function (id, pos) {\r\n  const nodes = subGraphs[pos].nodes;\r\n  secCount = secCount + 1;\r\n  if (secCount > 2000) {\r\n    return;\r\n  }\r\n  posCrossRef[secCount] = pos;\r\n  // Check if match\r\n  if (subGraphs[pos].id === id) {\r\n    return {\r\n      result: true,\r\n      count: 0,\r\n    };\r\n  }\r\n\r\n  let count = 0;\r\n  let posCount = 1;\r\n  while (count < nodes.length) {\r\n    const childPos = getPosForId(nodes[count]);\r\n    // Ignore regular nodes (pos will be -1)\r\n    if (childPos >= 0) {\r\n      const res = indexNodes2(id, childPos);\r\n      if (res.result) {\r\n        return {\r\n          result: true,\r\n          count: posCount + res.count,\r\n        };\r\n      } else {\r\n        posCount = posCount + res.count;\r\n      }\r\n    }\r\n    count = count + 1;\r\n  }\r\n\r\n  return {\r\n    result: false,\r\n    count: posCount,\r\n  };\r\n};\r\n\r\nexport const getDepthFirstPos = function (pos) {\r\n  return posCrossRef[pos];\r\n};\r\nexport const indexNodes = function () {\r\n  secCount = -1;\r\n  if (subGraphs.length > 0) {\r\n    indexNodes2('none', subGraphs.length - 1, 0);\r\n  }\r\n};\r\n\r\nexport const getSubGraphs = function () {\r\n  return subGraphs;\r\n};\r\n\r\nexport const firstGraph = () => {\r\n  if (firstGraphFlag) {\r\n    firstGraphFlag = false;\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nconst destructStartLink = (_str) => {\r\n  let str = _str.trim();\r\n  let type = 'arrow_open';\r\n\r\n  switch (str[0]) {\r\n    case '<':\r\n      type = 'arrow_point';\r\n      str = str.slice(1);\r\n      break;\r\n    case 'x':\r\n      type = 'arrow_cross';\r\n      str = str.slice(1);\r\n      break;\r\n    case 'o':\r\n      type = 'arrow_circle';\r\n      str = str.slice(1);\r\n      break;\r\n  }\r\n\r\n  let stroke = 'normal';\r\n\r\n  if (str.indexOf('=') !== -1) {\r\n    stroke = 'thick';\r\n  }\r\n\r\n  if (str.indexOf('.') !== -1) {\r\n    stroke = 'dotted';\r\n  }\r\n\r\n  return { type, stroke };\r\n};\r\n\r\nconst countChar = (char, str) => {\r\n  const length = str.length;\r\n  let count = 0;\r\n  for (let i = 0; i < length; ++i) {\r\n    if (str[i] === char) {\r\n      ++count;\r\n    }\r\n  }\r\n  return count;\r\n};\r\n\r\nconst destructEndLink = (_str) => {\r\n  const str = _str.trim();\r\n  let line = str.slice(0, -1);\r\n  let type = 'arrow_open';\r\n\r\n  switch (str.slice(-1)) {\r\n    case 'x':\r\n      type = 'arrow_cross';\r\n      if (str[0] === 'x') {\r\n        type = 'double_' + type;\r\n        line = line.slice(1);\r\n      }\r\n      break;\r\n    case '>':\r\n      type = 'arrow_point';\r\n      if (str[0] === '<') {\r\n        type = 'double_' + type;\r\n        line = line.slice(1);\r\n      }\r\n      break;\r\n    case 'o':\r\n      type = 'arrow_circle';\r\n      if (str[0] === 'o') {\r\n        type = 'double_' + type;\r\n        line = line.slice(1);\r\n      }\r\n      break;\r\n  }\r\n\r\n  let stroke = 'normal';\r\n  let length = line.length - 1;\r\n\r\n  if (line[0] === '=') {\r\n    stroke = 'thick';\r\n  }\r\n\r\n  let dots = countChar('.', line);\r\n\r\n  if (dots) {\r\n    stroke = 'dotted';\r\n    length = dots;\r\n  }\r\n\r\n  return { type, stroke, length };\r\n};\r\n\r\nconst destructLink = (_str, _startStr) => {\r\n  const info = destructEndLink(_str);\r\n  let startInfo;\r\n  if (_startStr) {\r\n    startInfo = destructStartLink(_startStr);\r\n\r\n    if (startInfo.stroke !== info.stroke) {\r\n      return { type: 'INVALID', stroke: 'INVALID' };\r\n    }\r\n\r\n    if (startInfo.type === 'arrow_open') {\r\n      // -- xyz -->  - take arrow type from ending\r\n      startInfo.type = info.type;\r\n    } else {\r\n      // x-- xyz -->  - not supported\r\n      if (startInfo.type !== info.type) return { type: 'INVALID', stroke: 'INVALID' };\r\n\r\n      startInfo.type = 'double_' + startInfo.type;\r\n    }\r\n\r\n    if (startInfo.type === 'double_arrow') {\r\n      startInfo.type = 'double_arrow_point';\r\n    }\r\n\r\n    startInfo.length = info.length;\r\n    return startInfo;\r\n  }\r\n\r\n  return info;\r\n};\r\n\r\n// Todo optimizer this by caching existing nodes\r\nconst exists = (allSgs, _id) => {\r\n  let res = false;\r\n  allSgs.forEach((sg) => {\r\n    const pos = sg.nodes.indexOf(_id);\r\n    if (pos >= 0) {\r\n      res = true;\r\n    }\r\n  });\r\n  return res;\r\n};\r\n/**\r\n * Deletes an id from all subgraphs\r\n */\r\nconst makeUniq = (sg, allSubgraphs) => {\r\n  const res = [];\r\n  sg.nodes.forEach((_id, pos) => {\r\n    if (!exists(allSubgraphs, _id)) {\r\n      res.push(sg.nodes[pos]);\r\n    }\r\n  });\r\n  return { nodes: res };\r\n};\r\n\r\nexport default {\r\n  parseDirective,\r\n  defaultConfig: () => configApi.defaultConfig.flowchart,\r\n  addVertex,\r\n  lookUpDomId,\r\n  addLink,\r\n  updateLinkInterpolate,\r\n  updateLink,\r\n  addClass,\r\n  setDirection,\r\n  setClass,\r\n  setTooltip,\r\n  getTooltip,\r\n  setClickEvent,\r\n  setLink,\r\n  bindFunctions,\r\n  getDirection,\r\n  getVertices,\r\n  getEdges,\r\n  getClasses,\r\n  clear,\r\n  setGen,\r\n  defaultStyle,\r\n  addSubGraph,\r\n  getDepthFirstPos,\r\n  indexNodes,\r\n  getSubGraphs,\r\n  destructLink,\r\n  lex: {\r\n    firstGraph,\r\n  },\r\n  exists,\r\n  makeUniq,\r\n};\r\n","import graphlib from 'graphlib';\r\nimport { select, curveLinear, selectAll } from 'd3';\r\n\r\nimport flowDb from './flowDb';\r\nimport flow from './parser/flow';\r\nimport { getConfig } from '../../config';\r\n\r\nimport { render } from '../../dagre-wrapper/index.js';\r\nimport addHtmlLabel from 'dagre-d3/lib/label/add-html-label.js';\r\nimport { log } from '../../logger';\r\nimport common, { evaluate } from '../common/common';\r\nimport { interpolateToCurve, getStylesFromArray, configureSvgSize } from '../../utils';\r\n\r\nconst conf = {};\r\nexport const setConf = function (cnf) {\r\n  const keys = Object.keys(cnf);\r\n  for (let i = 0; i < keys.length; i++) {\r\n    conf[keys[i]] = cnf[keys[i]];\r\n  }\r\n};\r\n\r\n/**\r\n * Function that adds the vertices found during parsing to the graph to be rendered.\r\n * @param vert Object containing the vertices.\r\n * @param g The graph that is to be drawn.\r\n */\r\nexport const addVertices = function (vert, g, svgId) {\r\n  const svg = select(`[id=\"${svgId}\"]`);\r\n  const keys = Object.keys(vert);\r\n\r\n  // Iterate through each item in the vertex object (containing all the vertices found) in the graph definition\r\n  keys.forEach(function (id) {\r\n    const vertex = vert[id];\r\n\r\n    /**\r\n     * Variable for storing the classes for the vertex\r\n     * @type {string}\r\n     */\r\n    let classStr = 'default';\r\n    if (vertex.classes.length > 0) {\r\n      classStr = vertex.classes.join(' ');\r\n    }\r\n\r\n    const styles = getStylesFromArray(vertex.styles);\r\n\r\n    // Use vertex id as text in the box if no text is provided by the graph definition\r\n    let vertexText = vertex.text !== undefined ? vertex.text : vertex.id;\r\n\r\n    // We create a SVG label, either by delegating to addHtmlLabel or manually\r\n    let vertexNode;\r\n    if (evaluate(getConfig().flowchart.htmlLabels)) {\r\n      // TODO: addHtmlLabel accepts a labelStyle. Do we possibly have that?\r\n      const node = {\r\n        label: vertexText.replace(\r\n          /fa[lrsb]?:fa-[\\w-]+/g,\r\n          (s) => `<i class='${s.replace(':', ' ')}'></i>`\r\n        ),\r\n      };\r\n      vertexNode = addHtmlLabel(svg, node).node();\r\n      vertexNode.parentNode.removeChild(vertexNode);\r\n    } else {\r\n      const svgLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');\r\n      svgLabel.setAttribute('style', styles.labelStyle.replace('color:', 'fill:'));\r\n\r\n      const rows = vertexText.split(common.lineBreakRegex);\r\n\r\n      for (let j = 0; j < rows.length; j++) {\r\n        const tspan = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');\r\n        tspan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n        tspan.setAttribute('dy', '1em');\r\n        tspan.setAttribute('x', '1');\r\n        tspan.textContent = rows[j];\r\n        svgLabel.appendChild(tspan);\r\n      }\r\n      vertexNode = svgLabel;\r\n    }\r\n\r\n    let radious = 0;\r\n    let _shape = '';\r\n    // Set the shape based parameters\r\n    switch (vertex.type) {\r\n      case 'round':\r\n        radious = 5;\r\n        _shape = 'rect';\r\n        break;\r\n      case 'square':\r\n        _shape = 'rect';\r\n        break;\r\n      case 'diamond':\r\n        _shape = 'question';\r\n        break;\r\n      case 'hexagon':\r\n        _shape = 'hexagon';\r\n        break;\r\n      case 'odd':\r\n        _shape = 'rect_left_inv_arrow';\r\n        break;\r\n      case 'lean_right':\r\n        _shape = 'lean_right';\r\n        break;\r\n      case 'lean_left':\r\n        _shape = 'lean_left';\r\n        break;\r\n      case 'trapezoid':\r\n        _shape = 'trapezoid';\r\n        break;\r\n      case 'inv_trapezoid':\r\n        _shape = 'inv_trapezoid';\r\n        break;\r\n      case 'odd_right':\r\n        _shape = 'rect_left_inv_arrow';\r\n        break;\r\n      case 'circle':\r\n        _shape = 'circle';\r\n        break;\r\n      case 'ellipse':\r\n        _shape = 'ellipse';\r\n        break;\r\n      case 'stadium':\r\n        _shape = 'stadium';\r\n        break;\r\n      case 'subroutine':\r\n        _shape = 'subroutine';\r\n        break;\r\n      case 'cylinder':\r\n        _shape = 'cylinder';\r\n        break;\r\n      case 'group':\r\n        _shape = 'rect';\r\n        break;\r\n      default:\r\n        _shape = 'rect';\r\n    }\r\n    // Add the node\r\n    g.setNode(vertex.id, {\r\n      labelStyle: styles.labelStyle,\r\n      shape: _shape,\r\n      labelText: vertexText,\r\n      rx: radious,\r\n      ry: radious,\r\n      class: classStr,\r\n      style: styles.style,\r\n      id: vertex.id,\r\n      link: vertex.link,\r\n      linkTarget: vertex.linkTarget,\r\n      tooltip: flowDb.getTooltip(vertex.id) || '',\r\n      domId: flowDb.lookUpDomId(vertex.id),\r\n      haveCallback: vertex.haveCallback,\r\n      width: vertex.type === 'group' ? 500 : undefined,\r\n      dir: vertex.dir,\r\n      type: vertex.type,\r\n      padding: getConfig().flowchart.padding,\r\n    });\r\n\r\n    log.info('setNode', {\r\n      labelStyle: styles.labelStyle,\r\n      shape: _shape,\r\n      labelText: vertexText,\r\n      rx: radious,\r\n      ry: radious,\r\n      class: classStr,\r\n      style: styles.style,\r\n      id: vertex.id,\r\n      domId: flowDb.lookUpDomId(vertex.id),\r\n      width: vertex.type === 'group' ? 500 : undefined,\r\n      type: vertex.type,\r\n      dir: vertex.dir,\r\n      padding: getConfig().flowchart.padding,\r\n    });\r\n  });\r\n};\r\n\r\n/**\r\n * Add edges to graph based on parsed graph defninition\r\n * @param {Object} edges The edges to add to the graph\r\n * @param {Object} g The graph object\r\n */\r\nexport const addEdges = function (edges, g) {\r\n  log.info('abc78 edges = ', edges);\r\n  let cnt = 0;\r\n  let linkIdCnt = {};\r\n\r\n  let defaultStyle;\r\n  let defaultLabelStyle;\r\n\r\n  if (typeof edges.defaultStyle !== 'undefined') {\r\n    const defaultStyles = getStylesFromArray(edges.defaultStyle);\r\n    defaultStyle = defaultStyles.style;\r\n    defaultLabelStyle = defaultStyles.labelStyle;\r\n  }\r\n\r\n  edges.forEach(function (edge) {\r\n    cnt++;\r\n\r\n    // Identify Link\r\n    var linkIdBase = 'L-' + edge.start + '-' + edge.end;\r\n    // count the links from+to the same node to give unique id\r\n    if (typeof linkIdCnt[linkIdBase] === 'undefined') {\r\n      linkIdCnt[linkIdBase] = 0;\r\n      log.info('abc78 new entry', linkIdBase, linkIdCnt[linkIdBase]);\r\n    } else {\r\n      linkIdCnt[linkIdBase]++;\r\n      log.info('abc78 new entry', linkIdBase, linkIdCnt[linkIdBase]);\r\n    }\r\n    let linkId = linkIdBase + '-' + linkIdCnt[linkIdBase];\r\n    log.info('abc78 new link id to be used is', linkIdBase, linkId, linkIdCnt[linkIdBase]);\r\n    var linkNameStart = 'LS-' + edge.start;\r\n    var linkNameEnd = 'LE-' + edge.end;\r\n\r\n    const edgeData = { style: '', labelStyle: '' };\r\n    edgeData.minlen = edge.length || 1;\r\n    //edgeData.id = 'id' + cnt;\r\n\r\n    // Set link type for rendering\r\n    if (edge.type === 'arrow_open') {\r\n      edgeData.arrowhead = 'none';\r\n    } else {\r\n      edgeData.arrowhead = 'normal';\r\n    }\r\n\r\n    // Check of arrow types, placed here in order not to break old rendering\r\n    edgeData.arrowTypeStart = 'arrow_open';\r\n    edgeData.arrowTypeEnd = 'arrow_open';\r\n\r\n    /* eslint-disable no-fallthrough */\r\n    switch (edge.type) {\r\n      case 'double_arrow_cross':\r\n        edgeData.arrowTypeStart = 'arrow_cross';\r\n      case 'arrow_cross':\r\n        edgeData.arrowTypeEnd = 'arrow_cross';\r\n        break;\r\n      case 'double_arrow_point':\r\n        edgeData.arrowTypeStart = 'arrow_point';\r\n      case 'arrow_point':\r\n        edgeData.arrowTypeEnd = 'arrow_point';\r\n        break;\r\n      case 'double_arrow_circle':\r\n        edgeData.arrowTypeStart = 'arrow_circle';\r\n      case 'arrow_circle':\r\n        edgeData.arrowTypeEnd = 'arrow_circle';\r\n        break;\r\n    }\r\n\r\n    let style = '';\r\n    let labelStyle = '';\r\n\r\n    switch (edge.stroke) {\r\n      case 'normal':\r\n        style = 'fill:none;';\r\n        if (typeof defaultStyle !== 'undefined') {\r\n          style = defaultStyle;\r\n        }\r\n        if (typeof defaultLabelStyle !== 'undefined') {\r\n          labelStyle = defaultLabelStyle;\r\n        }\r\n        edgeData.thickness = 'normal';\r\n        edgeData.pattern = 'solid';\r\n        break;\r\n      case 'dotted':\r\n        edgeData.thickness = 'normal';\r\n        edgeData.pattern = 'dotted';\r\n        edgeData.style = 'fill:none;stroke-width:2px;stroke-dasharray:3;';\r\n        break;\r\n      case 'thick':\r\n        edgeData.thickness = 'thick';\r\n        edgeData.pattern = 'solid';\r\n        edgeData.style = 'stroke-width: 3.5px;fill:none;';\r\n        break;\r\n    }\r\n    if (typeof edge.style !== 'undefined') {\r\n      const styles = getStylesFromArray(edge.style);\r\n      style = styles.style;\r\n      labelStyle = styles.labelStyle;\r\n    }\r\n\r\n    edgeData.style = edgeData.style += style;\r\n    edgeData.labelStyle = edgeData.labelStyle += labelStyle;\r\n\r\n    if (typeof edge.interpolate !== 'undefined') {\r\n      edgeData.curve = interpolateToCurve(edge.interpolate, curveLinear);\r\n    } else if (typeof edges.defaultInterpolate !== 'undefined') {\r\n      edgeData.curve = interpolateToCurve(edges.defaultInterpolate, curveLinear);\r\n    } else {\r\n      edgeData.curve = interpolateToCurve(conf.curve, curveLinear);\r\n    }\r\n\r\n    if (typeof edge.text === 'undefined') {\r\n      if (typeof edge.style !== 'undefined') {\r\n        edgeData.arrowheadStyle = 'fill: #333';\r\n      }\r\n    } else {\r\n      edgeData.arrowheadStyle = 'fill: #333';\r\n      edgeData.labelpos = 'c';\r\n    }\r\n    // if (evaluate(getConfig().flowchart.htmlLabels) && false) {\r\n    //   // eslint-disable-line\r\n    //   edgeData.labelType = 'html';\r\n    //   edgeData.label = `<span id=\"L-${linkId}\" class=\"edgeLabel L-${linkNameStart}' L-${linkNameEnd}\">${edge.text}</span>`;\r\n    // } else {\r\n    edgeData.labelType = 'text';\r\n    edgeData.label = edge.text.replace(common.lineBreakRegex, '\\n');\r\n\r\n    if (typeof edge.style === 'undefined') {\r\n      edgeData.style = edgeData.style || 'stroke: #333; stroke-width: 1.5px;fill:none;';\r\n    }\r\n\r\n    edgeData.labelStyle = edgeData.labelStyle.replace('color:', 'fill:');\r\n    // }\r\n\r\n    edgeData.id = linkId;\r\n    edgeData.classes = 'flowchart-link ' + linkNameStart + ' ' + linkNameEnd;\r\n\r\n    // Add the edge to the graph\r\n    g.setEdge(edge.start, edge.end, edgeData, cnt);\r\n  });\r\n};\r\n\r\n/**\r\n * Returns the all the styles from classDef statements in the graph definition.\r\n * @returns {object} classDef styles\r\n */\r\nexport const getClasses = function (text) {\r\n  log.info('Extracting classes');\r\n  flowDb.clear();\r\n  const parser = flow.parser;\r\n  parser.yy = flowDb;\r\n\r\n  try {\r\n    // Parse the graph definition\r\n    parser.parse(text);\r\n  } catch (e) {\r\n    return;\r\n  }\r\n\r\n  return flowDb.getClasses();\r\n};\r\n\r\n/**\r\n * Draws a flowchart in the tag with id: id based on the graph definition in text.\r\n * @param text\r\n * @param id\r\n */\r\n\r\nexport const draw = function (text, id) {\r\n  log.info('Drawing flowchart');\r\n  flowDb.clear();\r\n  flowDb.setGen('gen-2');\r\n  const parser = flow.parser;\r\n  parser.yy = flowDb;\r\n\r\n  // Parse the graph definition\r\n  // try {\r\n  parser.parse(text);\r\n  // } catch (err) {\r\n  // log.debug('Parsing failed');\r\n  // }\r\n\r\n  // Fetch the default direction, use TD if none was found\r\n  let dir = flowDb.getDirection();\r\n  if (typeof dir === 'undefined') {\r\n    dir = 'TD';\r\n  }\r\n\r\n  const conf = getConfig().flowchart;\r\n  const nodeSpacing = conf.nodeSpacing || 50;\r\n  const rankSpacing = conf.rankSpacing || 50;\r\n\r\n  // Create the input mermaid.graph\r\n  const g = new graphlib.Graph({\r\n    multigraph: true,\r\n    compound: true,\r\n  })\r\n    .setGraph({\r\n      rankdir: dir,\r\n      nodesep: nodeSpacing,\r\n      ranksep: rankSpacing,\r\n      marginx: 8,\r\n      marginy: 8,\r\n    })\r\n    .setDefaultEdgeLabel(function () {\r\n      return {};\r\n    });\r\n\r\n  let subG;\r\n  const subGraphs = flowDb.getSubGraphs();\r\n  log.info('Subgraphs - ', subGraphs);\r\n  for (let i = subGraphs.length - 1; i >= 0; i--) {\r\n    subG = subGraphs[i];\r\n    log.info('Subgraph - ', subG);\r\n    flowDb.addVertex(subG.id, subG.title, 'group', undefined, subG.classes, subG.dir);\r\n  }\r\n\r\n  // Fetch the verices/nodes and edges/links from the parsed graph definition\r\n  const vert = flowDb.getVertices();\r\n\r\n  const edges = flowDb.getEdges();\r\n\r\n  log.info(edges);\r\n  let i = 0;\r\n  for (i = subGraphs.length - 1; i >= 0; i--) {\r\n    // for (let i = 0; i < subGraphs.length; i++) {\r\n    subG = subGraphs[i];\r\n\r\n    selectAll('cluster').append('text');\r\n\r\n    for (let j = 0; j < subG.nodes.length; j++) {\r\n      log.info('Setting up subgraphs', subG.nodes[j], subG.id);\r\n      g.setParent(subG.nodes[j], subG.id);\r\n    }\r\n  }\r\n  addVertices(vert, g, id);\r\n  addEdges(edges, g);\r\n\r\n  // Add custom shapes\r\n  // flowChartShapes.addToRenderV2(addShape);\r\n\r\n  // Set up an SVG group so that we can translate the final graph.\r\n  const svg = select(`[id=\"${id}\"]`);\r\n  svg.attr('xmlns:xlink', 'http://www.w3.org/1999/xlink');\r\n\r\n  // Run the renderer. This is what draws the final graph.\r\n  const element = select('#' + id + ' g');\r\n  render(element, g, ['point', 'circle', 'cross'], 'flowchart', id);\r\n\r\n  const padding = conf.diagramPadding;\r\n  const svgBounds = svg.node().getBBox();\r\n  const width = svgBounds.width + padding * 2;\r\n  const height = svgBounds.height + padding * 2;\r\n  log.debug(\r\n    `new ViewBox 0 0 ${width} ${height}`,\r\n    `translate(${padding - g._label.marginx}, ${padding - g._label.marginy})`\r\n  );\r\n\r\n  configureSvgSize(svg, height, width, conf.useMaxWidth);\r\n\r\n  svg.attr('viewBox', `0 0 ${width} ${height}`);\r\n  svg\r\n    .select('g')\r\n    .attr('transform', `translate(${padding - g._label.marginx}, ${padding - svgBounds.y})`);\r\n\r\n  // Index nodes\r\n  flowDb.indexNodes('subGraph' + i);\r\n\r\n  // Add label rects for non html labels\r\n  if (!conf.htmlLabels) {\r\n    const labels = document.querySelectorAll('[id=\"' + id + '\"] .edgeLabel .label');\r\n    for (let k = 0; k < labels.length; k++) {\r\n      const label = labels[k];\r\n\r\n      // Get dimensions of label\r\n      const dim = label.getBBox();\r\n\r\n      const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\r\n      rect.setAttribute('rx', 0);\r\n      rect.setAttribute('ry', 0);\r\n      rect.setAttribute('width', dim.width);\r\n      rect.setAttribute('height', dim.height);\r\n      // rect.setAttribute('style', 'fill:#e8e8e8;');\r\n\r\n      label.insertBefore(rect, label.firstChild);\r\n    }\r\n  }\r\n\r\n  // If node has a link, wrap it in an anchor SVG object.\r\n  const keys = Object.keys(vert);\r\n  keys.forEach(function (key) {\r\n    const vertex = vert[key];\r\n\r\n    if (vertex.link) {\r\n      const node = select('#' + id + ' [id=\"' + key + '\"]');\r\n      if (node) {\r\n        const link = document.createElementNS('http://www.w3.org/2000/svg', 'a');\r\n        link.setAttributeNS('http://www.w3.org/2000/svg', 'class', vertex.classes.join(' '));\r\n        link.setAttributeNS('http://www.w3.org/2000/svg', 'href', vertex.link);\r\n        link.setAttributeNS('http://www.w3.org/2000/svg', 'rel', 'noopener');\r\n        if (vertex.linkTarget) {\r\n          link.setAttributeNS('http://www.w3.org/2000/svg', 'target', vertex.linkTarget);\r\n        }\r\n\r\n        const linkNode = node.insert(function () {\r\n          return link;\r\n        }, ':first-child');\r\n\r\n        const shape = node.select('.label-container');\r\n        if (shape) {\r\n          linkNode.append(function () {\r\n            return shape.node();\r\n          });\r\n        }\r\n\r\n        const label = node.select('.label');\r\n        if (label) {\r\n          linkNode.append(function () {\r\n            return label.node();\r\n          });\r\n        }\r\n      }\r\n    }\r\n  });\r\n};\r\n\r\nexport default {\r\n  setConf,\r\n  addVertices,\r\n  addEdges,\r\n  getClasses,\r\n  draw,\r\n};\r\n","import graphlib from 'graphlib';\r\nimport { select, curveLinear, selectAll } from 'd3';\r\n\r\nimport flowDb from './flowDb';\r\nimport flow from './parser/flow';\r\nimport { getConfig } from '../../config';\r\n\r\nimport dagreD3 from 'dagre-d3';\r\nimport addHtmlLabel from 'dagre-d3/lib/label/add-html-label.js';\r\nimport { log } from '../../logger';\r\nimport common, { evaluate } from '../common/common';\r\nimport { interpolateToCurve, getStylesFromArray, configureSvgSize } from '../../utils';\r\nimport flowChartShapes from './flowChartShapes';\r\n\r\nconst conf = {};\r\nexport const setConf = function (cnf) {\r\n  const keys = Object.keys(cnf);\r\n  for (let i = 0; i < keys.length; i++) {\r\n    conf[keys[i]] = cnf[keys[i]];\r\n  }\r\n};\r\n\r\n/**\r\n * Function that adds the vertices found in the graph definition to the graph to be rendered.\r\n * @param vert Object containing the vertices.\r\n * @param g The graph that is to be drawn.\r\n */\r\nexport const addVertices = function (vert, g, svgId) {\r\n  const svg = select(`[id=\"${svgId}\"]`);\r\n  const keys = Object.keys(vert);\r\n\r\n  // Iterate through each item in the vertex object (containing all the vertices found) in the graph definition\r\n  keys.forEach(function (id) {\r\n    const vertex = vert[id];\r\n\r\n    /**\r\n     * Variable for storing the classes for the vertex\r\n     * @type {string}\r\n     */\r\n    let classStr = 'default';\r\n    if (vertex.classes.length > 0) {\r\n      classStr = vertex.classes.join(' ');\r\n    }\r\n\r\n    const styles = getStylesFromArray(vertex.styles);\r\n\r\n    // Use vertex id as text in the box if no text is provided by the graph definition\r\n    let vertexText = vertex.text !== undefined ? vertex.text : vertex.id;\r\n\r\n    // We create a SVG label, either by delegating to addHtmlLabel or manually\r\n    let vertexNode;\r\n    if (evaluate(getConfig().flowchart.htmlLabels)) {\r\n      // TODO: addHtmlLabel accepts a labelStyle. Do we possibly have that?\r\n      const node = {\r\n        label: vertexText.replace(\r\n          /fa[lrsb]?:fa-[\\w-]+/g,\r\n          (s) => `<i class='${s.replace(':', ' ')}'></i>`\r\n        ),\r\n      };\r\n      vertexNode = addHtmlLabel(svg, node).node();\r\n      vertexNode.parentNode.removeChild(vertexNode);\r\n    } else {\r\n      const svgLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');\r\n      svgLabel.setAttribute('style', styles.labelStyle.replace('color:', 'fill:'));\r\n\r\n      const rows = vertexText.split(common.lineBreakRegex);\r\n\r\n      for (let j = 0; j < rows.length; j++) {\r\n        const tspan = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');\r\n        tspan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n        tspan.setAttribute('dy', '1em');\r\n        tspan.setAttribute('x', '1');\r\n        tspan.textContent = rows[j];\r\n        svgLabel.appendChild(tspan);\r\n      }\r\n      vertexNode = svgLabel;\r\n    }\r\n\r\n    let radious = 0;\r\n    let _shape = '';\r\n    // Set the shape based parameters\r\n    switch (vertex.type) {\r\n      case 'round':\r\n        radious = 5;\r\n        _shape = 'rect';\r\n        break;\r\n      case 'square':\r\n        _shape = 'rect';\r\n        break;\r\n      case 'diamond':\r\n        _shape = 'question';\r\n        break;\r\n      case 'hexagon':\r\n        _shape = 'hexagon';\r\n        break;\r\n      case 'odd':\r\n        _shape = 'rect_left_inv_arrow';\r\n        break;\r\n      case 'lean_right':\r\n        _shape = 'lean_right';\r\n        break;\r\n      case 'lean_left':\r\n        _shape = 'lean_left';\r\n        break;\r\n      case 'trapezoid':\r\n        _shape = 'trapezoid';\r\n        break;\r\n      case 'inv_trapezoid':\r\n        _shape = 'inv_trapezoid';\r\n        break;\r\n      case 'odd_right':\r\n        _shape = 'rect_left_inv_arrow';\r\n        break;\r\n      case 'circle':\r\n        _shape = 'circle';\r\n        break;\r\n      case 'ellipse':\r\n        _shape = 'ellipse';\r\n        break;\r\n      case 'stadium':\r\n        _shape = 'stadium';\r\n        break;\r\n      case 'subroutine':\r\n        _shape = 'subroutine';\r\n        break;\r\n      case 'cylinder':\r\n        _shape = 'cylinder';\r\n        break;\r\n      case 'group':\r\n        _shape = 'rect';\r\n        break;\r\n      default:\r\n        _shape = 'rect';\r\n    }\r\n    // Add the node\r\n    log.warn('Adding node', vertex.id, vertex.domId);\r\n    g.setNode(flowDb.lookUpDomId(vertex.id), {\r\n      labelType: 'svg',\r\n      labelStyle: styles.labelStyle,\r\n      shape: _shape,\r\n      label: vertexNode,\r\n      rx: radious,\r\n      ry: radious,\r\n      class: classStr,\r\n      style: styles.style,\r\n      id: flowDb.lookUpDomId(vertex.id),\r\n    });\r\n  });\r\n};\r\n\r\n/**\r\n * Add edges to graph based on parsed graph defninition\r\n * @param {Object} edges The edges to add to the graph\r\n * @param {Object} g The graph object\r\n */\r\nexport const addEdges = function (edges, g) {\r\n  let cnt = 0;\r\n\r\n  let defaultStyle;\r\n  let defaultLabelStyle;\r\n\r\n  if (typeof edges.defaultStyle !== 'undefined') {\r\n    const defaultStyles = getStylesFromArray(edges.defaultStyle);\r\n    defaultStyle = defaultStyles.style;\r\n    defaultLabelStyle = defaultStyles.labelStyle;\r\n  }\r\n\r\n  edges.forEach(function (edge) {\r\n    cnt++;\r\n\r\n    // Identify Link\r\n    var linkId = 'L-' + edge.start + '-' + edge.end;\r\n    var linkNameStart = 'LS-' + edge.start;\r\n    var linkNameEnd = 'LE-' + edge.end;\r\n\r\n    const edgeData = {};\r\n\r\n    // Set link type for rendering\r\n    if (edge.type === 'arrow_open') {\r\n      edgeData.arrowhead = 'none';\r\n    } else {\r\n      edgeData.arrowhead = 'normal';\r\n    }\r\n\r\n    let style = '';\r\n    let labelStyle = '';\r\n\r\n    if (typeof edge.style !== 'undefined') {\r\n      const styles = getStylesFromArray(edge.style);\r\n      style = styles.style;\r\n      labelStyle = styles.labelStyle;\r\n    } else {\r\n      switch (edge.stroke) {\r\n        case 'normal':\r\n          style = 'fill:none';\r\n          if (typeof defaultStyle !== 'undefined') {\r\n            style = defaultStyle;\r\n          }\r\n          if (typeof defaultLabelStyle !== 'undefined') {\r\n            labelStyle = defaultLabelStyle;\r\n          }\r\n          break;\r\n        case 'dotted':\r\n          style = 'fill:none;stroke-width:2px;stroke-dasharray:3;';\r\n          break;\r\n        case 'thick':\r\n          style = ' stroke-width: 3.5px;fill:none';\r\n          break;\r\n      }\r\n    }\r\n\r\n    edgeData.style = style;\r\n    edgeData.labelStyle = labelStyle;\r\n\r\n    if (typeof edge.interpolate !== 'undefined') {\r\n      edgeData.curve = interpolateToCurve(edge.interpolate, curveLinear);\r\n    } else if (typeof edges.defaultInterpolate !== 'undefined') {\r\n      edgeData.curve = interpolateToCurve(edges.defaultInterpolate, curveLinear);\r\n    } else {\r\n      edgeData.curve = interpolateToCurve(conf.curve, curveLinear);\r\n    }\r\n\r\n    if (typeof edge.text === 'undefined') {\r\n      if (typeof edge.style !== 'undefined') {\r\n        edgeData.arrowheadStyle = 'fill: #333';\r\n      }\r\n    } else {\r\n      edgeData.arrowheadStyle = 'fill: #333';\r\n      edgeData.labelpos = 'c';\r\n\r\n      if (evaluate(getConfig().flowchart.htmlLabels)) {\r\n        edgeData.labelType = 'html';\r\n        edgeData.label = `<span id=\"L-${linkId}\" class=\"edgeLabel L-${linkNameStart}' L-${linkNameEnd}\">${edge.text.replace(\r\n          /fa[lrsb]?:fa-[\\w-]+/g,\r\n          (s) => `<i class='${s.replace(':', ' ')}'></i>`\r\n        )}</span>`;\r\n      } else {\r\n        edgeData.labelType = 'text';\r\n        edgeData.label = edge.text.replace(common.lineBreakRegex, '\\n');\r\n\r\n        if (typeof edge.style === 'undefined') {\r\n          edgeData.style = edgeData.style || 'stroke: #333; stroke-width: 1.5px;fill:none';\r\n        }\r\n\r\n        edgeData.labelStyle = edgeData.labelStyle.replace('color:', 'fill:');\r\n      }\r\n    }\r\n\r\n    edgeData.id = linkId;\r\n    edgeData.class = linkNameStart + ' ' + linkNameEnd;\r\n    edgeData.minlen = edge.length || 1;\r\n\r\n    // Add the edge to the graph\r\n    g.setEdge(flowDb.lookUpDomId(edge.start), flowDb.lookUpDomId(edge.end), edgeData, cnt);\r\n  });\r\n};\r\n\r\n/**\r\n * Returns the all the styles from classDef statements in the graph definition.\r\n * @returns {object} classDef styles\r\n */\r\nexport const getClasses = function (text) {\r\n  log.info('Extracting classes');\r\n  flowDb.clear();\r\n  try {\r\n    const parser = flow.parser;\r\n    parser.yy = flowDb;\r\n\r\n    // Parse the graph definition\r\n    parser.parse(text);\r\n    return flowDb.getClasses();\r\n  } catch (e) {\r\n    return;\r\n  }\r\n};\r\n\r\n/**\r\n * Draws a flowchart in the tag with id: id based on the graph definition in text.\r\n * @param text\r\n * @param id\r\n */\r\nexport const draw = function (text, id) {\r\n  log.info('Drawing flowchart');\r\n  flowDb.clear();\r\n  flowDb.setGen('gen-1');\r\n  const parser = flow.parser;\r\n  parser.yy = flowDb;\r\n\r\n  // Parse the graph definition\r\n  // try {\r\n  parser.parse(text);\r\n  // } catch (err) {\r\n  // log.debug('Parsing failed');\r\n  // }\r\n\r\n  // Fetch the default direction, use TD if none was found\r\n  let dir = flowDb.getDirection();\r\n  if (typeof dir === 'undefined') {\r\n    dir = 'TD';\r\n  }\r\n\r\n  const conf = getConfig().flowchart;\r\n  const nodeSpacing = conf.nodeSpacing || 50;\r\n  const rankSpacing = conf.rankSpacing || 50;\r\n\r\n  // Create the input mermaid.graph\r\n  const g = new graphlib.Graph({\r\n    multigraph: true,\r\n    compound: true,\r\n  })\r\n    .setGraph({\r\n      rankdir: dir,\r\n      nodesep: nodeSpacing,\r\n      ranksep: rankSpacing,\r\n      marginx: 8,\r\n      marginy: 8,\r\n    })\r\n    .setDefaultEdgeLabel(function () {\r\n      return {};\r\n    });\r\n\r\n  let subG;\r\n  const subGraphs = flowDb.getSubGraphs();\r\n  for (let i = subGraphs.length - 1; i >= 0; i--) {\r\n    subG = subGraphs[i];\r\n    flowDb.addVertex(subG.id, subG.title, 'group', undefined, subG.classes);\r\n  }\r\n\r\n  // Fetch the verices/nodes and edges/links from the parsed graph definition\r\n  const vert = flowDb.getVertices();\r\n  log.warn('Get vertices', vert);\r\n\r\n  const edges = flowDb.getEdges();\r\n\r\n  let i = 0;\r\n  for (i = subGraphs.length - 1; i >= 0; i--) {\r\n    subG = subGraphs[i];\r\n\r\n    selectAll('cluster').append('text');\r\n\r\n    for (let j = 0; j < subG.nodes.length; j++) {\r\n      log.warn(\r\n        'Setting subgraph',\r\n        subG.nodes[j],\r\n        flowDb.lookUpDomId(subG.nodes[j]),\r\n        flowDb.lookUpDomId(subG.id)\r\n      );\r\n      g.setParent(flowDb.lookUpDomId(subG.nodes[j]), flowDb.lookUpDomId(subG.id));\r\n    }\r\n  }\r\n  addVertices(vert, g, id);\r\n  addEdges(edges, g);\r\n\r\n  // Create the renderer\r\n  const Render = dagreD3.render;\r\n  const render = new Render();\r\n\r\n  // Add custom shapes\r\n  flowChartShapes.addToRender(render);\r\n\r\n  // Add our custom arrow - an empty arrowhead\r\n  render.arrows().none = function normal(parent, id, edge, type) {\r\n    const marker = parent\r\n      .append('marker')\r\n      .attr('id', id)\r\n      .attr('viewBox', '0 0 10 10')\r\n      .attr('refX', 9)\r\n      .attr('refY', 5)\r\n      .attr('markerUnits', 'strokeWidth')\r\n      .attr('markerWidth', 8)\r\n      .attr('markerHeight', 6)\r\n      .attr('orient', 'auto');\r\n\r\n    const path = marker.append('path').attr('d', 'M 0 0 L 0 0 L 0 0 z');\r\n    dagreD3.util.applyStyle(path, edge[type + 'Style']);\r\n  };\r\n\r\n  // Override normal arrowhead defined in d3. Remove style & add class to allow css styling.\r\n  render.arrows().normal = function normal(parent, id) {\r\n    const marker = parent\r\n      .append('marker')\r\n      .attr('id', id)\r\n      .attr('viewBox', '0 0 10 10')\r\n      .attr('refX', 9)\r\n      .attr('refY', 5)\r\n      .attr('markerUnits', 'strokeWidth')\r\n      .attr('markerWidth', 8)\r\n      .attr('markerHeight', 6)\r\n      .attr('orient', 'auto');\r\n\r\n    marker\r\n      .append('path')\r\n      .attr('d', 'M 0 0 L 10 5 L 0 10 z')\r\n      .attr('class', 'arrowheadPath')\r\n      .style('stroke-width', 1)\r\n      .style('stroke-dasharray', '1,0');\r\n  };\r\n\r\n  // Set up an SVG group so that we can translate the final graph.\r\n  const svg = select(`[id=\"${id}\"]`);\r\n  svg.attr('xmlns:xlink', 'http://www.w3.org/1999/xlink');\r\n\r\n  log.warn(g);\r\n\r\n  // Run the renderer. This is what draws the final graph.\r\n  const element = select('#' + id + ' g');\r\n  render(element, g);\r\n\r\n  element.selectAll('g.node').attr('title', function () {\r\n    return flowDb.getTooltip(this.id);\r\n  });\r\n\r\n  const padding = conf.diagramPadding;\r\n  const svgBounds = svg.node().getBBox();\r\n  const width = svgBounds.width + padding * 2;\r\n  const height = svgBounds.height + padding * 2;\r\n\r\n  configureSvgSize(svg, height, width, conf.useMaxWidth);\r\n\r\n  // Ensure the viewBox includes the whole svgBounds area with extra space for padding\r\n  const vBox = `${svgBounds.x - padding} ${svgBounds.y - padding} ${width} ${height}`;\r\n  log.debug(`viewBox ${vBox}`);\r\n  svg.attr('viewBox', vBox);\r\n\r\n  // Index nodes\r\n  flowDb.indexNodes('subGraph' + i);\r\n\r\n  // reposition labels\r\n  for (i = 0; i < subGraphs.length; i++) {\r\n    subG = subGraphs[i];\r\n    if (subG.title !== 'undefined') {\r\n      const clusterRects = document.querySelectorAll(\r\n        '#' + id + ' [id=\"' + flowDb.lookUpDomId(subG.id) + '\"] rect'\r\n      );\r\n      const clusterEl = document.querySelectorAll(\r\n        '#' + id + ' [id=\"' + flowDb.lookUpDomId(subG.id) + '\"]'\r\n      );\r\n\r\n      const xPos = clusterRects[0].x.baseVal.value;\r\n      const yPos = clusterRects[0].y.baseVal.value;\r\n      const width = clusterRects[0].width.baseVal.value;\r\n      const cluster = select(clusterEl[0]);\r\n      const te = cluster.select('.label');\r\n      te.attr('transform', `translate(${xPos + width / 2}, ${yPos + 14})`);\r\n      te.attr('id', id + 'Text');\r\n\r\n      for (let j = 0; j < subG.classes.length; j++) {\r\n        clusterEl[0].classList.add(subG.classes[j]);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Add label rects for non html labels\r\n  if (!evaluate(conf.htmlLabels) || true) { // eslint-disable-line\r\n    const labels = document.querySelectorAll('[id=\"' + id + '\"] .edgeLabel .label');\r\n    for (let k = 0; k < labels.length; k++) {\r\n      const label = labels[k];\r\n\r\n      // Get dimensions of label\r\n      const dim = label.getBBox();\r\n\r\n      const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\r\n      rect.setAttribute('rx', 0);\r\n      rect.setAttribute('ry', 0);\r\n      rect.setAttribute('width', dim.width);\r\n      rect.setAttribute('height', dim.height);\r\n      // rect.setAttribute('style', 'fill:#e8e8e8;');\r\n\r\n      label.insertBefore(rect, label.firstChild);\r\n    }\r\n  }\r\n\r\n  // If node has a link, wrap it in an anchor SVG object.\r\n  const keys = Object.keys(vert);\r\n  keys.forEach(function (key) {\r\n    const vertex = vert[key];\r\n\r\n    if (vertex.link) {\r\n      const node = select('#' + id + ' [id=\"' + flowDb.lookUpDomId(key) + '\"]');\r\n      if (node) {\r\n        const link = document.createElementNS('http://www.w3.org/2000/svg', 'a');\r\n        link.setAttributeNS('http://www.w3.org/2000/svg', 'class', vertex.classes.join(' '));\r\n        link.setAttributeNS('http://www.w3.org/2000/svg', 'href', vertex.link);\r\n        link.setAttributeNS('http://www.w3.org/2000/svg', 'rel', 'noopener');\r\n        if (vertex.linkTarget) {\r\n          link.setAttributeNS('http://www.w3.org/2000/svg', 'target', vertex.linkTarget);\r\n        }\r\n\r\n        const linkNode = node.insert(function () {\r\n          return link;\r\n        }, ':first-child');\r\n\r\n        const shape = node.select('.label-container');\r\n        if (shape) {\r\n          linkNode.append(function () {\r\n            return shape.node();\r\n          });\r\n        }\r\n\r\n        const label = node.select('.label');\r\n        if (label) {\r\n          linkNode.append(function () {\r\n            return label.node();\r\n          });\r\n        }\r\n      }\r\n    }\r\n  });\r\n};\r\n\r\nexport default {\r\n  setConf,\r\n  addVertices,\r\n  addEdges,\r\n  getClasses,\r\n  draw,\r\n};\r\n","const getStyles = (options) =>\r\n  `.label {\r\n    font-family: ${options.fontFamily};\r\n    color: ${options.nodeTextColor || options.textColor};\r\n  }\r\n  .cluster-label text {\r\n    fill: ${options.titleColor};\r\n  }\r\n  .cluster-label span {\r\n    color: ${options.titleColor};\r\n  }\r\n\r\n  .label text,span {\r\n    fill: ${options.nodeTextColor || options.textColor};\r\n    color: ${options.nodeTextColor || options.textColor};\r\n  }\r\n\r\n  .node rect,\r\n  .node circle,\r\n  .node ellipse,\r\n  .node polygon,\r\n  .node path {\r\n    fill: ${options.mainBkg};\r\n    stroke: ${options.nodeBorder};\r\n    stroke-width: 1px;\r\n  }\r\n\r\n  .node .label {\r\n    text-align: center;\r\n  }\r\n  .node.clickable {\r\n    cursor: pointer;\r\n  }\r\n\r\n  .arrowheadPath {\r\n    fill: ${options.arrowheadColor};\r\n  }\r\n\r\n  .edgePath .path {\r\n    stroke: ${options.lineColor};\r\n    stroke-width: 2.0px;\r\n  }\r\n\r\n  .flowchart-link {\r\n    stroke: ${options.lineColor};\r\n    fill: none;\r\n  }\r\n\r\n  .edgeLabel {\r\n    background-color: ${options.edgeLabelBackground};\r\n    rect {\r\n      opacity: 0.5;\r\n      background-color: ${options.edgeLabelBackground};\r\n      fill: ${options.edgeLabelBackground};\r\n    }\r\n    text-align: center;\r\n  }\r\n\r\n  .cluster rect {\r\n    fill: ${options.clusterBkg};\r\n    stroke: ${options.clusterBorder};\r\n    stroke-width: 1px;\r\n  }\r\n\r\n  .cluster text {\r\n    fill: ${options.titleColor};\r\n  }\r\n\r\n  .cluster span {\r\n    color: ${options.titleColor};\r\n  }\r\n  // .cluster div {\r\n  //   color: ${options.titleColor};\r\n  // }\r\n\r\n  div.mermaidTooltip {\r\n    position: absolute;\r\n    text-align: center;\r\n    max-width: 200px;\r\n    padding: 2px;\r\n    font-family: ${options.fontFamily};\r\n    font-size: 12px;\r\n    background: ${options.tertiaryColor};\r\n    border: 1px solid ${options.border2};\r\n    border-radius: 2px;\r\n    pointer-events: none;\r\n    z-index: 100;\r\n  }\r\n`;\r\n\r\nexport default getStyles;\r\n","import moment from 'moment-mini';\r\nimport { sanitizeUrl } from '@braintree/sanitize-url';\r\nimport { log } from '../../logger';\r\nimport * as configApi from '../../config';\r\nimport utils from '../../utils';\r\nimport mermaidAPI from '../../mermaidAPI';\r\n\r\nlet dateFormat = '';\r\nlet axisFormat = '';\r\nlet todayMarker = '';\r\nlet excludes = [];\r\nlet title = '';\r\nlet sections = [];\r\nlet tasks = [];\r\nlet currentSection = '';\r\nconst tags = ['active', 'done', 'crit', 'milestone'];\r\nlet funs = [];\r\nlet inclusiveEndDates = false;\r\nlet topAxis = false;\r\n\r\n// The serial order of the task in the script\r\nlet lastOrder = 0;\r\n\r\nexport const parseDirective = function (statement, context, type) {\r\n  mermaidAPI.parseDirective(this, statement, context, type);\r\n};\r\n\r\nexport const clear = function () {\r\n  sections = [];\r\n  tasks = [];\r\n  currentSection = '';\r\n  funs = [];\r\n  title = '';\r\n  taskCnt = 0;\r\n  lastTask = undefined;\r\n  lastTaskID = undefined;\r\n  rawTasks = [];\r\n  dateFormat = '';\r\n  axisFormat = '';\r\n  todayMarker = '';\r\n  excludes = [];\r\n  inclusiveEndDates = false;\r\n  topAxis = false;\r\n  lastOrder = 0;\r\n};\r\n\r\nexport const setAxisFormat = function (txt) {\r\n  axisFormat = txt;\r\n};\r\n\r\nexport const getAxisFormat = function () {\r\n  return axisFormat;\r\n};\r\n\r\nexport const setTodayMarker = function (txt) {\r\n  todayMarker = txt;\r\n};\r\n\r\nexport const getTodayMarker = function () {\r\n  return todayMarker;\r\n};\r\n\r\nexport const setDateFormat = function (txt) {\r\n  dateFormat = txt;\r\n};\r\n\r\nexport const enableInclusiveEndDates = function () {\r\n  inclusiveEndDates = true;\r\n};\r\n\r\nexport const endDatesAreInclusive = function () {\r\n  return inclusiveEndDates;\r\n};\r\n\r\nexport const enableTopAxis = function () {\r\n  topAxis = true;\r\n};\r\n\r\nexport const topAxisEnabled = function () {\r\n  return topAxis;\r\n};\r\n\r\nexport const getDateFormat = function () {\r\n  return dateFormat;\r\n};\r\n\r\nexport const setExcludes = function (txt) {\r\n  excludes = txt.toLowerCase().split(/[\\s,]+/);\r\n};\r\n\r\nexport const getExcludes = function () {\r\n  return excludes;\r\n};\r\n\r\nexport const setTitle = function (txt) {\r\n  title = txt;\r\n};\r\n\r\nexport const getTitle = function () {\r\n  return title;\r\n};\r\n\r\nexport const addSection = function (txt) {\r\n  currentSection = txt;\r\n  sections.push(txt);\r\n};\r\n\r\nexport const getSections = function () {\r\n  return sections;\r\n};\r\n\r\nexport const getTasks = function () {\r\n  let allItemsPricessed = compileTasks();\r\n  const maxDepth = 10;\r\n  let iterationCount = 0;\r\n  while (!allItemsPricessed && iterationCount < maxDepth) {\r\n    allItemsPricessed = compileTasks();\r\n    iterationCount++;\r\n  }\r\n\r\n  tasks = rawTasks;\r\n\r\n  return tasks;\r\n};\r\n\r\nconst isInvalidDate = function (date, dateFormat, excludes) {\r\n  if (date.isoWeekday() >= 6 && excludes.indexOf('weekends') >= 0) {\r\n    return true;\r\n  }\r\n  if (excludes.indexOf(date.format('dddd').toLowerCase()) >= 0) {\r\n    return true;\r\n  }\r\n  return excludes.indexOf(date.format(dateFormat.trim())) >= 0;\r\n};\r\n\r\nconst checkTaskDates = function (task, dateFormat, excludes) {\r\n  if (!excludes.length || task.manualEndTime) return;\r\n  let startTime = moment(task.startTime, dateFormat, true);\r\n  startTime.add(1, 'd');\r\n  let endTime = moment(task.endTime, dateFormat, true);\r\n  let renderEndTime = fixTaskDates(startTime, endTime, dateFormat, excludes);\r\n  task.endTime = endTime.toDate();\r\n  task.renderEndTime = renderEndTime;\r\n};\r\n\r\nconst fixTaskDates = function (startTime, endTime, dateFormat, excludes) {\r\n  let invalid = false;\r\n  let renderEndTime = null;\r\n  while (startTime <= endTime) {\r\n    if (!invalid) {\r\n      renderEndTime = endTime.toDate();\r\n    }\r\n    invalid = isInvalidDate(startTime, dateFormat, excludes);\r\n    if (invalid) {\r\n      endTime.add(1, 'd');\r\n    }\r\n    startTime.add(1, 'd');\r\n  }\r\n  return renderEndTime;\r\n};\r\n\r\nconst getStartDate = function (prevTime, dateFormat, str) {\r\n  str = str.trim();\r\n\r\n  // Test for after\r\n  const re = /^after\\s+([\\d\\w- ]+)/;\r\n  const afterStatement = re.exec(str.trim());\r\n\r\n  if (afterStatement !== null) {\r\n    // check all after ids and take the latest\r\n    let latestEndingTask = null;\r\n    afterStatement[1].split(' ').forEach(function (id) {\r\n      let task = findTaskById(id);\r\n      if (typeof task !== 'undefined') {\r\n        if (!latestEndingTask) {\r\n          latestEndingTask = task;\r\n        } else {\r\n          if (task.endTime > latestEndingTask.endTime) {\r\n            latestEndingTask = task;\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    if (!latestEndingTask) {\r\n      const dt = new Date();\r\n      dt.setHours(0, 0, 0, 0);\r\n      return dt;\r\n    } else {\r\n      return latestEndingTask.endTime;\r\n    }\r\n  }\r\n\r\n  // Check for actual date set\r\n  let mDate = moment(str, dateFormat.trim(), true);\r\n  if (mDate.isValid()) {\r\n    return mDate.toDate();\r\n  } else {\r\n    log.debug('Invalid date:' + str);\r\n    log.debug('With date format:' + dateFormat.trim());\r\n  }\r\n\r\n  // Default date - now\r\n  return new Date();\r\n};\r\n\r\nconst durationToDate = function (durationStatement, relativeTime) {\r\n  if (durationStatement !== null) {\r\n    switch (durationStatement[2]) {\r\n      case 's':\r\n        relativeTime.add(durationStatement[1], 'seconds');\r\n        break;\r\n      case 'm':\r\n        relativeTime.add(durationStatement[1], 'minutes');\r\n        break;\r\n      case 'h':\r\n        relativeTime.add(durationStatement[1], 'hours');\r\n        break;\r\n      case 'd':\r\n        relativeTime.add(durationStatement[1], 'days');\r\n        break;\r\n      case 'w':\r\n        relativeTime.add(durationStatement[1], 'weeks');\r\n        break;\r\n    }\r\n  }\r\n  // Default date - now\r\n  return relativeTime.toDate();\r\n};\r\n\r\nconst getEndDate = function (prevTime, dateFormat, str, inclusive) {\r\n  inclusive = inclusive || false;\r\n  str = str.trim();\r\n\r\n  // Check for actual date\r\n  let mDate = moment(str, dateFormat.trim(), true);\r\n  if (mDate.isValid()) {\r\n    if (inclusive) {\r\n      mDate.add(1, 'd');\r\n    }\r\n    return mDate.toDate();\r\n  }\r\n\r\n  return durationToDate(/^([\\d]+)([wdhms])/.exec(str.trim()), moment(prevTime));\r\n};\r\n\r\nlet taskCnt = 0;\r\nconst parseId = function (idStr) {\r\n  if (typeof idStr === 'undefined') {\r\n    taskCnt = taskCnt + 1;\r\n    return 'task' + taskCnt;\r\n  }\r\n  return idStr;\r\n};\r\n// id, startDate, endDate\r\n// id, startDate, length\r\n// id, after x, endDate\r\n// id, after x, length\r\n// startDate, endDate\r\n// startDate, length\r\n// after x, endDate\r\n// after x, length\r\n// endDate\r\n// length\r\n\r\nconst compileData = function (prevTask, dataStr) {\r\n  let ds;\r\n\r\n  if (dataStr.substr(0, 1) === ':') {\r\n    ds = dataStr.substr(1, dataStr.length);\r\n  } else {\r\n    ds = dataStr;\r\n  }\r\n\r\n  const data = ds.split(',');\r\n\r\n  const task = {};\r\n\r\n  // Get tags like active, done, crit and milestone\r\n  getTaskTags(data, task, tags);\r\n\r\n  for (let i = 0; i < data.length; i++) {\r\n    data[i] = data[i].trim();\r\n  }\r\n\r\n  let endTimeData = '';\r\n  switch (data.length) {\r\n    case 1:\r\n      task.id = parseId();\r\n      task.startTime = prevTask.endTime;\r\n      endTimeData = data[0];\r\n      break;\r\n    case 2:\r\n      task.id = parseId();\r\n      task.startTime = getStartDate(undefined, dateFormat, data[0]);\r\n      endTimeData = data[1];\r\n      break;\r\n    case 3:\r\n      task.id = parseId(data[0]);\r\n      task.startTime = getStartDate(undefined, dateFormat, data[1]);\r\n      endTimeData = data[2];\r\n      break;\r\n    default:\r\n  }\r\n\r\n  if (endTimeData) {\r\n    task.endTime = getEndDate(task.startTime, dateFormat, endTimeData, inclusiveEndDates);\r\n    task.manualEndTime = moment(endTimeData, 'YYYY-MM-DD', true).isValid();\r\n    checkTaskDates(task, dateFormat, excludes);\r\n  }\r\n\r\n  return task;\r\n};\r\n\r\nconst parseData = function (prevTaskId, dataStr) {\r\n  let ds;\r\n  if (dataStr.substr(0, 1) === ':') {\r\n    ds = dataStr.substr(1, dataStr.length);\r\n  } else {\r\n    ds = dataStr;\r\n  }\r\n\r\n  const data = ds.split(',');\r\n\r\n  const task = {};\r\n\r\n  // Get tags like active, done, crit and milestone\r\n  getTaskTags(data, task, tags);\r\n\r\n  for (let i = 0; i < data.length; i++) {\r\n    data[i] = data[i].trim();\r\n  }\r\n\r\n  switch (data.length) {\r\n    case 1:\r\n      task.id = parseId();\r\n      task.startTime = {\r\n        type: 'prevTaskEnd',\r\n        id: prevTaskId,\r\n      };\r\n      task.endTime = {\r\n        data: data[0],\r\n      };\r\n      break;\r\n    case 2:\r\n      task.id = parseId();\r\n      task.startTime = {\r\n        type: 'getStartDate',\r\n        startData: data[0],\r\n      };\r\n      task.endTime = {\r\n        data: data[1],\r\n      };\r\n      break;\r\n    case 3:\r\n      task.id = parseId(data[0]);\r\n      task.startTime = {\r\n        type: 'getStartDate',\r\n        startData: data[1],\r\n      };\r\n      task.endTime = {\r\n        data: data[2],\r\n      };\r\n      break;\r\n    default:\r\n  }\r\n\r\n  return task;\r\n};\r\n\r\nlet lastTask;\r\nlet lastTaskID;\r\nlet rawTasks = [];\r\nconst taskDb = {};\r\nexport const addTask = function (descr, data) {\r\n  const rawTask = {\r\n    section: currentSection,\r\n    type: currentSection,\r\n    processed: false,\r\n    manualEndTime: false,\r\n    renderEndTime: null,\r\n    raw: { data: data },\r\n    task: descr,\r\n    classes: [],\r\n  };\r\n  const taskInfo = parseData(lastTaskID, data);\r\n  rawTask.raw.startTime = taskInfo.startTime;\r\n  rawTask.raw.endTime = taskInfo.endTime;\r\n  rawTask.id = taskInfo.id;\r\n  rawTask.prevTaskId = lastTaskID;\r\n  rawTask.active = taskInfo.active;\r\n  rawTask.done = taskInfo.done;\r\n  rawTask.crit = taskInfo.crit;\r\n  rawTask.milestone = taskInfo.milestone;\r\n  rawTask.order = lastOrder;\r\n\r\n  lastOrder++;\r\n\r\n  const pos = rawTasks.push(rawTask);\r\n\r\n  lastTaskID = rawTask.id;\r\n  // Store cross ref\r\n  taskDb[rawTask.id] = pos - 1;\r\n};\r\n\r\nexport const findTaskById = function (id) {\r\n  const pos = taskDb[id];\r\n  return rawTasks[pos];\r\n};\r\n\r\nexport const addTaskOrg = function (descr, data) {\r\n  const newTask = {\r\n    section: currentSection,\r\n    type: currentSection,\r\n    description: descr,\r\n    task: descr,\r\n    classes: [],\r\n  };\r\n  const taskInfo = compileData(lastTask, data);\r\n  newTask.startTime = taskInfo.startTime;\r\n  newTask.endTime = taskInfo.endTime;\r\n  newTask.id = taskInfo.id;\r\n  newTask.active = taskInfo.active;\r\n  newTask.done = taskInfo.done;\r\n  newTask.crit = taskInfo.crit;\r\n  newTask.milestone = taskInfo.milestone;\r\n  lastTask = newTask;\r\n  tasks.push(newTask);\r\n};\r\n\r\nconst compileTasks = function () {\r\n  const compileTask = function (pos) {\r\n    const task = rawTasks[pos];\r\n    let startTime = '';\r\n    switch (rawTasks[pos].raw.startTime.type) {\r\n      case 'prevTaskEnd': {\r\n        const prevTask = findTaskById(task.prevTaskId);\r\n        task.startTime = prevTask.endTime;\r\n        break;\r\n      }\r\n      case 'getStartDate':\r\n        startTime = getStartDate(undefined, dateFormat, rawTasks[pos].raw.startTime.startData);\r\n        if (startTime) {\r\n          rawTasks[pos].startTime = startTime;\r\n        }\r\n        break;\r\n    }\r\n\r\n    if (rawTasks[pos].startTime) {\r\n      rawTasks[pos].endTime = getEndDate(\r\n        rawTasks[pos].startTime,\r\n        dateFormat,\r\n        rawTasks[pos].raw.endTime.data,\r\n        inclusiveEndDates\r\n      );\r\n      if (rawTasks[pos].endTime) {\r\n        rawTasks[pos].processed = true;\r\n        rawTasks[pos].manualEndTime = moment(\r\n          rawTasks[pos].raw.endTime.data,\r\n          'YYYY-MM-DD',\r\n          true\r\n        ).isValid();\r\n        checkTaskDates(rawTasks[pos], dateFormat, excludes);\r\n      }\r\n    }\r\n\r\n    return rawTasks[pos].processed;\r\n  };\r\n\r\n  let allProcessed = true;\r\n  for (let i = 0; i < rawTasks.length; i++) {\r\n    compileTask(i);\r\n\r\n    allProcessed = allProcessed && rawTasks[i].processed;\r\n  }\r\n  return allProcessed;\r\n};\r\n\r\n/**\r\n * Called by parser when a link is found. Adds the URL to the vertex data.\r\n * @param ids Comma separated list of ids\r\n * @param linkStr URL to create a link for\r\n */\r\nexport const setLink = function (ids, _linkStr) {\r\n  let linkStr = _linkStr;\r\n  if (configApi.getConfig().securityLevel !== 'loose') {\r\n    linkStr = sanitizeUrl(_linkStr);\r\n  }\r\n  ids.split(',').forEach(function (id) {\r\n    let rawTask = findTaskById(id);\r\n    if (typeof rawTask !== 'undefined') {\r\n      pushFun(id, () => {\r\n        window.open(linkStr, '_self');\r\n      });\r\n    }\r\n  });\r\n  setClass(ids, 'clickable');\r\n};\r\n\r\n/**\r\n * Called by parser when a special node is found, e.g. a clickable element.\r\n * @param ids Comma separated list of ids\r\n * @param className Class to add\r\n */\r\nexport const setClass = function (ids, className) {\r\n  ids.split(',').forEach(function (id) {\r\n    let rawTask = findTaskById(id);\r\n    if (typeof rawTask !== 'undefined') {\r\n      rawTask.classes.push(className);\r\n    }\r\n  });\r\n};\r\n\r\nconst setClickFun = function (id, functionName, functionArgs) {\r\n  if (configApi.getConfig().securityLevel !== 'loose') {\r\n    return;\r\n  }\r\n  if (typeof functionName === 'undefined') {\r\n    return;\r\n  }\r\n\r\n  let argList = [];\r\n  if (typeof functionArgs === 'string') {\r\n    /* Splits functionArgs by ',', ignoring all ',' in double quoted strings */\r\n    argList = functionArgs.split(/,(?=(?:(?:[^\"]*\"){2})*[^\"]*$)/);\r\n    for (let i = 0; i < argList.length; i++) {\r\n      let item = argList[i].trim();\r\n      /* Removes all double quotes at the start and end of an argument */\r\n      /* This preserves all starting and ending whitespace inside */\r\n      if (item.charAt(0) === '\"' && item.charAt(item.length - 1) === '\"') {\r\n        item = item.substr(1, item.length - 2);\r\n      }\r\n      argList[i] = item;\r\n    }\r\n  }\r\n\r\n  /* if no arguments passed into callback, default to passing in id */\r\n  if (argList.length === 0) {\r\n    argList.push(id);\r\n  }\r\n\r\n  let rawTask = findTaskById(id);\r\n  if (typeof rawTask !== 'undefined') {\r\n    pushFun(id, () => {\r\n      utils.runFunc(functionName, ...argList);\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * The callbackFunction is executed in a click event bound to the task with the specified id or the task's assigned text\r\n * @param id The task's id\r\n * @param callbackFunction A function to be executed when clicked on the task or the task's text\r\n */\r\nconst pushFun = function (id, callbackFunction) {\r\n  funs.push(function () {\r\n    // const elem = d3.select(element).select(`[id=\"${id}\"]`)\r\n    const elem = document.querySelector(`[id=\"${id}\"]`);\r\n    if (elem !== null) {\r\n      elem.addEventListener('click', function () {\r\n        callbackFunction();\r\n      });\r\n    }\r\n  });\r\n  funs.push(function () {\r\n    // const elem = d3.select(element).select(`[id=\"${id}-text\"]`)\r\n    const elem = document.querySelector(`[id=\"${id}-text\"]`);\r\n    if (elem !== null) {\r\n      elem.addEventListener('click', function () {\r\n        callbackFunction();\r\n      });\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Called by parser when a click definition is found. Registers an event handler.\r\n * @param ids Comma separated list of ids\r\n * @param functionName Function to be called on click\r\n * @param functionArgs Function args the function should be called with\r\n */\r\nexport const setClickEvent = function (ids, functionName, functionArgs) {\r\n  ids.split(',').forEach(function (id) {\r\n    setClickFun(id, functionName, functionArgs);\r\n  });\r\n  setClass(ids, 'clickable');\r\n};\r\n\r\n/**\r\n * Binds all functions previously added to fun (specified through click) to the element\r\n * @param element\r\n */\r\nexport const bindFunctions = function (element) {\r\n  funs.forEach(function (fun) {\r\n    fun(element);\r\n  });\r\n};\r\n\r\nexport default {\r\n  parseDirective,\r\n  getConfig: () => configApi.getConfig().gantt,\r\n  clear,\r\n  setDateFormat,\r\n  getDateFormat,\r\n  enableInclusiveEndDates,\r\n  endDatesAreInclusive,\r\n  enableTopAxis,\r\n  topAxisEnabled,\r\n  setAxisFormat,\r\n  getAxisFormat,\r\n  setTodayMarker,\r\n  getTodayMarker,\r\n  setTitle,\r\n  getTitle,\r\n  addSection,\r\n  getSections,\r\n  getTasks,\r\n  addTask,\r\n  findTaskById,\r\n  addTaskOrg,\r\n  setExcludes,\r\n  getExcludes,\r\n  setClickEvent,\r\n  setLink,\r\n  bindFunctions,\r\n  durationToDate,\r\n};\r\n\r\nfunction getTaskTags(data, task, tags) {\r\n  let matchFound = true;\r\n  while (matchFound) {\r\n    matchFound = false;\r\n    tags.forEach(function (t) {\r\n      const pattern = '^\\\\s*' + t + '\\\\s*$';\r\n      const regex = new RegExp(pattern);\r\n      if (data[0].match(regex)) {\r\n        task[t] = true;\r\n        data.shift(1);\r\n        matchFound = true;\r\n      }\r\n    });\r\n  }\r\n}\r\n","import {\r\n  select,\r\n  scaleTime,\r\n  min,\r\n  max,\r\n  scaleLinear,\r\n  interpolateHcl,\r\n  axisBottom,\r\n  axisTop,\r\n  timeFormat,\r\n} from 'd3';\r\nimport { parser } from './parser/gantt';\r\nimport common from '../common/common';\r\nimport ganttDb from './ganttDb';\r\nimport { getConfig } from '../../config';\r\nimport { configureSvgSize } from '../../utils';\r\n\r\nparser.yy = ganttDb;\r\nexport const setConf = function () {\r\n  // const keys = Object.keys(cnf);\r\n  // keys.forEach(function(key) {\r\n  //   conf[key] = cnf[key];\r\n  // });\r\n};\r\nlet w;\r\nexport const draw = function (text, id) {\r\n  const conf = getConfig().gantt;\r\n  parser.yy.clear();\r\n  parser.parse(text);\r\n\r\n  const elem = document.getElementById(id);\r\n  w = elem.parentElement.offsetWidth;\r\n\r\n  if (typeof w === 'undefined') {\r\n    w = 1200;\r\n  }\r\n\r\n  if (typeof conf.useWidth !== 'undefined') {\r\n    w = conf.useWidth;\r\n  }\r\n\r\n  const taskArray = parser.yy.getTasks();\r\n\r\n  // Set height based on number of tasks\r\n  const h = taskArray.length * (conf.barHeight + conf.barGap) + 2 * conf.topPadding;\r\n\r\n  // Set viewBox\r\n  elem.setAttribute('viewBox', '0 0 ' + w + ' ' + h);\r\n  const svg = select(`[id=\"${id}\"]`);\r\n\r\n  // Set timescale\r\n  const timeScale = scaleTime()\r\n    .domain([\r\n      min(taskArray, function (d) {\r\n        return d.startTime;\r\n      }),\r\n      max(taskArray, function (d) {\r\n        return d.endTime;\r\n      }),\r\n    ])\r\n    .rangeRound([0, w - conf.leftPadding - conf.rightPadding]);\r\n\r\n  let categories = [];\r\n\r\n  for (let i = 0; i < taskArray.length; i++) {\r\n    categories.push(taskArray[i].type);\r\n  }\r\n\r\n  const catsUnfiltered = categories; // for vert labels\r\n\r\n  categories = checkUnique(categories);\r\n\r\n  function taskCompare(a, b) {\r\n    const taskA = a.startTime;\r\n    const taskB = b.startTime;\r\n    let result = 0;\r\n    if (taskA > taskB) {\r\n      result = 1;\r\n    } else if (taskA < taskB) {\r\n      result = -1;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  // Sort the task array using the above taskCompare() so that\r\n  // tasks are created based on their order of startTime\r\n  taskArray.sort(taskCompare);\r\n\r\n  makeGant(taskArray, w, h);\r\n\r\n  configureSvgSize(svg, h, w, conf.useMaxWidth);\r\n\r\n  svg\r\n    .append('text')\r\n    .text(parser.yy.getTitle())\r\n    .attr('x', w / 2)\r\n    .attr('y', conf.titleTopMargin)\r\n    .attr('class', 'titleText');\r\n\r\n  function makeGant(tasks, pageWidth, pageHeight) {\r\n    const barHeight = conf.barHeight;\r\n    const gap = barHeight + conf.barGap;\r\n    const topPadding = conf.topPadding;\r\n    const leftPadding = conf.leftPadding;\r\n\r\n    const colorScale = scaleLinear()\r\n      .domain([0, categories.length])\r\n      .range(['#00B9FA', '#F95002'])\r\n      .interpolate(interpolateHcl);\r\n\r\n    makeGrid(leftPadding, topPadding, pageWidth, pageHeight);\r\n    drawRects(tasks, gap, topPadding, leftPadding, barHeight, colorScale, pageWidth, pageHeight);\r\n    vertLabels(gap, topPadding, leftPadding, barHeight, colorScale);\r\n    drawToday(leftPadding, topPadding, pageWidth, pageHeight);\r\n  }\r\n\r\n  function drawRects(theArray, theGap, theTopPad, theSidePad, theBarHeight, theColorScale, w) {\r\n    // Draw background rects covering the entire width of the graph, these form the section rows.\r\n    svg\r\n      .append('g')\r\n      .selectAll('rect')\r\n      .data(theArray)\r\n      .enter()\r\n      .append('rect')\r\n      .attr('x', 0)\r\n      .attr('y', function (d, i) {\r\n        // Ignore the incoming i value and use our order instead\r\n        i = d.order;\r\n        return i * theGap + theTopPad - 2;\r\n      })\r\n      .attr('width', function () {\r\n        return w - conf.rightPadding / 2;\r\n      })\r\n      .attr('height', theGap)\r\n      .attr('class', function (d) {\r\n        for (let i = 0; i < categories.length; i++) {\r\n          if (d.type === categories[i]) {\r\n            return 'section section' + (i % conf.numberSectionStyles);\r\n          }\r\n        }\r\n        return 'section section0';\r\n      });\r\n\r\n    // Draw the rects representing the tasks\r\n    const rectangles = svg.append('g').selectAll('rect').data(theArray).enter();\r\n\r\n    rectangles\r\n      .append('rect')\r\n      .attr('id', function (d) {\r\n        return d.id;\r\n      })\r\n      .attr('rx', 3)\r\n      .attr('ry', 3)\r\n      .attr('x', function (d) {\r\n        if (d.milestone) {\r\n          return (\r\n            timeScale(d.startTime) +\r\n            theSidePad +\r\n            0.5 * (timeScale(d.endTime) - timeScale(d.startTime)) -\r\n            0.5 * theBarHeight\r\n          );\r\n        }\r\n        return timeScale(d.startTime) + theSidePad;\r\n      })\r\n      .attr('y', function (d, i) {\r\n        // Ignore the incoming i value and use our order instead\r\n        i = d.order;\r\n        return i * theGap + theTopPad;\r\n      })\r\n      .attr('width', function (d) {\r\n        if (d.milestone) {\r\n          return theBarHeight;\r\n        }\r\n        return timeScale(d.renderEndTime || d.endTime) - timeScale(d.startTime);\r\n      })\r\n      .attr('height', theBarHeight)\r\n      .attr('transform-origin', function (d, i) {\r\n        // Ignore the incoming i value and use our order instead\r\n        i = d.order;\r\n\r\n        return (\r\n          (\r\n            timeScale(d.startTime) +\r\n            theSidePad +\r\n            0.5 * (timeScale(d.endTime) - timeScale(d.startTime))\r\n          ).toString() +\r\n          'px ' +\r\n          (i * theGap + theTopPad + 0.5 * theBarHeight).toString() +\r\n          'px'\r\n        );\r\n      })\r\n      .attr('class', function (d) {\r\n        const res = 'task';\r\n\r\n        let classStr = '';\r\n        if (d.classes.length > 0) {\r\n          classStr = d.classes.join(' ');\r\n        }\r\n\r\n        let secNum = 0;\r\n        for (let i = 0; i < categories.length; i++) {\r\n          if (d.type === categories[i]) {\r\n            secNum = i % conf.numberSectionStyles;\r\n          }\r\n        }\r\n\r\n        let taskClass = '';\r\n        if (d.active) {\r\n          if (d.crit) {\r\n            taskClass += ' activeCrit';\r\n          } else {\r\n            taskClass = ' active';\r\n          }\r\n        } else if (d.done) {\r\n          if (d.crit) {\r\n            taskClass = ' doneCrit';\r\n          } else {\r\n            taskClass = ' done';\r\n          }\r\n        } else {\r\n          if (d.crit) {\r\n            taskClass += ' crit';\r\n          }\r\n        }\r\n\r\n        if (taskClass.length === 0) {\r\n          taskClass = ' task';\r\n        }\r\n\r\n        if (d.milestone) {\r\n          taskClass = ' milestone ' + taskClass;\r\n        }\r\n\r\n        taskClass += secNum;\r\n\r\n        taskClass += ' ' + classStr;\r\n\r\n        return res + taskClass;\r\n      });\r\n\r\n    // Append task labels\r\n    rectangles\r\n      .append('text')\r\n      .attr('id', function (d) {\r\n        return d.id + '-text';\r\n      })\r\n      .text(function (d) {\r\n        return d.task;\r\n      })\r\n      .attr('font-size', conf.fontSize)\r\n      .attr('x', function (d) {\r\n        let startX = timeScale(d.startTime);\r\n        let endX = timeScale(d.renderEndTime || d.endTime);\r\n        if (d.milestone) {\r\n          startX += 0.5 * (timeScale(d.endTime) - timeScale(d.startTime)) - 0.5 * theBarHeight;\r\n        }\r\n        if (d.milestone) {\r\n          endX = startX + theBarHeight;\r\n        }\r\n        const textWidth = this.getBBox().width;\r\n\r\n        // Check id text width > width of rectangle\r\n        if (textWidth > endX - startX) {\r\n          if (endX + textWidth + 1.5 * conf.leftPadding > w) {\r\n            return startX + theSidePad - 5;\r\n          } else {\r\n            return endX + theSidePad + 5;\r\n          }\r\n        } else {\r\n          return (endX - startX) / 2 + startX + theSidePad;\r\n        }\r\n      })\r\n      .attr('y', function (d, i) {\r\n        // Ignore the incoming i value and use our order instead\r\n        i = d.order;\r\n        return i * theGap + conf.barHeight / 2 + (conf.fontSize / 2 - 2) + theTopPad;\r\n      })\r\n      .attr('text-height', theBarHeight)\r\n      .attr('class', function (d) {\r\n        const startX = timeScale(d.startTime);\r\n        let endX = timeScale(d.endTime);\r\n        if (d.milestone) {\r\n          endX = startX + theBarHeight;\r\n        }\r\n        const textWidth = this.getBBox().width;\r\n\r\n        let classStr = '';\r\n        if (d.classes.length > 0) {\r\n          classStr = d.classes.join(' ');\r\n        }\r\n\r\n        let secNum = 0;\r\n        for (let i = 0; i < categories.length; i++) {\r\n          if (d.type === categories[i]) {\r\n            secNum = i % conf.numberSectionStyles;\r\n          }\r\n        }\r\n\r\n        let taskType = '';\r\n        if (d.active) {\r\n          if (d.crit) {\r\n            taskType = 'activeCritText' + secNum;\r\n          } else {\r\n            taskType = 'activeText' + secNum;\r\n          }\r\n        }\r\n\r\n        if (d.done) {\r\n          if (d.crit) {\r\n            taskType = taskType + ' doneCritText' + secNum;\r\n          } else {\r\n            taskType = taskType + ' doneText' + secNum;\r\n          }\r\n        } else {\r\n          if (d.crit) {\r\n            taskType = taskType + ' critText' + secNum;\r\n          }\r\n        }\r\n\r\n        if (d.milestone) {\r\n          taskType += ' milestoneText';\r\n        }\r\n\r\n        // Check id text width > width of rectangle\r\n        if (textWidth > endX - startX) {\r\n          if (endX + textWidth + 1.5 * conf.leftPadding > w) {\r\n            return classStr + ' taskTextOutsideLeft taskTextOutside' + secNum + ' ' + taskType;\r\n          } else {\r\n            return (\r\n              classStr +\r\n              ' taskTextOutsideRight taskTextOutside' +\r\n              secNum +\r\n              ' ' +\r\n              taskType +\r\n              ' width-' +\r\n              textWidth\r\n            );\r\n          }\r\n        } else {\r\n          return classStr + ' taskText taskText' + secNum + ' ' + taskType + ' width-' + textWidth;\r\n        }\r\n      });\r\n  }\r\n\r\n  function makeGrid(theSidePad, theTopPad, w, h) {\r\n    let bottomXAxis = axisBottom(timeScale)\r\n      .tickSize(-h + theTopPad + conf.gridLineStartPadding)\r\n      .tickFormat(timeFormat(parser.yy.getAxisFormat() || conf.axisFormat || '%Y-%m-%d'));\r\n\r\n    svg\r\n      .append('g')\r\n      .attr('class', 'grid')\r\n      .attr('transform', 'translate(' + theSidePad + ', ' + (h - 50) + ')')\r\n      .call(bottomXAxis)\r\n      .selectAll('text')\r\n      .style('text-anchor', 'middle')\r\n      .attr('fill', '#000')\r\n      .attr('stroke', 'none')\r\n      .attr('font-size', 10)\r\n      .attr('dy', '1em');\r\n\r\n    if (ganttDb.topAxisEnabled() || conf.topAxis) {\r\n      let topXAxis = axisTop(timeScale)\r\n        .tickSize(-h + theTopPad + conf.gridLineStartPadding)\r\n        .tickFormat(timeFormat(parser.yy.getAxisFormat() || conf.axisFormat || '%Y-%m-%d'));\r\n\r\n      svg\r\n        .append('g')\r\n        .attr('class', 'grid')\r\n        .attr('transform', 'translate(' + theSidePad + ', ' + theTopPad + ')')\r\n        .call(topXAxis)\r\n        .selectAll('text')\r\n        .style('text-anchor', 'middle')\r\n        .attr('fill', '#000')\r\n        .attr('stroke', 'none')\r\n        .attr('font-size', 10);\r\n      // .attr('dy', '1em');\r\n    }\r\n  }\r\n\r\n  function vertLabels(theGap, theTopPad) {\r\n    const numOccurances = [];\r\n    let prevGap = 0;\r\n\r\n    for (let i = 0; i < categories.length; i++) {\r\n      numOccurances[i] = [categories[i], getCount(categories[i], catsUnfiltered)];\r\n    }\r\n\r\n    svg\r\n      .append('g') // without doing this, impossible to put grid lines behind text\r\n      .selectAll('text')\r\n      .data(numOccurances)\r\n      .enter()\r\n      .append(function (d) {\r\n        const rows = d[0].split(common.lineBreakRegex);\r\n        const dy = -(rows.length - 1) / 2;\r\n\r\n        const svgLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');\r\n        svgLabel.setAttribute('dy', dy + 'em');\r\n\r\n        for (let j = 0; j < rows.length; j++) {\r\n          const tspan = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');\r\n          tspan.setAttribute('alignment-baseline', 'central');\r\n          tspan.setAttribute('x', '10');\r\n          if (j > 0) tspan.setAttribute('dy', '1em');\r\n          tspan.textContent = rows[j];\r\n          svgLabel.appendChild(tspan);\r\n        }\r\n        return svgLabel;\r\n      })\r\n      .attr('x', 10)\r\n      .attr('y', function (d, i) {\r\n        if (i > 0) {\r\n          for (let j = 0; j < i; j++) {\r\n            prevGap += numOccurances[i - 1][1];\r\n            return (d[1] * theGap) / 2 + prevGap * theGap + theTopPad;\r\n          }\r\n        } else {\r\n          return (d[1] * theGap) / 2 + theTopPad;\r\n        }\r\n      })\r\n      .attr('font-size', conf.sectionFontSize)\r\n      .attr('font-size', conf.sectionFontSize)\r\n      .attr('class', function (d) {\r\n        for (let i = 0; i < categories.length; i++) {\r\n          if (d[0] === categories[i]) {\r\n            return 'sectionTitle sectionTitle' + (i % conf.numberSectionStyles);\r\n          }\r\n        }\r\n        return 'sectionTitle';\r\n      });\r\n  }\r\n\r\n  function drawToday(theSidePad, theTopPad, w, h) {\r\n    const todayMarker = ganttDb.getTodayMarker();\r\n    if (todayMarker === 'off') {\r\n      return;\r\n    }\r\n\r\n    const todayG = svg.append('g').attr('class', 'today');\r\n    const today = new Date();\r\n    const todayLine = todayG.append('line');\r\n\r\n    todayLine\r\n      .attr('x1', timeScale(today) + theSidePad)\r\n      .attr('x2', timeScale(today) + theSidePad)\r\n      .attr('y1', conf.titleTopMargin)\r\n      .attr('y2', h - conf.titleTopMargin)\r\n      .attr('class', 'today');\r\n\r\n    if (todayMarker !== '') {\r\n      todayLine.attr('style', todayMarker.replace(/,/g, ';'));\r\n    }\r\n  }\r\n\r\n  // from this stackexchange question: http://stackoverflow.com/questions/1890203/unique-for-arrays-in-javascript\r\n  function checkUnique(arr) {\r\n    const hash = {};\r\n    const result = [];\r\n    for (let i = 0, l = arr.length; i < l; ++i) {\r\n      if (!hash.hasOwnProperty(arr[i])) { // eslint-disable-line\r\n        // it works with objects! in FF, at least\r\n        hash[arr[i]] = true;\r\n        result.push(arr[i]);\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  // from this stackexchange question: http://stackoverflow.com/questions/14227981/count-how-many-strings-in-an-array-have-duplicates-in-the-same-array\r\n  function getCounts(arr) {\r\n    let i = arr.length; // const to loop over\r\n    const obj = {}; // obj to store results\r\n    while (i) {\r\n      obj[arr[--i]] = (obj[arr[i]] || 0) + 1; // count occurrences\r\n    }\r\n    return obj;\r\n  }\r\n\r\n  // get specific from everything\r\n  function getCount(word, arr) {\r\n    return getCounts(arr)[word] || 0;\r\n  }\r\n};\r\n\r\nexport default {\r\n  setConf,\r\n  draw,\r\n};\r\n","const getStyles = (options) =>\r\n  `\r\n  .mermaid-main-font {\r\n    font-family: \"trebuchet ms\", verdana, arial, sans-serif;\r\n    font-family: var(--mermaid-font-family);\r\n  }\r\n\r\n  .section {\r\n    stroke: none;\r\n    opacity: 0.2;\r\n  }\r\n\r\n  .section0 {\r\n    fill: ${options.sectionBkgColor};\r\n  }\r\n\r\n  .section2 {\r\n    fill: ${options.sectionBkgColor2};\r\n  }\r\n\r\n  .section1,\r\n  .section3 {\r\n    fill: ${options.altSectionBkgColor};\r\n    opacity: 0.2;\r\n  }\r\n\r\n  .sectionTitle0 {\r\n    fill: ${options.titleColor};\r\n  }\r\n\r\n  .sectionTitle1 {\r\n    fill: ${options.titleColor};\r\n  }\r\n\r\n  .sectionTitle2 {\r\n    fill: ${options.titleColor};\r\n  }\r\n\r\n  .sectionTitle3 {\r\n    fill: ${options.titleColor};\r\n  }\r\n\r\n  .sectionTitle {\r\n    text-anchor: start;\r\n    // font-size: ${options.ganttFontSize};\r\n    // text-height: 14px;\r\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\r\n    font-family: var(--mermaid-font-family);\r\n\r\n  }\r\n\r\n\r\n  /* Grid and axis */\r\n\r\n  .grid .tick {\r\n    stroke: ${options.gridColor};\r\n    opacity: 0.8;\r\n    shape-rendering: crispEdges;\r\n    text {\r\n      font-family: ${options.fontFamily};\r\n      fill: ${options.textColor};\r\n    }\r\n  }\r\n\r\n  .grid path {\r\n    stroke-width: 0;\r\n  }\r\n\r\n\r\n  /* Today line */\r\n\r\n  .today {\r\n    fill: none;\r\n    stroke: ${options.todayLineColor};\r\n    stroke-width: 2px;\r\n  }\r\n\r\n\r\n  /* Task styling */\r\n\r\n  /* Default task */\r\n\r\n  .task {\r\n    stroke-width: 2;\r\n  }\r\n\r\n  .taskText {\r\n    text-anchor: middle;\r\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\r\n    font-family: var(--mermaid-font-family);\r\n  }\r\n\r\n  // .taskText:not([font-size]) {\r\n  //   font-size: ${options.ganttFontSize};\r\n  // }\r\n\r\n  .taskTextOutsideRight {\r\n    fill: ${options.taskTextDarkColor};\r\n    text-anchor: start;\r\n    // font-size: ${options.ganttFontSize};\r\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\r\n    font-family: var(--mermaid-font-family);\r\n\r\n  }\r\n\r\n  .taskTextOutsideLeft {\r\n    fill: ${options.taskTextDarkColor};\r\n    text-anchor: end;\r\n    // font-size: ${options.ganttFontSize};\r\n  }\r\n\r\n  /* Special case clickable */\r\n  .task.clickable {\r\n    cursor: pointer;\r\n  }\r\n  .taskText.clickable {\r\n    cursor: pointer;\r\n    fill: ${options.taskTextClickableColor} !important;\r\n    font-weight: bold;\r\n  }\r\n\r\n  .taskTextOutsideLeft.clickable {\r\n    cursor: pointer;\r\n    fill: ${options.taskTextClickableColor} !important;\r\n    font-weight: bold;\r\n  }\r\n\r\n  .taskTextOutsideRight.clickable {\r\n    cursor: pointer;\r\n    fill: ${options.taskTextClickableColor} !important;\r\n    font-weight: bold;\r\n  }\r\n\r\n  /* Specific task settings for the sections*/\r\n\r\n  .taskText0,\r\n  .taskText1,\r\n  .taskText2,\r\n  .taskText3 {\r\n    fill: ${options.taskTextColor};\r\n  }\r\n\r\n  .task0,\r\n  .task1,\r\n  .task2,\r\n  .task3 {\r\n    fill: ${options.taskBkgColor};\r\n    stroke: ${options.taskBorderColor};\r\n  }\r\n\r\n  .taskTextOutside0,\r\n  .taskTextOutside2\r\n  {\r\n    fill: ${options.taskTextOutsideColor};\r\n  }\r\n\r\n  .taskTextOutside1,\r\n  .taskTextOutside3 {\r\n    fill: ${options.taskTextOutsideColor};\r\n  }\r\n\r\n\r\n  /* Active task */\r\n\r\n  .active0,\r\n  .active1,\r\n  .active2,\r\n  .active3 {\r\n    fill: ${options.activeTaskBkgColor};\r\n    stroke: ${options.activeTaskBorderColor};\r\n  }\r\n\r\n  .activeText0,\r\n  .activeText1,\r\n  .activeText2,\r\n  .activeText3 {\r\n    fill: ${options.taskTextDarkColor} !important;\r\n  }\r\n\r\n\r\n  /* Completed task */\r\n\r\n  .done0,\r\n  .done1,\r\n  .done2,\r\n  .done3 {\r\n    stroke: ${options.doneTaskBorderColor};\r\n    fill: ${options.doneTaskBkgColor};\r\n    stroke-width: 2;\r\n  }\r\n\r\n  .doneText0,\r\n  .doneText1,\r\n  .doneText2,\r\n  .doneText3 {\r\n    fill: ${options.taskTextDarkColor} !important;\r\n  }\r\n\r\n\r\n  /* Tasks on the critical line */\r\n\r\n  .crit0,\r\n  .crit1,\r\n  .crit2,\r\n  .crit3 {\r\n    stroke: ${options.critBorderColor};\r\n    fill: ${options.critBkgColor};\r\n    stroke-width: 2;\r\n  }\r\n\r\n  .activeCrit0,\r\n  .activeCrit1,\r\n  .activeCrit2,\r\n  .activeCrit3 {\r\n    stroke: ${options.critBorderColor};\r\n    fill: ${options.activeTaskBkgColor};\r\n    stroke-width: 2;\r\n  }\r\n\r\n  .doneCrit0,\r\n  .doneCrit1,\r\n  .doneCrit2,\r\n  .doneCrit3 {\r\n    stroke: ${options.critBorderColor};\r\n    fill: ${options.doneTaskBkgColor};\r\n    stroke-width: 2;\r\n    cursor: pointer;\r\n    shape-rendering: crispEdges;\r\n  }\r\n\r\n  .milestone {\r\n    transform: rotate(45deg) scale(0.8,0.8);\r\n  }\r\n\r\n  .milestoneText {\r\n    font-style: italic;\r\n  }\r\n  .doneCritText0,\r\n  .doneCritText1,\r\n  .doneCritText2,\r\n  .doneCritText3 {\r\n    fill: ${options.taskTextDarkColor} !important;\r\n  }\r\n\r\n  .activeCritText0,\r\n  .activeCritText1,\r\n  .activeCritText2,\r\n  .activeCritText3 {\r\n    fill: ${options.taskTextDarkColor} !important;\r\n  }\r\n\r\n  .titleText {\r\n    text-anchor: middle;\r\n    font-size: 18px;\r\n    fill: ${options.textColor}    ;\r\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\r\n    font-family: var(--mermaid-font-family);\r\n  }\r\n`;\r\n\r\nexport default getStyles;\r\n","import { log } from '../../logger';\r\nimport { random } from '../../utils';\r\nlet commits = {};\r\nlet head = null;\r\nlet branches = { master: head };\r\nlet curBranch = 'master';\r\nlet direction = 'LR';\r\nlet seq = 0;\r\n\r\nfunction getId() {\r\n  return random({ length: 7 });\r\n}\r\n\r\nfunction isfastforwardable(currentCommit, otherCommit) {\r\n  log.debug('Entering isfastforwardable:', currentCommit.id, otherCommit.id);\r\n  while (currentCommit.seq <= otherCommit.seq && currentCommit !== otherCommit) {\r\n    // only if other branch has more commits\r\n    if (otherCommit.parent == null) break;\r\n    if (Array.isArray(otherCommit.parent)) {\r\n      log.debug('In merge commit:', otherCommit.parent);\r\n      return (\r\n        isfastforwardable(currentCommit, commits[otherCommit.parent[0]]) ||\r\n        isfastforwardable(currentCommit, commits[otherCommit.parent[1]])\r\n      );\r\n    } else {\r\n      otherCommit = commits[otherCommit.parent];\r\n    }\r\n  }\r\n  log.debug(currentCommit.id, otherCommit.id);\r\n  return currentCommit.id === otherCommit.id;\r\n}\r\n\r\nfunction isReachableFrom(currentCommit, otherCommit) {\r\n  const currentSeq = currentCommit.seq;\r\n  const otherSeq = otherCommit.seq;\r\n  if (currentSeq > otherSeq) return isfastforwardable(otherCommit, currentCommit);\r\n  return false;\r\n}\r\n\r\nfunction uniqBy(list, fn) {\r\n  const recordMap = Object.create(null);\r\n  return list.reduce((out, item) => {\r\n    const key = fn(item);\r\n    if (!recordMap[key]) {\r\n      recordMap[key] = true;\r\n      out.push(item);\r\n    }\r\n    return out;\r\n  }, []);\r\n}\r\n\r\nexport const setDirection = function (dir) {\r\n  direction = dir;\r\n};\r\nlet options = {};\r\nexport const setOptions = function (rawOptString) {\r\n  log.debug('options str', rawOptString);\r\n  rawOptString = rawOptString && rawOptString.trim();\r\n  rawOptString = rawOptString || '{}';\r\n  try {\r\n    options = JSON.parse(rawOptString);\r\n  } catch (e) {\r\n    log.error('error while parsing gitGraph options', e.message);\r\n  }\r\n};\r\n\r\nexport const getOptions = function () {\r\n  return options;\r\n};\r\n\r\nexport const commit = function (msg) {\r\n  const commit = {\r\n    id: getId(),\r\n    message: msg,\r\n    seq: seq++,\r\n    parent: head == null ? null : head.id,\r\n  };\r\n  head = commit;\r\n  commits[commit.id] = commit;\r\n  branches[curBranch] = commit.id;\r\n  log.debug('in pushCommit ' + commit.id);\r\n};\r\n\r\nexport const branch = function (name) {\r\n  branches[name] = head != null ? head.id : null;\r\n  log.debug('in createBranch');\r\n};\r\n\r\nexport const merge = function (otherBranch) {\r\n  const currentCommit = commits[branches[curBranch]];\r\n  const otherCommit = commits[branches[otherBranch]];\r\n  if (isReachableFrom(currentCommit, otherCommit)) {\r\n    log.debug('Already merged');\r\n    return;\r\n  }\r\n  if (isfastforwardable(currentCommit, otherCommit)) {\r\n    branches[curBranch] = branches[otherBranch];\r\n    head = commits[branches[curBranch]];\r\n  } else {\r\n    // create merge commit\r\n    const commit = {\r\n      id: getId(),\r\n      message: 'merged branch ' + otherBranch + ' into ' + curBranch,\r\n      seq: seq++,\r\n      parent: [head == null ? null : head.id, branches[otherBranch]],\r\n    };\r\n    head = commit;\r\n    commits[commit.id] = commit;\r\n    branches[curBranch] = commit.id;\r\n  }\r\n  log.debug(branches);\r\n  log.debug('in mergeBranch');\r\n};\r\n\r\nexport const checkout = function (branch) {\r\n  log.debug('in checkout');\r\n  curBranch = branch;\r\n  const id = branches[curBranch];\r\n  head = commits[id];\r\n};\r\n\r\nexport const reset = function (commitRef) {\r\n  log.debug('in reset', commitRef);\r\n  const ref = commitRef.split(':')[0];\r\n  let parentCount = parseInt(commitRef.split(':')[1]);\r\n  let commit = ref === 'HEAD' ? head : commits[branches[ref]];\r\n  log.debug(commit, parentCount);\r\n  while (parentCount > 0) {\r\n    commit = commits[commit.parent];\r\n    parentCount--;\r\n    if (!commit) {\r\n      const err = 'Critical error - unique parent commit not found during reset';\r\n      log.error(err);\r\n      throw err;\r\n    }\r\n  }\r\n  head = commit;\r\n  branches[curBranch] = commit.id;\r\n};\r\n\r\nfunction upsert(arr, key, newval) {\r\n  const index = arr.indexOf(key);\r\n  if (index === -1) {\r\n    arr.push(newval);\r\n  } else {\r\n    arr.splice(index, 1, newval);\r\n  }\r\n}\r\n\r\nfunction prettyPrintCommitHistory(commitArr) {\r\n  const commit = commitArr.reduce((out, commit) => {\r\n    if (out.seq > commit.seq) return out;\r\n    return commit;\r\n  }, commitArr[0]);\r\n  let line = '';\r\n  commitArr.forEach(function (c) {\r\n    if (c === commit) {\r\n      line += '\\t*';\r\n    } else {\r\n      line += '\\t|';\r\n    }\r\n  });\r\n  const label = [line, commit.id, commit.seq];\r\n  for (let branch in branches) {\r\n    if (branches[branch] === commit.id) label.push(branch);\r\n  }\r\n  log.debug(label.join(' '));\r\n  if (Array.isArray(commit.parent)) {\r\n    const newCommit = commits[commit.parent[0]];\r\n    upsert(commitArr, commit, newCommit);\r\n    commitArr.push(commits[commit.parent[1]]);\r\n  } else if (commit.parent == null) {\r\n    return;\r\n  } else {\r\n    const nextCommit = commits[commit.parent];\r\n    upsert(commitArr, commit, nextCommit);\r\n  }\r\n  commitArr = uniqBy(commitArr, (c) => c.id);\r\n  prettyPrintCommitHistory(commitArr);\r\n}\r\n\r\nexport const prettyPrint = function () {\r\n  log.debug(commits);\r\n  const node = getCommitsArray()[0];\r\n  prettyPrintCommitHistory([node]);\r\n};\r\n\r\nexport const clear = function () {\r\n  commits = {};\r\n  head = null;\r\n  branches = { master: head };\r\n  curBranch = 'master';\r\n  seq = 0;\r\n};\r\n\r\nexport const getBranchesAsObjArray = function () {\r\n  const branchArr = [];\r\n  for (let branch in branches) {\r\n    branchArr.push({ name: branch, commit: commits[branches[branch]] });\r\n  }\r\n  return branchArr;\r\n};\r\n\r\nexport const getBranches = function () {\r\n  return branches;\r\n};\r\nexport const getCommits = function () {\r\n  return commits;\r\n};\r\nexport const getCommitsArray = function () {\r\n  const commitArr = Object.keys(commits).map(function (key) {\r\n    return commits[key];\r\n  });\r\n  commitArr.forEach(function (o) {\r\n    log.debug(o.id);\r\n  });\r\n  commitArr.sort((a, b) => b.seq - a.seq);\r\n  return commitArr;\r\n};\r\nexport const getCurrentBranch = function () {\r\n  return curBranch;\r\n};\r\nexport const getDirection = function () {\r\n  return direction;\r\n};\r\nexport const getHead = function () {\r\n  return head;\r\n};\r\n\r\nexport default {\r\n  setDirection,\r\n  setOptions,\r\n  getOptions,\r\n  commit,\r\n  branch,\r\n  merge,\r\n  checkout,\r\n  reset,\r\n  prettyPrint,\r\n  clear,\r\n  getBranchesAsObjArray,\r\n  getBranches,\r\n  getCommits,\r\n  getCommitsArray,\r\n  getCurrentBranch,\r\n  getDirection,\r\n  getHead,\r\n};\r\n","import { curveBasis, line, select } from 'd3';\r\n\r\nimport db from './gitGraphAst';\r\nimport gitGraphParser from './parser/gitGraph';\r\nimport { log } from '../../logger';\r\nimport { interpolateToCurve } from '../../utils';\r\n\r\nlet allCommitsDict = {};\r\nlet branchNum;\r\nlet config = {\r\n  nodeSpacing: 150,\r\n  nodeFillColor: 'yellow',\r\n  nodeStrokeWidth: 2,\r\n  nodeStrokeColor: 'grey',\r\n  lineStrokeWidth: 4,\r\n  branchOffset: 50,\r\n  lineColor: 'grey',\r\n  leftMargin: 50,\r\n  branchColors: ['#442f74', '#983351', '#609732', '#AA9A39'],\r\n  nodeRadius: 10,\r\n  nodeLabel: {\r\n    width: 75,\r\n    height: 100,\r\n    x: -25,\r\n    y: 0,\r\n  },\r\n};\r\nlet apiConfig = {};\r\nexport const setConf = function (c) {\r\n  apiConfig = c;\r\n};\r\n\r\nfunction svgCreateDefs(svg) {\r\n  svg\r\n    .append('defs')\r\n    .append('g')\r\n    .attr('id', 'def-commit')\r\n    .append('circle')\r\n    .attr('r', config.nodeRadius)\r\n    .attr('cx', 0)\r\n    .attr('cy', 0);\r\n  svg\r\n    .select('#def-commit')\r\n    .append('foreignObject')\r\n    .attr('width', config.nodeLabel.width)\r\n    .attr('height', config.nodeLabel.height)\r\n    .attr('x', config.nodeLabel.x)\r\n    .attr('y', config.nodeLabel.y)\r\n    .attr('class', 'node-label')\r\n    .attr('requiredFeatures', 'http://www.w3.org/TR/SVG11/feature#Extensibility')\r\n    .append('p')\r\n    .html('');\r\n}\r\n\r\nfunction svgDrawLine(svg, points, colorIdx, interpolate) {\r\n  const curve = interpolateToCurve(interpolate, curveBasis);\r\n  const color = config.branchColors[colorIdx % config.branchColors.length];\r\n  const lineGen = line()\r\n    .x(function (d) {\r\n      return Math.round(d.x);\r\n    })\r\n    .y(function (d) {\r\n      return Math.round(d.y);\r\n    })\r\n    .curve(curve);\r\n\r\n  svg\r\n    .append('svg:path')\r\n    .attr('d', lineGen(points))\r\n    .style('stroke', color)\r\n    .style('stroke-width', config.lineStrokeWidth)\r\n    .style('fill', 'none');\r\n}\r\n\r\n// Pass in the element and its pre-transform coords\r\nfunction getElementCoords(element, coords) {\r\n  coords = coords || element.node().getBBox();\r\n  const ctm = element.node().getCTM();\r\n  const xn = ctm.e + coords.x * ctm.a;\r\n  const yn = ctm.f + coords.y * ctm.d;\r\n  return {\r\n    left: xn,\r\n    top: yn,\r\n    width: coords.width,\r\n    height: coords.height,\r\n  };\r\n}\r\n\r\nfunction svgDrawLineForCommits(svg, fromId, toId, direction, color) {\r\n  log.debug('svgDrawLineForCommits: ', fromId, toId);\r\n  const fromBbox = getElementCoords(svg.select('#node-' + fromId + ' circle'));\r\n  const toBbox = getElementCoords(svg.select('#node-' + toId + ' circle'));\r\n  switch (direction) {\r\n    case 'LR':\r\n      // (toBbox)\r\n      //  +--------\r\n      //          + (fromBbox)\r\n      if (fromBbox.left - toBbox.left > config.nodeSpacing) {\r\n        const lineStart = {\r\n          x: fromBbox.left - config.nodeSpacing,\r\n          y: toBbox.top + toBbox.height / 2,\r\n        };\r\n        const lineEnd = { x: toBbox.left + toBbox.width, y: toBbox.top + toBbox.height / 2 };\r\n        svgDrawLine(svg, [lineStart, lineEnd], color, 'linear');\r\n        svgDrawLine(\r\n          svg,\r\n          [\r\n            { x: fromBbox.left, y: fromBbox.top + fromBbox.height / 2 },\r\n            { x: fromBbox.left - config.nodeSpacing / 2, y: fromBbox.top + fromBbox.height / 2 },\r\n            { x: fromBbox.left - config.nodeSpacing / 2, y: lineStart.y },\r\n            lineStart,\r\n          ],\r\n          color\r\n        );\r\n      } else {\r\n        svgDrawLine(\r\n          svg,\r\n          [\r\n            {\r\n              x: fromBbox.left,\r\n              y: fromBbox.top + fromBbox.height / 2,\r\n            },\r\n            {\r\n              x: fromBbox.left - config.nodeSpacing / 2,\r\n              y: fromBbox.top + fromBbox.height / 2,\r\n            },\r\n            {\r\n              x: fromBbox.left - config.nodeSpacing / 2,\r\n              y: toBbox.top + toBbox.height / 2,\r\n            },\r\n            {\r\n              x: toBbox.left + toBbox.width,\r\n              y: toBbox.top + toBbox.height / 2,\r\n            },\r\n          ],\r\n          color\r\n        );\r\n      }\r\n      break;\r\n    case 'BT':\r\n      //      +           (fromBbox)\r\n      //      |\r\n      //      |\r\n      //              +   (toBbox)\r\n      if (toBbox.top - fromBbox.top > config.nodeSpacing) {\r\n        const lineStart = {\r\n          x: toBbox.left + toBbox.width / 2,\r\n          y: fromBbox.top + fromBbox.height + config.nodeSpacing,\r\n        };\r\n        const lineEnd = { x: toBbox.left + toBbox.width / 2, y: toBbox.top };\r\n        svgDrawLine(svg, [lineStart, lineEnd], color, 'linear');\r\n        svgDrawLine(\r\n          svg,\r\n          [\r\n            { x: fromBbox.left + fromBbox.width / 2, y: fromBbox.top + fromBbox.height },\r\n            {\r\n              x: fromBbox.left + fromBbox.width / 2,\r\n              y: fromBbox.top + fromBbox.height + config.nodeSpacing / 2,\r\n            },\r\n            { x: toBbox.left + toBbox.width / 2, y: lineStart.y - config.nodeSpacing / 2 },\r\n            lineStart,\r\n          ],\r\n          color\r\n        );\r\n      } else {\r\n        svgDrawLine(\r\n          svg,\r\n          [\r\n            {\r\n              x: fromBbox.left + fromBbox.width / 2,\r\n              y: fromBbox.top + fromBbox.height,\r\n            },\r\n            {\r\n              x: fromBbox.left + fromBbox.width / 2,\r\n              y: fromBbox.top + config.nodeSpacing / 2,\r\n            },\r\n            {\r\n              x: toBbox.left + toBbox.width / 2,\r\n              y: toBbox.top - config.nodeSpacing / 2,\r\n            },\r\n            {\r\n              x: toBbox.left + toBbox.width / 2,\r\n              y: toBbox.top,\r\n            },\r\n          ],\r\n          color\r\n        );\r\n      }\r\n      break;\r\n  }\r\n}\r\n\r\nfunction cloneNode(svg, selector) {\r\n  return svg.select(selector).node().cloneNode(true);\r\n}\r\n\r\nfunction renderCommitHistory(svg, commitid, branches, direction) {\r\n  let commit;\r\n  const numCommits = Object.keys(allCommitsDict).length;\r\n  if (typeof commitid === 'string') {\r\n    do {\r\n      commit = allCommitsDict[commitid];\r\n      log.debug('in renderCommitHistory', commit.id, commit.seq);\r\n      if (svg.select('#node-' + commitid).size() > 0) {\r\n        return;\r\n      }\r\n      svg\r\n        .append(function () {\r\n          return cloneNode(svg, '#def-commit');\r\n        })\r\n        .attr('class', 'commit')\r\n        .attr('id', function () {\r\n          return 'node-' + commit.id;\r\n        })\r\n        .attr('transform', function () {\r\n          switch (direction) {\r\n            case 'LR':\r\n              return (\r\n                'translate(' +\r\n                (commit.seq * config.nodeSpacing + config.leftMargin) +\r\n                ', ' +\r\n                branchNum * config.branchOffset +\r\n                ')'\r\n              );\r\n            case 'BT':\r\n              return (\r\n                'translate(' +\r\n                (branchNum * config.branchOffset + config.leftMargin) +\r\n                ', ' +\r\n                (numCommits - commit.seq) * config.nodeSpacing +\r\n                ')'\r\n              );\r\n          }\r\n        })\r\n        .attr('fill', config.nodeFillColor)\r\n        .attr('stroke', config.nodeStrokeColor)\r\n        .attr('stroke-width', config.nodeStrokeWidth);\r\n\r\n      let branch;\r\n      for (let branchName in branches) {\r\n        if (branches[branchName].commit === commit) {\r\n          branch = branches[branchName];\r\n          break;\r\n        }\r\n      }\r\n      if (branch) {\r\n        log.debug('found branch ', branch.name);\r\n        svg\r\n          .select('#node-' + commit.id + ' p')\r\n          .append('xhtml:span')\r\n          .attr('class', 'branch-label')\r\n          .text(branch.name + ', ');\r\n      }\r\n      svg\r\n        .select('#node-' + commit.id + ' p')\r\n        .append('xhtml:span')\r\n        .attr('class', 'commit-id')\r\n        .text(commit.id);\r\n      if (commit.message !== '' && direction === 'BT') {\r\n        svg\r\n          .select('#node-' + commit.id + ' p')\r\n          .append('xhtml:span')\r\n          .attr('class', 'commit-msg')\r\n          .text(', ' + commit.message);\r\n      }\r\n      commitid = commit.parent;\r\n    } while (commitid && allCommitsDict[commitid]);\r\n  }\r\n\r\n  if (Array.isArray(commitid)) {\r\n    log.debug('found merge commmit', commitid);\r\n    renderCommitHistory(svg, commitid[0], branches, direction);\r\n    branchNum++;\r\n    renderCommitHistory(svg, commitid[1], branches, direction);\r\n    branchNum--;\r\n  }\r\n}\r\n\r\nfunction renderLines(svg, commit, direction, branchColor) {\r\n  branchColor = branchColor || 0;\r\n  while (commit.seq > 0 && !commit.lineDrawn) {\r\n    if (typeof commit.parent === 'string') {\r\n      svgDrawLineForCommits(svg, commit.id, commit.parent, direction, branchColor);\r\n      commit.lineDrawn = true;\r\n      commit = allCommitsDict[commit.parent];\r\n    } else if (Array.isArray(commit.parent)) {\r\n      svgDrawLineForCommits(svg, commit.id, commit.parent[0], direction, branchColor);\r\n      svgDrawLineForCommits(svg, commit.id, commit.parent[1], direction, branchColor + 1);\r\n      renderLines(svg, allCommitsDict[commit.parent[1]], direction, branchColor + 1);\r\n      commit.lineDrawn = true;\r\n      commit = allCommitsDict[commit.parent[0]];\r\n    }\r\n  }\r\n}\r\n\r\nexport const draw = function (txt, id, ver) {\r\n  try {\r\n    const parser = gitGraphParser.parser;\r\n    parser.yy = db;\r\n    parser.yy.clear();\r\n\r\n    log.debug('in gitgraph renderer', txt + '\\n', 'id:', id, ver);\r\n    // Parse the graph definition\r\n    parser.parse(txt + '\\n');\r\n\r\n    config = Object.assign(config, apiConfig, db.getOptions());\r\n    log.debug('effective options', config);\r\n    const direction = db.getDirection();\r\n    allCommitsDict = db.getCommits();\r\n    const branches = db.getBranchesAsObjArray();\r\n    if (direction === 'BT') {\r\n      config.nodeLabel.x = branches.length * config.branchOffset;\r\n      config.nodeLabel.width = '100%';\r\n      config.nodeLabel.y = -1 * 2 * config.nodeRadius;\r\n    }\r\n    const svg = select(`[id=\"${id}\"]`);\r\n    svgCreateDefs(svg);\r\n    branchNum = 1;\r\n    for (let branch in branches) {\r\n      const v = branches[branch];\r\n      renderCommitHistory(svg, v.commit.id, branches, direction);\r\n      renderLines(svg, v.commit, direction);\r\n      branchNum++;\r\n    }\r\n    svg.attr('height', function () {\r\n      if (direction === 'BT') return Object.keys(allCommitsDict).length * config.nodeSpacing;\r\n      return (branches.length + 1) * config.branchOffset;\r\n    });\r\n  } catch (e) {\r\n    log.error('Error while rendering gitgraph');\r\n    log.error(e.message);\r\n  }\r\n};\r\n\r\nexport default {\r\n  setConf,\r\n  draw,\r\n};\r\n","const getStyles = () =>\r\n  `\r\n  .commit-id,\r\n  .commit-msg,\r\n  .branch-label {\r\n    fill: lightgrey;\r\n    color: lightgrey;\r\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\r\n    font-family: var(--mermaid-font-family);\r\n  }\r\n`;\r\n\r\nexport default getStyles;\r\n","/**\r\n * Created by knut on 15-01-14.\r\n */\r\nimport { log } from '../../logger';\r\n\r\nvar message = '';\r\nvar info = false;\r\n\r\nexport const setMessage = (txt) => {\r\n  log.debug('Setting message to: ' + txt);\r\n  message = txt;\r\n};\r\n\r\nexport const getMessage = () => {\r\n  return message;\r\n};\r\n\r\nexport const setInfo = (inf) => {\r\n  info = inf;\r\n};\r\n\r\nexport const getInfo = () => {\r\n  return info;\r\n};\r\n\r\n// export const parseError = (err, hash) => {\r\n//   global.mermaidAPI.parseError(err, hash)\r\n// }\r\n\r\nexport default {\r\n  setMessage,\r\n  getMessage,\r\n  setInfo,\r\n  getInfo,\r\n  // parseError\r\n};\r\n","/**\r\n * Created by knut on 14-12-11.\r\n */\r\nimport { select } from 'd3';\r\nimport db from './infoDb';\r\nimport infoParser from './parser/info';\r\nimport { log } from '../../logger';\r\n\r\nconst conf = {};\r\nexport const setConf = function (cnf) {\r\n  const keys = Object.keys(cnf);\r\n\r\n  keys.forEach(function (key) {\r\n    conf[key] = cnf[key];\r\n  });\r\n};\r\n\r\n/**\r\n * Draws a an info picture in the tag with id: id based on the graph definition in text.\r\n * @param text\r\n * @param id\r\n */\r\nexport const draw = (txt, id, ver) => {\r\n  try {\r\n    const parser = infoParser.parser;\r\n    parser.yy = db;\r\n    log.debug('Renering info diagram\\n' + txt);\r\n    // Parse the graph definition\r\n    parser.parse(txt);\r\n    log.debug('Parsed info diagram');\r\n    // Fetch the default direction, use TD if none was found\r\n    const svg = select('#' + id);\r\n\r\n    const g = svg.append('g');\r\n\r\n    g.append('text') // text label for the x axis\r\n      .attr('x', 100)\r\n      .attr('y', 40)\r\n      .attr('class', 'version')\r\n      .attr('font-size', '32px')\r\n      .style('text-anchor', 'middle')\r\n      .text('v ' + ver);\r\n\r\n    svg.attr('height', 100);\r\n    svg.attr('width', 400);\r\n    // svg.attr('viewBox', '0 0 300 150');\r\n  } catch (e) {\r\n    log.error('Error while rendering info diagram');\r\n    log.error(e.message);\r\n  }\r\n};\r\n\r\nexport default {\r\n  setConf,\r\n  draw,\r\n};\r\n","const getStyles = () => ``;\r\n\r\nexport default getStyles;\r\n","/**\r\n *\r\n */\r\nimport { log } from '../../logger';\r\nimport mermaidAPI from '../../mermaidAPI';\r\nimport * as configApi from '../../config';\r\n\r\nlet sections = {};\r\nlet title = '';\r\nlet showData = false;\r\n\r\nexport const parseDirective = function (statement, context, type) {\r\n  mermaidAPI.parseDirective(this, statement, context, type);\r\n};\r\n\r\nconst addSection = function (id, value) {\r\n  if (typeof sections[id] === 'undefined') {\r\n    sections[id] = value;\r\n    log.debug('Added new section :', id);\r\n  }\r\n};\r\nconst getSections = () => sections;\r\n\r\nconst setTitle = function (txt) {\r\n  title = txt;\r\n};\r\n\r\nconst setShowData = function (toggle) {\r\n  showData = toggle;\r\n};\r\n\r\nconst getShowData = function () {\r\n  return showData;\r\n};\r\n\r\nconst getTitle = function () {\r\n  return title;\r\n};\r\nconst cleanupValue = function (value) {\r\n  if (value.substring(0, 1) === ':') {\r\n    value = value.substring(1).trim();\r\n    return Number(value.trim());\r\n  } else {\r\n    return Number(value.trim());\r\n  }\r\n};\r\n\r\nconst clear = function () {\r\n  sections = {};\r\n  title = '';\r\n  showData = false;\r\n};\r\n// export const parseError = (err, hash) => {\r\n//   global.mermaidAPI.parseError(err, hash)\r\n// }\r\n\r\nexport default {\r\n  parseDirective,\r\n  getConfig: () => configApi.getConfig().pie,\r\n  addSection,\r\n  getSections,\r\n  cleanupValue,\r\n  clear,\r\n  setTitle,\r\n  getTitle,\r\n  setShowData,\r\n  getShowData,\r\n  // parseError\r\n};\r\n","/**\r\n * Created by AshishJ on 11-09-2019.\r\n */\r\nimport { select, scaleOrdinal, pie as d3pie, arc } from 'd3';\r\nimport pieData from './pieDb';\r\nimport pieParser from './parser/pie';\r\nimport { log } from '../../logger';\r\nimport { configureSvgSize } from '../../utils';\r\nimport * as configApi from '../../config';\r\n\r\nlet conf = configApi.getConfig();\r\n\r\n/**\r\n * Draws a Pie Chart with the data given in text.\r\n * @param text\r\n * @param id\r\n */\r\nlet width;\r\nconst height = 450;\r\nexport const draw = (txt, id) => {\r\n  try {\r\n    conf = configApi.getConfig();\r\n    const parser = pieParser.parser;\r\n    parser.yy = pieData;\r\n    log.debug('Rendering info diagram\\n' + txt);\r\n    // Parse the Pie Chart definition\r\n    parser.yy.clear();\r\n    parser.parse(txt);\r\n    log.debug('Parsed info diagram');\r\n    const elem = document.getElementById(id);\r\n    width = elem.parentElement.offsetWidth;\r\n\r\n    if (typeof width === 'undefined') {\r\n      width = 1200;\r\n    }\r\n\r\n    if (typeof conf.useWidth !== 'undefined') {\r\n      width = conf.useWidth;\r\n    }\r\n    if (typeof conf.pie.useWidth !== 'undefined') {\r\n      width = conf.pie.useWidth;\r\n    }\r\n\r\n    const diagram = select('#' + id);\r\n    configureSvgSize(diagram, height, width, conf.pie.useMaxWidth);\r\n\r\n    // Set viewBox\r\n    elem.setAttribute('viewBox', '0 0 ' + width + ' ' + height);\r\n\r\n    // Fetch the default direction, use TD if none was found\r\n    var margin = 40;\r\n    var legendRectSize = 18;\r\n    var legendSpacing = 4;\r\n\r\n    var radius = Math.min(width, height) / 2 - margin;\r\n\r\n    var svg = diagram\r\n      .append('g')\r\n      .attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')');\r\n\r\n    var data = pieData.getSections();\r\n    var sum = 0;\r\n    Object.keys(data).forEach(function (key) {\r\n      sum += data[key];\r\n    });\r\n\r\n    const themeVariables = conf.themeVariables;\r\n    var myGeneratedColors = [\r\n      themeVariables.pie1,\r\n      themeVariables.pie2,\r\n      themeVariables.pie3,\r\n      themeVariables.pie4,\r\n      themeVariables.pie5,\r\n      themeVariables.pie6,\r\n      themeVariables.pie7,\r\n      themeVariables.pie8,\r\n      themeVariables.pie9,\r\n      themeVariables.pie10,\r\n      themeVariables.pie11,\r\n      themeVariables.pie12,\r\n    ];\r\n\r\n    // Set the color scale\r\n    var color = scaleOrdinal().range(myGeneratedColors);\r\n\r\n    // Compute the position of each group on the pie:\r\n    var pie = d3pie().value(function (d) {\r\n      return d[1];\r\n    });\r\n    var dataReady = pie(Object.entries(data));\r\n\r\n    // Shape helper to build arcs:\r\n    var arcGenerator = arc().innerRadius(0).outerRadius(radius);\r\n\r\n    // Build the pie chart: each part of the pie is a path that we build using the arc function.\r\n    svg\r\n      .selectAll('mySlices')\r\n      .data(dataReady)\r\n      .enter()\r\n      .append('path')\r\n      .attr('d', arcGenerator)\r\n      .attr('fill', function (d) {\r\n        return color(d.data[0]);\r\n      })\r\n      .attr('class', 'pieCircle');\r\n\r\n    // Now add the percentage.\r\n    // Use the centroid method to get the best coordinates.\r\n    svg\r\n      .selectAll('mySlices')\r\n      .data(dataReady)\r\n      .enter()\r\n      .append('text')\r\n      .text(function (d) {\r\n        return ((d.data[1] / sum) * 100).toFixed(0) + '%';\r\n      })\r\n      .attr('transform', function (d) {\r\n        return 'translate(' + arcGenerator.centroid(d) + ')';\r\n      })\r\n      .style('text-anchor', 'middle')\r\n      .attr('class', 'slice');\r\n\r\n    svg\r\n      .append('text')\r\n      .text(parser.yy.getTitle())\r\n      .attr('x', 0)\r\n      .attr('y', -(height - 50) / 2)\r\n      .attr('class', 'pieTitleText');\r\n\r\n    // Add the legends/annotations for each section\r\n    var legend = svg\r\n      .selectAll('.legend')\r\n      .data(color.domain())\r\n      .enter()\r\n      .append('g')\r\n      .attr('class', 'legend')\r\n      .attr('transform', function (d, i) {\r\n        var height = legendRectSize + legendSpacing;\r\n        var offset = (height * color.domain().length) / 2;\r\n        var horz = 12 * legendRectSize;\r\n        var vert = i * height - offset;\r\n        return 'translate(' + horz + ',' + vert + ')';\r\n      });\r\n\r\n    legend\r\n      .append('rect')\r\n      .attr('width', legendRectSize)\r\n      .attr('height', legendRectSize)\r\n      .style('fill', color)\r\n      .style('stroke', color);\r\n\r\n    legend\r\n      .data(dataReady)\r\n      .append('text')\r\n      .attr('x', legendRectSize + legendSpacing)\r\n      .attr('y', legendRectSize - legendSpacing)\r\n      .text(function (d) {\r\n        if (parser.yy.getShowData() || conf.showData || conf.pie.showData) {\r\n          return d.data[0] + ' [' + d.data[1] + ']';\r\n        } else {\r\n          return d.data[0];\r\n        }\r\n      });\r\n  } catch (e) {\r\n    log.error('Error while rendering info diagram');\r\n    log.error(e);\r\n  }\r\n};\r\n\r\nexport default {\r\n  draw,\r\n};\r\n","const getStyles = (options) =>\r\n  `\r\n  .pieCircle{\r\n    stroke: ${options.pieStrokeColor};\r\n    stroke-width : ${options.pieStrokeWidth};\r\n    opacity : ${options.pieOpacity};\r\n  }\r\n  .pieTitleText {\r\n    text-anchor: middle;\r\n    font-size: ${options.pieTitleTextSize};\r\n    fill: ${options.pieTitleTextColor};\r\n    font-family: ${options.fontFamily};\r\n  }\r\n  .slice {\r\n    font-family: ${options.fontFamily};\r\n    fill: ${options.pieSectionTextColor};\r\n    font-size:${options.pieSectionTextSize};\r\n    // fill: white;\r\n  }\r\n  .legend text {\r\n    fill: ${options.pieLegendTextColor};\r\n    font-family: ${options.fontFamily};\r\n    font-size: ${options.pieLegendTextSize};\r\n  }\r\n`;\r\n\r\nexport default getStyles;\r\n","import * as configApi from '../../config';\r\nimport { log } from '../../logger';\r\nimport mermaidAPI from '../../mermaidAPI';\r\n\r\nlet relations = [];\r\nlet latestRequirement = {};\r\nlet requirements = {};\r\nlet latestElement = {};\r\nlet elements = {};\r\n\r\nconst RequirementType = {\r\n  REQUIREMENT: 'Requirement',\r\n  FUNCTIONAL_REQUIREMENT: 'Functional Requirement',\r\n  INTERFACE_REQUIREMENT: 'Interface Requirement',\r\n  PERFORMANCE_REQUIREMENT: 'Performance Requirement',\r\n  PHYSICAL_REQUIREMENT: 'Physical Requirement',\r\n  DESIGN_CONSTRAINT: 'Design Constraint',\r\n};\r\n\r\nconst RiskLevel = {\r\n  LOW_RISK: 'Low',\r\n  MED_RISK: 'Medium',\r\n  HIGH_RISK: 'High',\r\n};\r\n\r\nconst VerifyType = {\r\n  VERIFY_ANALYSIS: 'Analysis',\r\n  VERIFY_DEMONSTRATION: 'Demonstration',\r\n  VERIFY_INSPECTION: 'Inspection',\r\n  VERIFY_TEST: 'Test',\r\n};\r\n\r\nconst Relationships = {\r\n  CONTAINS: 'contains',\r\n  COPIES: 'copies',\r\n  DERIVES: 'derives',\r\n  SATISFIES: 'satisfies',\r\n  VERIFIES: 'verifies',\r\n  REFINES: 'refines',\r\n  TRACES: 'traces',\r\n};\r\n\r\nexport const parseDirective = function (statement, context, type) {\r\n  mermaidAPI.parseDirective(this, statement, context, type);\r\n};\r\n\r\nconst addRequirement = (name, type) => {\r\n  if (typeof requirements[name] === 'undefined') {\r\n    requirements[name] = {\r\n      name,\r\n      type,\r\n\r\n      id: latestRequirement.id,\r\n      text: latestRequirement.text,\r\n      risk: latestRequirement.risk,\r\n      verifyMethod: latestRequirement.verifyMethod,\r\n    };\r\n  }\r\n  latestRequirement = {};\r\n\r\n  return requirements[name];\r\n};\r\n\r\nconst getRequirements = () => requirements;\r\n\r\nconst setNewReqId = (id) => {\r\n  if (typeof latestRequirement != 'undefined') {\r\n    latestRequirement.id = id;\r\n  }\r\n};\r\n\r\nconst setNewReqText = (text) => {\r\n  if (typeof latestRequirement != 'undefined') {\r\n    latestRequirement.text = text;\r\n  }\r\n};\r\n\r\nconst setNewReqRisk = (risk) => {\r\n  if (typeof latestRequirement != 'undefined') {\r\n    latestRequirement.risk = risk;\r\n  }\r\n};\r\n\r\nconst setNewReqVerifyMethod = (verifyMethod) => {\r\n  if (typeof latestRequirement != 'undefined') {\r\n    latestRequirement.verifyMethod = verifyMethod;\r\n  }\r\n};\r\n\r\nconst addElement = (name) => {\r\n  if (typeof elements[name] === 'undefined') {\r\n    elements[name] = {\r\n      name,\r\n\r\n      type: latestElement.type,\r\n      docRef: latestElement.docRef,\r\n    };\r\n    log.info('Added new requirement: ', name);\r\n  }\r\n  latestElement = {};\r\n\r\n  return elements[name];\r\n};\r\n\r\nconst getElements = () => elements;\r\n\r\nconst setNewElementType = (type) => {\r\n  if (typeof latestElement != 'undefined') {\r\n    latestElement.type = type;\r\n  }\r\n};\r\n\r\nconst setNewElementDocRef = (docRef) => {\r\n  if (typeof latestElement != 'undefined') {\r\n    latestElement.docRef = docRef;\r\n  }\r\n};\r\n\r\nconst addRelationship = (type, src, dst) => {\r\n  relations.push({\r\n    type,\r\n    src,\r\n    dst,\r\n  });\r\n};\r\n\r\nconst getRelationships = () => relations;\r\n\r\nconst clear = () => {\r\n  relations = [];\r\n  latestRequirement = {};\r\n  requirements = {};\r\n  latestElement = {};\r\n  elements = {};\r\n};\r\n\r\nexport default {\r\n  RequirementType,\r\n  RiskLevel,\r\n  VerifyType,\r\n  Relationships,\r\n\r\n  parseDirective,\r\n  getConfig: () => configApi.getConfig().req,\r\n\r\n  addRequirement,\r\n  getRequirements,\r\n  setNewReqId,\r\n  setNewReqText,\r\n  setNewReqRisk,\r\n  setNewReqVerifyMethod,\r\n\r\n  addElement,\r\n  getElements,\r\n  setNewElementType,\r\n  setNewElementDocRef,\r\n\r\n  addRelationship,\r\n  getRelationships,\r\n\r\n  clear,\r\n};\r\n","const ReqMarkers = {\r\n  CONTAINS: 'contains',\r\n  ARROW: 'arrow',\r\n};\r\n\r\nconst insertLineEndings = (parentNode, conf) => {\r\n  let containsNode = parentNode\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', ReqMarkers.CONTAINS + '_line_ending')\r\n    .attr('refX', 0)\r\n    .attr('refY', conf.line_height / 2)\r\n    .attr('markerWidth', conf.line_height)\r\n    .attr('markerHeight', conf.line_height)\r\n    .attr('orient', 'auto')\r\n    .append('g');\r\n\r\n  containsNode\r\n    .append('circle')\r\n    .attr('cx', conf.line_height / 2)\r\n    .attr('cy', conf.line_height / 2)\r\n    .attr('r', conf.line_height / 2)\r\n    // .attr('stroke', conf.rect_border_color)\r\n    // .attr('stroke-width', 1)\r\n    .attr('fill', 'none');\r\n\r\n  containsNode\r\n    .append('line')\r\n    .attr('x1', 0)\r\n    .attr('x2', conf.line_height)\r\n    .attr('y1', conf.line_height / 2)\r\n    .attr('y2', conf.line_height / 2)\r\n    // .attr('stroke', conf.rect_border_color)\r\n    .attr('stroke-width', 1);\r\n\r\n  containsNode\r\n    .append('line')\r\n    .attr('y1', 0)\r\n    .attr('y2', conf.line_height)\r\n    .attr('x1', conf.line_height / 2)\r\n    .attr('x2', conf.line_height / 2)\r\n    // .attr('stroke', conf.rect_border_color)\r\n    .attr('stroke-width', 1);\r\n\r\n  parentNode\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', ReqMarkers.ARROW + '_line_ending')\r\n    .attr('refX', conf.line_height)\r\n    .attr('refY', 0.5 * conf.line_height)\r\n    .attr('markerWidth', conf.line_height)\r\n    .attr('markerHeight', conf.line_height)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr(\r\n      'd',\r\n      `M0,0\r\n      L${conf.line_height},${conf.line_height / 2}\r\n      M${conf.line_height},${conf.line_height / 2}\r\n      L0,${conf.line_height}`\r\n    )\r\n    .attr('stroke-width', 1);\r\n  // .attr('stroke', conf.rect_border_color);\r\n};\r\n\r\nexport default {\r\n  ReqMarkers,\r\n  insertLineEndings,\r\n};\r\n","import { line, select } from 'd3';\r\nimport dagre from 'dagre';\r\nimport graphlib from 'graphlib';\r\n// import * as configApi from '../../config';\r\nimport { log } from '../../logger';\r\nimport { configureSvgSize } from '../../utils';\r\nimport common from '../common/common';\r\nimport { parser } from './parser/requirementDiagram';\r\nimport requirementDb from './requirementDb';\r\nimport markers from './requirementMarkers';\r\n\r\nconst conf = {};\r\nlet relCnt = 0;\r\n\r\nexport const setConf = function (cnf) {\r\n  if (typeof cnf === 'undefined') {\r\n    return;\r\n  }\r\n  const keys = Object.keys(cnf);\r\n  for (let i = 0; i < keys.length; i++) {\r\n    conf[keys[i]] = cnf[keys[i]];\r\n  }\r\n};\r\n\r\nconst newRectNode = (parentNode, id) => {\r\n  return parentNode\r\n    .insert('rect', '#' + id)\r\n    .attr('class', 'req reqBox')\r\n    .attr('x', 0)\r\n    .attr('y', 0)\r\n    .attr('width', conf.rect_min_width + 'px')\r\n    .attr('height', conf.rect_min_height + 'px');\r\n};\r\n\r\nconst newTitleNode = (parentNode, id, txts) => {\r\n  let x = conf.rect_min_width / 2;\r\n\r\n  let title = parentNode\r\n    .append('text')\r\n    .attr('class', 'req reqLabel reqTitle')\r\n    .attr('id', id)\r\n    .attr('x', x)\r\n    .attr('y', conf.rect_padding)\r\n    .attr('dominant-baseline', 'hanging');\r\n  // .attr(\r\n  //   'style',\r\n  //   'font-family: ' + configApi.getConfig().fontFamily + '; font-size: ' + conf.fontSize + 'px'\r\n  // )\r\n  let i = 0;\r\n  txts.forEach((textStr) => {\r\n    if (i == 0) {\r\n      title\r\n        .append('tspan')\r\n        .attr('text-anchor', 'middle')\r\n        .attr('x', conf.rect_min_width / 2)\r\n        .attr('dy', 0)\r\n        .text(textStr);\r\n    } else {\r\n      title\r\n        .append('tspan')\r\n        .attr('text-anchor', 'middle')\r\n        .attr('x', conf.rect_min_width / 2)\r\n        .attr('dy', conf.line_height * 0.75)\r\n        .text(textStr);\r\n    }\r\n    i++;\r\n  });\r\n\r\n  let yPadding = 1.5 * conf.rect_padding;\r\n  let linePadding = i * conf.line_height * 0.75;\r\n  let totalY = yPadding + linePadding;\r\n\r\n  parentNode\r\n    .append('line')\r\n    .attr('class', 'req-title-line')\r\n    .attr('x1', '0')\r\n    .attr('x2', conf.rect_min_width)\r\n    .attr('y1', totalY)\r\n    .attr('y2', totalY);\r\n\r\n  return {\r\n    titleNode: title,\r\n    y: totalY,\r\n  };\r\n};\r\n\r\nconst newBodyNode = (parentNode, id, txts, yStart) => {\r\n  let body = parentNode\r\n    .append('text')\r\n    .attr('class', 'req reqLabel')\r\n    .attr('id', id)\r\n    .attr('x', conf.rect_padding)\r\n    .attr('y', yStart)\r\n    .attr('dominant-baseline', 'hanging');\r\n  // .attr(\r\n  //   'style',\r\n  //   'font-family: ' + configApi.getConfig().fontFamily + '; font-size: ' + conf.fontSize + 'px'\r\n  // );\r\n\r\n  let currentRow = 0;\r\n  const charLimit = 30;\r\n  let wrappedTxts = [];\r\n  txts.forEach((textStr) => {\r\n    let currentTextLen = textStr.length;\r\n    while (currentTextLen > charLimit && currentRow < 3) {\r\n      let firstPart = textStr.substring(0, charLimit);\r\n      textStr = textStr.substring(charLimit, textStr.length);\r\n      currentTextLen = textStr.length;\r\n      wrappedTxts[wrappedTxts.length] = firstPart;\r\n      currentRow++;\r\n    }\r\n    if (currentRow == 3) {\r\n      let lastStr = wrappedTxts[wrappedTxts.length - 1];\r\n      wrappedTxts[wrappedTxts.length - 1] = lastStr.substring(0, lastStr.length - 4) + '...';\r\n    } else {\r\n      wrappedTxts[wrappedTxts.length] = textStr;\r\n    }\r\n    currentRow = 0;\r\n  });\r\n\r\n  wrappedTxts.forEach((textStr) => {\r\n    body.append('tspan').attr('x', conf.rect_padding).attr('dy', conf.line_height).text(textStr);\r\n  });\r\n\r\n  return body;\r\n};\r\n\r\nconst addEdgeLabel = (parentNode, svgPath, conf, txt) => {\r\n  // Find the half-way point\r\n  const len = svgPath.node().getTotalLength();\r\n  const labelPoint = svgPath.node().getPointAtLength(len * 0.5);\r\n\r\n  // Append a text node containing the label\r\n  const labelId = 'rel' + relCnt;\r\n  relCnt++;\r\n\r\n  const labelNode = parentNode\r\n    .append('text')\r\n    .attr('class', 'req relationshipLabel')\r\n    .attr('id', labelId)\r\n    .attr('x', labelPoint.x)\r\n    .attr('y', labelPoint.y)\r\n    .attr('text-anchor', 'middle')\r\n    .attr('dominant-baseline', 'middle')\r\n    // .attr('style', 'font-family: ' + conf.fontFamily + '; font-size: ' + conf.fontSize + 'px')\r\n    .text(txt);\r\n\r\n  // Figure out how big the opaque 'container' rectangle needs to be\r\n  const labelBBox = labelNode.node().getBBox();\r\n\r\n  // Insert the opaque rectangle before the text label\r\n  parentNode\r\n    .insert('rect', '#' + labelId)\r\n    .attr('class', 'req reqLabelBox')\r\n    .attr('x', labelPoint.x - labelBBox.width / 2)\r\n    .attr('y', labelPoint.y - labelBBox.height / 2)\r\n    .attr('width', labelBBox.width)\r\n    .attr('height', labelBBox.height)\r\n    .attr('fill', 'white')\r\n    .attr('fill-opacity', '85%');\r\n};\r\n\r\nconst drawRelationshipFromLayout = function (svg, rel, g, insert) {\r\n  // Find the edge relating to this relationship\r\n  const edge = g.edge(elementString(rel.src), elementString(rel.dst));\r\n\r\n  // Get a function that will generate the line path\r\n  const lineFunction = line()\r\n    .x(function (d) {\r\n      return d.x;\r\n    })\r\n    .y(function (d) {\r\n      return d.y;\r\n    });\r\n\r\n  // Insert the line at the right place\r\n  const svgPath = svg\r\n    .insert('path', '#' + insert)\r\n    .attr('class', 'er relationshipLine')\r\n    .attr('d', lineFunction(edge.points))\r\n    .attr('fill', 'none');\r\n\r\n  if (rel.type == requirementDb.Relationships.CONTAINS) {\r\n    svgPath.attr(\r\n      'marker-start',\r\n      'url(' + common.getUrl(conf.arrowMarkerAbsolute) + '#' + rel.type + '_line_ending' + ')'\r\n    );\r\n  } else {\r\n    svgPath.attr('stroke-dasharray', '10,7');\r\n    svgPath.attr(\r\n      'marker-end',\r\n      'url(' +\r\n        common.getUrl(conf.arrowMarkerAbsolute) +\r\n        '#' +\r\n        markers.ReqMarkers.ARROW +\r\n        '_line_ending' +\r\n        ')'\r\n    );\r\n  }\r\n\r\n  addEdgeLabel(svg, svgPath, conf, `<<${rel.type}>>`);\r\n\r\n  return;\r\n};\r\n\r\nexport const drawReqs = (reqs, graph, svgNode) => {\r\n  Object.keys(reqs).forEach((reqName) => {\r\n    let req = reqs[reqName];\r\n    reqName = elementString(reqName);\r\n    log.info('Added new requirement: ', reqName);\r\n\r\n    const groupNode = svgNode.append('g').attr('id', reqName);\r\n    const textId = 'req-' + reqName;\r\n    const rectNode = newRectNode(groupNode, textId);\r\n\r\n    let nodes = [];\r\n\r\n    let titleNodeInfo = newTitleNode(groupNode, reqName + '_title', [\r\n      `<<${req.type}>>`,\r\n      `${req.name}`,\r\n    ]);\r\n\r\n    nodes.push(titleNodeInfo.titleNode);\r\n\r\n    let bodyNode = newBodyNode(\r\n      groupNode,\r\n      reqName + '_body',\r\n      [\r\n        `Id: ${req.id}`,\r\n        `Text: ${req.text}`,\r\n        `Risk: ${req.risk}`,\r\n        `Verification: ${req.verifyMethod}`,\r\n      ],\r\n      titleNodeInfo.y\r\n    );\r\n\r\n    nodes.push(bodyNode);\r\n\r\n    const rectBBox = rectNode.node().getBBox();\r\n\r\n    // Add the entity to the graph\r\n    graph.setNode(reqName, {\r\n      width: rectBBox.width,\r\n      height: rectBBox.height,\r\n      shape: 'rect',\r\n      id: reqName,\r\n    });\r\n  });\r\n};\r\n\r\nexport const drawElements = (els, graph, svgNode) => {\r\n  Object.keys(els).forEach((elName) => {\r\n    let el = els[elName];\r\n    const id = elementString(elName);\r\n\r\n    const groupNode = svgNode.append('g').attr('id', id);\r\n    const textId = 'element-' + id;\r\n    const rectNode = newRectNode(groupNode, textId);\r\n\r\n    let nodes = [];\r\n\r\n    let titleNodeInfo = newTitleNode(groupNode, textId + '_title', [`<<Element>>`, `${elName}`]);\r\n\r\n    nodes.push(titleNodeInfo.titleNode);\r\n\r\n    let bodyNode = newBodyNode(\r\n      groupNode,\r\n      textId + '_body',\r\n      [`Type: ${el.type || 'Not Specified'}`, `Doc Ref: ${el.docRef || 'None'}`],\r\n      titleNodeInfo.y\r\n    );\r\n\r\n    nodes.push(bodyNode);\r\n\r\n    const rectBBox = rectNode.node().getBBox();\r\n\r\n    // Add the entity to the graph\r\n    graph.setNode(id, {\r\n      width: rectBBox.width,\r\n      height: rectBBox.height,\r\n      shape: 'rect',\r\n      id: id,\r\n    });\r\n  });\r\n};\r\n\r\nconst addRelationships = (relationships, g) => {\r\n  relationships.forEach(function (r) {\r\n    let src = elementString(r.src);\r\n    let dst = elementString(r.dst);\r\n    g.setEdge(src, dst, { relationship: r });\r\n  });\r\n  return relationships;\r\n};\r\n\r\nconst adjustEntities = function (svgNode, graph) {\r\n  graph.nodes().forEach(function (v) {\r\n    if (typeof v !== 'undefined' && typeof graph.node(v) !== 'undefined') {\r\n      svgNode.select('#' + v);\r\n      svgNode\r\n        .select('#' + v)\r\n        .attr(\r\n          'transform',\r\n          'translate(' +\r\n            (graph.node(v).x - graph.node(v).width / 2) +\r\n            ',' +\r\n            (graph.node(v).y - graph.node(v).height / 2) +\r\n            ' )'\r\n        );\r\n    }\r\n  });\r\n  return;\r\n};\r\n\r\nconst elementString = (str) => {\r\n  return str.replace(/\\s/g, '').replace(/\\./g, '_');\r\n};\r\n\r\nexport const draw = (text, id) => {\r\n  parser.yy = requirementDb;\r\n  parser.yy.clear();\r\n  parser.parse(text);\r\n\r\n  const svg = select(`[id='${id}']`);\r\n  markers.insertLineEndings(svg, conf);\r\n\r\n  const g = new graphlib.Graph({\r\n    multigraph: false,\r\n    compound: false,\r\n    directed: true,\r\n  })\r\n    .setGraph({\r\n      rankdir: conf.layoutDirection,\r\n      marginx: 20,\r\n      marginy: 20,\r\n      nodesep: 100,\r\n      edgesep: 100,\r\n      ranksep: 100,\r\n    })\r\n    .setDefaultEdgeLabel(function () {\r\n      return {};\r\n    });\r\n\r\n  let requirements = requirementDb.getRequirements();\r\n  let elements = requirementDb.getElements();\r\n  let relationships = requirementDb.getRelationships();\r\n\r\n  drawReqs(requirements, g, svg);\r\n  drawElements(elements, g, svg);\r\n  addRelationships(relationships, g);\r\n  dagre.layout(g);\r\n  adjustEntities(svg, g);\r\n\r\n  relationships.forEach(function (rel) {\r\n    drawRelationshipFromLayout(svg, rel, g, id);\r\n  });\r\n\r\n  // svg.attr('height', '500px');\r\n  const padding = conf.rect_padding;\r\n  const svgBounds = svg.node().getBBox();\r\n  const width = svgBounds.width + padding * 2;\r\n  const height = svgBounds.height + padding * 2;\r\n\r\n  configureSvgSize(svg, height, width, conf.useMaxWidth);\r\n\r\n  svg.attr('viewBox', `${svgBounds.x - padding} ${svgBounds.y - padding} ${width} ${height}`);\r\n};\r\n\r\nexport default {\r\n  setConf,\r\n  draw,\r\n};\r\n","const getStyles = (options) => `\r\n\r\n  marker {\r\n    fill: ${options.relationColor};\r\n    stroke: ${options.relationColor};\r\n  }\r\n\r\n  marker.cross {\r\n    stroke: ${options.lineColor};\r\n  }\r\n\r\n  svg {\r\n    font-family: ${options.fontFamily};\r\n    font-size: ${options.fontSize};\r\n  }\r\n\r\n  .reqBox {\r\n    fill: ${options.requirementBackground};\r\n    fill-opacity: 100%;\r\n    stroke: ${options.requirementBorderColor};\r\n    stroke-width: ${options.requirementBorderSize};\r\n  }\r\n  \r\n  .reqTitle, .reqLabel{\r\n    fill:  ${options.requirementTextColor};\r\n  }\r\n  .reqLabelBox {\r\n    fill: ${options.relationLabelBackground};\r\n    fill-opacity: 100%;\r\n  }\r\n\r\n  .req-title-line {\r\n    stroke: ${options.requirementBorderColor};\r\n    stroke-width: ${options.requirementBorderSize};\r\n  }\r\n  .relationshipLine {\r\n    stroke: ${options.relationColor};\r\n    stroke-width: 1;\r\n  }\r\n  .relationshipLabel {\r\n    fill: ${options.relationLabelColor};\r\n  }\r\n\r\n`;\r\n// fill', conf.rect_fill)\r\nexport default getStyles;\r\n","import mermaidAPI from '../../mermaidAPI';\r\nimport * as configApi from '../../config';\r\nimport { log } from '../../logger';\r\n\r\nlet prevActor = undefined;\r\nlet actors = {};\r\nlet messages = [];\r\nconst notes = [];\r\nlet title = '';\r\nlet titleWrapped = false;\r\nlet sequenceNumbersEnabled = false;\r\nlet wrapEnabled = false;\r\n\r\nexport const parseDirective = function (statement, context, type) {\r\n  mermaidAPI.parseDirective(this, statement, context, type);\r\n};\r\n\r\nexport const addActor = function (id, name, description) {\r\n  // Don't allow description nulling\r\n  const old = actors[id];\r\n  if (old && name === old.name && description == null) return;\r\n\r\n  // Don't allow null descriptions, either\r\n  if (description == null || description.text == null) {\r\n    description = { text: name, wrap: null };\r\n  }\r\n\r\n  actors[id] = {\r\n    name: name,\r\n    description: description.text,\r\n    wrap: (description.wrap === undefined && autoWrap()) || !!description.wrap,\r\n    prevActor: prevActor,\r\n  };\r\n  if (prevActor && actors[prevActor]) {\r\n    actors[prevActor].nextActor = id;\r\n  }\r\n\r\n  prevActor = id;\r\n};\r\n\r\nconst activationCount = (part) => {\r\n  let i;\r\n  let count = 0;\r\n  for (i = 0; i < messages.length; i++) {\r\n    if (messages[i].type === LINETYPE.ACTIVE_START) {\r\n      if (messages[i].from.actor === part) {\r\n        count++;\r\n      }\r\n    }\r\n    if (messages[i].type === LINETYPE.ACTIVE_END) {\r\n      if (messages[i].from.actor === part) {\r\n        count--;\r\n      }\r\n    }\r\n  }\r\n  return count;\r\n};\r\n\r\nexport const addMessage = function (idFrom, idTo, message, answer) {\r\n  messages.push({\r\n    from: idFrom,\r\n    to: idTo,\r\n    message: message.text,\r\n    wrap: (message.wrap === undefined && autoWrap()) || !!message.wrap,\r\n    answer: answer,\r\n  });\r\n};\r\n\r\nexport const addSignal = function (\r\n  idFrom,\r\n  idTo,\r\n  message = { text: undefined, wrap: undefined },\r\n  messageType\r\n) {\r\n  if (messageType === LINETYPE.ACTIVE_END) {\r\n    const cnt = activationCount(idFrom.actor);\r\n    if (cnt < 1) {\r\n      // Bail out as there is an activation signal from an inactive participant\r\n      let error = new Error('Trying to inactivate an inactive participant (' + idFrom.actor + ')');\r\n      error.hash = {\r\n        text: '->>-',\r\n        token: '->>-',\r\n        line: '1',\r\n        loc: { first_line: 1, last_line: 1, first_column: 1, last_column: 1 },\r\n        expected: [\"'ACTIVE_PARTICIPANT'\"],\r\n      };\r\n      throw error;\r\n    }\r\n  }\r\n  messages.push({\r\n    from: idFrom,\r\n    to: idTo,\r\n    message: message.text,\r\n    wrap: (message.wrap === undefined && autoWrap()) || !!message.wrap,\r\n    type: messageType,\r\n  });\r\n  return true;\r\n};\r\n\r\nexport const getMessages = function () {\r\n  return messages;\r\n};\r\n\r\nexport const getActors = function () {\r\n  return actors;\r\n};\r\nexport const getActor = function (id) {\r\n  return actors[id];\r\n};\r\nexport const getActorKeys = function () {\r\n  return Object.keys(actors);\r\n};\r\nexport const getTitle = function () {\r\n  return title;\r\n};\r\nexport const getTitleWrapped = function () {\r\n  return titleWrapped;\r\n};\r\nexport const enableSequenceNumbers = function () {\r\n  sequenceNumbersEnabled = true;\r\n};\r\nexport const showSequenceNumbers = () => sequenceNumbersEnabled;\r\n\r\nexport const setWrap = function (wrapSetting) {\r\n  wrapEnabled = wrapSetting;\r\n};\r\n\r\nexport const autoWrap = () => wrapEnabled;\r\n\r\nexport const clear = function () {\r\n  actors = {};\r\n  messages = [];\r\n};\r\n\r\nexport const parseMessage = function (str) {\r\n  const _str = str.trim();\r\n  const message = {\r\n    text: _str.replace(/^[:]?(?:no)?wrap:/, '').trim(),\r\n    wrap:\r\n      _str.match(/^[:]?wrap:/) !== null\r\n        ? true\r\n        : _str.match(/^[:]?nowrap:/) !== null\r\n        ? false\r\n        : undefined,\r\n  };\r\n  log.debug('parseMessage:', message);\r\n  return message;\r\n};\r\n\r\nexport const LINETYPE = {\r\n  SOLID: 0,\r\n  DOTTED: 1,\r\n  NOTE: 2,\r\n  SOLID_CROSS: 3,\r\n  DOTTED_CROSS: 4,\r\n  SOLID_OPEN: 5,\r\n  DOTTED_OPEN: 6,\r\n  LOOP_START: 10,\r\n  LOOP_END: 11,\r\n  ALT_START: 12,\r\n  ALT_ELSE: 13,\r\n  ALT_END: 14,\r\n  OPT_START: 15,\r\n  OPT_END: 16,\r\n  ACTIVE_START: 17,\r\n  ACTIVE_END: 18,\r\n  PAR_START: 19,\r\n  PAR_AND: 20,\r\n  PAR_END: 21,\r\n  RECT_START: 22,\r\n  RECT_END: 23,\r\n  SOLID_POINT: 24,\r\n  DOTTED_POINT: 25,\r\n};\r\n\r\nexport const ARROWTYPE = {\r\n  FILLED: 0,\r\n  OPEN: 1,\r\n};\r\n\r\nexport const PLACEMENT = {\r\n  LEFTOF: 0,\r\n  RIGHTOF: 1,\r\n  OVER: 2,\r\n};\r\n\r\nexport const addNote = function (actor, placement, message) {\r\n  const note = {\r\n    actor: actor,\r\n    placement: placement,\r\n    message: message.text,\r\n    wrap: (message.wrap === undefined && autoWrap()) || !!message.wrap,\r\n  };\r\n\r\n  // Coerce actor into a [to, from, ...] array\r\n  const actors = [].concat(actor, actor);\r\n\r\n  notes.push(note);\r\n  messages.push({\r\n    from: actors[0],\r\n    to: actors[1],\r\n    message: message.text,\r\n    wrap: (message.wrap === undefined && autoWrap()) || !!message.wrap,\r\n    type: LINETYPE.NOTE,\r\n    placement: placement,\r\n  });\r\n};\r\n\r\nexport const setTitle = function (titleWrap) {\r\n  title = titleWrap.text;\r\n  titleWrapped = (titleWrap.wrap === undefined && autoWrap()) || !!titleWrap.wrap;\r\n};\r\n\r\nexport const apply = function (param) {\r\n  if (param instanceof Array) {\r\n    param.forEach(function (item) {\r\n      apply(item);\r\n    });\r\n  } else {\r\n    switch (param.type) {\r\n      case 'addActor':\r\n        addActor(param.actor, param.actor, param.description);\r\n        break;\r\n      case 'activeStart':\r\n        addSignal(param.actor, undefined, undefined, param.signalType);\r\n        break;\r\n      case 'activeEnd':\r\n        addSignal(param.actor, undefined, undefined, param.signalType);\r\n        break;\r\n      case 'addNote':\r\n        addNote(param.actor, param.placement, param.text);\r\n        break;\r\n      case 'addMessage':\r\n        addSignal(param.from, param.to, param.msg, param.signalType);\r\n        break;\r\n      case 'loopStart':\r\n        addSignal(undefined, undefined, param.loopText, param.signalType);\r\n        break;\r\n      case 'loopEnd':\r\n        addSignal(undefined, undefined, undefined, param.signalType);\r\n        break;\r\n      case 'rectStart':\r\n        addSignal(undefined, undefined, param.color, param.signalType);\r\n        break;\r\n      case 'rectEnd':\r\n        addSignal(undefined, undefined, undefined, param.signalType);\r\n        break;\r\n      case 'optStart':\r\n        addSignal(undefined, undefined, param.optText, param.signalType);\r\n        break;\r\n      case 'optEnd':\r\n        addSignal(undefined, undefined, undefined, param.signalType);\r\n        break;\r\n      case 'altStart':\r\n        addSignal(undefined, undefined, param.altText, param.signalType);\r\n        break;\r\n      case 'else':\r\n        addSignal(undefined, undefined, param.altText, param.signalType);\r\n        break;\r\n      case 'altEnd':\r\n        addSignal(undefined, undefined, undefined, param.signalType);\r\n        break;\r\n      case 'setTitle':\r\n        setTitle(param.text);\r\n        break;\r\n      case 'parStart':\r\n        addSignal(undefined, undefined, param.parText, param.signalType);\r\n        break;\r\n      case 'and':\r\n        addSignal(undefined, undefined, param.parText, param.signalType);\r\n        break;\r\n      case 'parEnd':\r\n        addSignal(undefined, undefined, undefined, param.signalType);\r\n        break;\r\n    }\r\n  }\r\n};\r\n\r\nexport default {\r\n  addActor,\r\n  addMessage,\r\n  addSignal,\r\n  autoWrap,\r\n  setWrap,\r\n  enableSequenceNumbers,\r\n  showSequenceNumbers,\r\n  getMessages,\r\n  getActors,\r\n  getActor,\r\n  getActorKeys,\r\n  getTitle,\r\n  parseDirective,\r\n  getConfig: () => configApi.getConfig().sequence,\r\n  getTitleWrapped,\r\n  clear,\r\n  parseMessage,\r\n  LINETYPE,\r\n  ARROWTYPE,\r\n  PLACEMENT,\r\n  addNote,\r\n  setTitle,\r\n  apply,\r\n};\r\n","import { select, selectAll } from 'd3';\r\nimport svgDraw, { drawText } from './svgDraw';\r\nimport { log } from '../../logger';\r\nimport { parser } from './parser/sequenceDiagram';\r\nimport common from '../common/common';\r\nimport sequenceDb from './sequenceDb';\r\nimport * as configApi from '../../config';\r\nimport utils, { assignWithDepth, configureSvgSize } from '../../utils';\r\n\r\nparser.yy = sequenceDb;\r\n\r\nlet conf = {};\r\n\r\nexport const bounds = {\r\n  data: {\r\n    startx: undefined,\r\n    stopx: undefined,\r\n    starty: undefined,\r\n    stopy: undefined,\r\n  },\r\n  verticalPos: 0,\r\n  sequenceItems: [],\r\n  activations: [],\r\n  models: {\r\n    getHeight: function () {\r\n      return (\r\n        Math.max.apply(\r\n          null,\r\n          this.actors.length === 0 ? [0] : this.actors.map((actor) => actor.height || 0)\r\n        ) +\r\n        (this.loops.length === 0\r\n          ? 0\r\n          : this.loops.map((it) => it.height || 0).reduce((acc, h) => acc + h)) +\r\n        (this.messages.length === 0\r\n          ? 0\r\n          : this.messages.map((it) => it.height || 0).reduce((acc, h) => acc + h)) +\r\n        (this.notes.length === 0\r\n          ? 0\r\n          : this.notes.map((it) => it.height || 0).reduce((acc, h) => acc + h))\r\n      );\r\n    },\r\n    clear: function () {\r\n      this.actors = [];\r\n      this.loops = [];\r\n      this.messages = [];\r\n      this.notes = [];\r\n    },\r\n    addActor: function (actorModel) {\r\n      this.actors.push(actorModel);\r\n    },\r\n    addLoop: function (loopModel) {\r\n      this.loops.push(loopModel);\r\n    },\r\n    addMessage: function (msgModel) {\r\n      this.messages.push(msgModel);\r\n    },\r\n    addNote: function (noteModel) {\r\n      this.notes.push(noteModel);\r\n    },\r\n    lastActor: function () {\r\n      return this.actors[this.actors.length - 1];\r\n    },\r\n    lastLoop: function () {\r\n      return this.loops[this.loops.length - 1];\r\n    },\r\n    lastMessage: function () {\r\n      return this.messages[this.messages.length - 1];\r\n    },\r\n    lastNote: function () {\r\n      return this.notes[this.notes.length - 1];\r\n    },\r\n    actors: [],\r\n    loops: [],\r\n    messages: [],\r\n    notes: [],\r\n  },\r\n  init: function () {\r\n    this.sequenceItems = [];\r\n    this.activations = [];\r\n    this.models.clear();\r\n    this.data = {\r\n      startx: undefined,\r\n      stopx: undefined,\r\n      starty: undefined,\r\n      stopy: undefined,\r\n    };\r\n    this.verticalPos = 0;\r\n    setConf(parser.yy.getConfig());\r\n  },\r\n  updateVal: function (obj, key, val, fun) {\r\n    if (typeof obj[key] === 'undefined') {\r\n      obj[key] = val;\r\n    } else {\r\n      obj[key] = fun(val, obj[key]);\r\n    }\r\n  },\r\n  updateBounds: function (startx, starty, stopx, stopy) {\r\n    const _self = this;\r\n    let cnt = 0;\r\n    function updateFn(type) {\r\n      return function updateItemBounds(item) {\r\n        cnt++;\r\n        // The loop sequenceItems is a stack so the biggest margins in the beginning of the sequenceItems\r\n        const n = _self.sequenceItems.length - cnt + 1;\r\n\r\n        _self.updateVal(item, 'starty', starty - n * conf.boxMargin, Math.min);\r\n        _self.updateVal(item, 'stopy', stopy + n * conf.boxMargin, Math.max);\r\n\r\n        _self.updateVal(bounds.data, 'startx', startx - n * conf.boxMargin, Math.min);\r\n        _self.updateVal(bounds.data, 'stopx', stopx + n * conf.boxMargin, Math.max);\r\n\r\n        if (!(type === 'activation')) {\r\n          _self.updateVal(item, 'startx', startx - n * conf.boxMargin, Math.min);\r\n          _self.updateVal(item, 'stopx', stopx + n * conf.boxMargin, Math.max);\r\n\r\n          _self.updateVal(bounds.data, 'starty', starty - n * conf.boxMargin, Math.min);\r\n          _self.updateVal(bounds.data, 'stopy', stopy + n * conf.boxMargin, Math.max);\r\n        }\r\n      };\r\n    }\r\n\r\n    this.sequenceItems.forEach(updateFn());\r\n    this.activations.forEach(updateFn('activation'));\r\n  },\r\n  insert: function (startx, starty, stopx, stopy) {\r\n    const _startx = Math.min(startx, stopx);\r\n    const _stopx = Math.max(startx, stopx);\r\n    const _starty = Math.min(starty, stopy);\r\n    const _stopy = Math.max(starty, stopy);\r\n\r\n    this.updateVal(bounds.data, 'startx', _startx, Math.min);\r\n    this.updateVal(bounds.data, 'starty', _starty, Math.min);\r\n    this.updateVal(bounds.data, 'stopx', _stopx, Math.max);\r\n    this.updateVal(bounds.data, 'stopy', _stopy, Math.max);\r\n\r\n    this.updateBounds(_startx, _starty, _stopx, _stopy);\r\n  },\r\n  newActivation: function (message, diagram, actors) {\r\n    const actorRect = actors[message.from.actor];\r\n    const stackedSize = actorActivations(message.from.actor).length || 0;\r\n    const x = actorRect.x + actorRect.width / 2 + ((stackedSize - 1) * conf.activationWidth) / 2;\r\n    this.activations.push({\r\n      startx: x,\r\n      starty: this.verticalPos + 2,\r\n      stopx: x + conf.activationWidth,\r\n      stopy: undefined,\r\n      actor: message.from.actor,\r\n      anchored: svgDraw.anchorElement(diagram),\r\n    });\r\n  },\r\n  endActivation: function (message) {\r\n    // find most recent activation for given actor\r\n    const lastActorActivationIdx = this.activations\r\n      .map(function (activation) {\r\n        return activation.actor;\r\n      })\r\n      .lastIndexOf(message.from.actor);\r\n    return this.activations.splice(lastActorActivationIdx, 1)[0];\r\n  },\r\n  createLoop: function (title = { message: undefined, wrap: false, width: undefined }, fill) {\r\n    return {\r\n      startx: undefined,\r\n      starty: this.verticalPos,\r\n      stopx: undefined,\r\n      stopy: undefined,\r\n      title: title.message,\r\n      wrap: title.wrap,\r\n      width: title.width,\r\n      height: 0,\r\n      fill: fill,\r\n    };\r\n  },\r\n  newLoop: function (title = { message: undefined, wrap: false, width: undefined }, fill) {\r\n    this.sequenceItems.push(this.createLoop(title, fill));\r\n  },\r\n  endLoop: function () {\r\n    return this.sequenceItems.pop();\r\n  },\r\n  addSectionToLoop: function (message) {\r\n    const loop = this.sequenceItems.pop();\r\n    loop.sections = loop.sections || [];\r\n    loop.sectionTitles = loop.sectionTitles || [];\r\n    loop.sections.push({ y: bounds.getVerticalPos(), height: 0 });\r\n    loop.sectionTitles.push(message);\r\n    this.sequenceItems.push(loop);\r\n  },\r\n  bumpVerticalPos: function (bump) {\r\n    this.verticalPos = this.verticalPos + bump;\r\n    this.data.stopy = this.verticalPos;\r\n  },\r\n  getVerticalPos: function () {\r\n    return this.verticalPos;\r\n  },\r\n  getBounds: function () {\r\n    return { bounds: this.data, models: this.models };\r\n  },\r\n};\r\n\r\n/**\r\n * Draws an note in the diagram with the attached line\r\n * @param elem - The diagram to draw to.\r\n * @param noteModel:{x: number, y: number, message: string, width: number} - startx: x axis start position, verticalPos: y axis position, messsage: the message to be shown, width: Set this with a custom width to override the default configured width.\r\n */\r\nconst drawNote = function (elem, noteModel) {\r\n  bounds.bumpVerticalPos(conf.boxMargin);\r\n  noteModel.height = conf.boxMargin;\r\n  noteModel.starty = bounds.getVerticalPos();\r\n  const rect = svgDraw.getNoteRect();\r\n  rect.x = noteModel.startx;\r\n  rect.y = noteModel.starty;\r\n  rect.width = noteModel.width || conf.width;\r\n  rect.class = 'note';\r\n\r\n  let g = elem.append('g');\r\n  const rectElem = svgDraw.drawRect(g, rect);\r\n  const textObj = svgDraw.getTextObj();\r\n  textObj.x = noteModel.startx;\r\n  textObj.y = noteModel.starty;\r\n  textObj.width = rect.width;\r\n  textObj.dy = '1em';\r\n  textObj.text = noteModel.message;\r\n  textObj.class = 'noteText';\r\n  textObj.fontFamily = conf.noteFontFamily;\r\n  textObj.fontSize = conf.noteFontSize;\r\n  textObj.fontWeight = conf.noteFontWeight;\r\n  textObj.anchor = conf.noteAlign;\r\n  textObj.textMargin = conf.noteMargin;\r\n  textObj.valign = conf.noteAlign;\r\n\r\n  let textElem = drawText(g, textObj);\r\n\r\n  let textHeight = Math.round(\r\n    textElem\r\n      .map((te) => (te._groups || te)[0][0].getBBox().height)\r\n      .reduce((acc, curr) => acc + curr)\r\n  );\r\n\r\n  rectElem.attr('height', textHeight + 2 * conf.noteMargin);\r\n  noteModel.height += textHeight + 2 * conf.noteMargin;\r\n  bounds.bumpVerticalPos(textHeight + 2 * conf.noteMargin);\r\n  noteModel.stopy = noteModel.starty + textHeight + 2 * conf.noteMargin;\r\n  noteModel.stopx = noteModel.startx + rect.width;\r\n  bounds.insert(noteModel.startx, noteModel.starty, noteModel.stopx, noteModel.stopy);\r\n  bounds.models.addNote(noteModel);\r\n};\r\n\r\nconst messageFont = (cnf) => {\r\n  return {\r\n    fontFamily: cnf.messageFontFamily,\r\n    fontSize: cnf.messageFontSize,\r\n    fontWeight: cnf.messageFontWeight,\r\n  };\r\n};\r\nconst noteFont = (cnf) => {\r\n  return {\r\n    fontFamily: cnf.noteFontFamily,\r\n    fontSize: cnf.noteFontSize,\r\n    fontWeight: cnf.noteFontWeight,\r\n  };\r\n};\r\nconst actorFont = (cnf) => {\r\n  return {\r\n    fontFamily: cnf.actorFontFamily,\r\n    fontSize: cnf.actorFontSize,\r\n    fontWeight: cnf.actorFontWeight,\r\n  };\r\n};\r\n\r\n/**\r\n * Draws a message\r\n * @param g - the parent of the message element\r\n * @param msgModel - the model containing fields describing a message\r\n */\r\nconst drawMessage = function (g, msgModel) {\r\n  bounds.bumpVerticalPos(10);\r\n  const { startx, stopx, starty, message, type, sequenceIndex } = msgModel;\r\n  const lines = common.splitBreaks(message).length;\r\n  let textDims = utils.calculateTextDimensions(message, messageFont(conf));\r\n  const lineHeight = textDims.height / lines;\r\n  msgModel.height += lineHeight;\r\n\r\n  bounds.bumpVerticalPos(lineHeight);\r\n  const textObj = svgDraw.getTextObj();\r\n  textObj.x = startx;\r\n  textObj.y = starty + 10;\r\n  textObj.width = stopx - startx;\r\n  textObj.class = 'messageText';\r\n  textObj.dy = '1em';\r\n  textObj.text = message;\r\n  textObj.fontFamily = conf.messageFontFamily;\r\n  textObj.fontSize = conf.messageFontSize;\r\n  textObj.fontWeight = conf.messageFontWeight;\r\n  textObj.anchor = conf.messageAlign;\r\n  textObj.valign = conf.messageAlign;\r\n  textObj.textMargin = conf.wrapPadding;\r\n  textObj.tspan = false;\r\n\r\n  drawText(g, textObj);\r\n\r\n  let totalOffset = textDims.height - 10;\r\n\r\n  let textWidth = textDims.width;\r\n\r\n  let line, lineStarty;\r\n  if (startx === stopx) {\r\n    lineStarty = bounds.getVerticalPos() + totalOffset;\r\n    if (conf.rightAngles) {\r\n      line = g\r\n        .append('path')\r\n        .attr(\r\n          'd',\r\n          `M  ${startx},${lineStarty} H ${startx + Math.max(conf.width / 2, textWidth / 2)} V ${\r\n            lineStarty + 25\r\n          } H ${startx}`\r\n        );\r\n    } else {\r\n      totalOffset += conf.boxMargin;\r\n\r\n      lineStarty = bounds.getVerticalPos() + totalOffset;\r\n      line = g\r\n        .append('path')\r\n        .attr(\r\n          'd',\r\n          'M ' +\r\n            startx +\r\n            ',' +\r\n            lineStarty +\r\n            ' C ' +\r\n            (startx + 60) +\r\n            ',' +\r\n            (lineStarty - 10) +\r\n            ' ' +\r\n            (startx + 60) +\r\n            ',' +\r\n            (lineStarty + 30) +\r\n            ' ' +\r\n            startx +\r\n            ',' +\r\n            (lineStarty + 20)\r\n        );\r\n    }\r\n\r\n    totalOffset += 30;\r\n    const dx = Math.max(textWidth / 2, conf.width / 2);\r\n    bounds.insert(\r\n      startx - dx,\r\n      bounds.getVerticalPos() - 10 + totalOffset,\r\n      stopx + dx,\r\n      bounds.getVerticalPos() + 30 + totalOffset\r\n    );\r\n  } else {\r\n    totalOffset += conf.boxMargin;\r\n    lineStarty = bounds.getVerticalPos() + totalOffset;\r\n    line = g.append('line');\r\n    line.attr('x1', startx);\r\n    line.attr('y1', lineStarty);\r\n    line.attr('x2', stopx);\r\n    line.attr('y2', lineStarty);\r\n    bounds.insert(startx, lineStarty - 10, stopx, lineStarty);\r\n  }\r\n  // Make an SVG Container\r\n  // Draw the line\r\n  if (\r\n    type === parser.yy.LINETYPE.DOTTED ||\r\n    type === parser.yy.LINETYPE.DOTTED_CROSS ||\r\n    type === parser.yy.LINETYPE.DOTTED_POINT ||\r\n    type === parser.yy.LINETYPE.DOTTED_OPEN\r\n  ) {\r\n    line.style('stroke-dasharray', '3, 3');\r\n    line.attr('class', 'messageLine1');\r\n  } else {\r\n    line.attr('class', 'messageLine0');\r\n  }\r\n\r\n  let url = '';\r\n  if (conf.arrowMarkerAbsolute) {\r\n    url =\r\n      window.location.protocol +\r\n      '//' +\r\n      window.location.host +\r\n      window.location.pathname +\r\n      window.location.search;\r\n    url = url.replace(/\\(/g, '\\\\(');\r\n    url = url.replace(/\\)/g, '\\\\)');\r\n  }\r\n\r\n  line.attr('stroke-width', 2);\r\n  line.attr('stroke', 'none'); // handled by theme/css anyway\r\n  line.style('fill', 'none'); // remove any fill colour\r\n  if (type === parser.yy.LINETYPE.SOLID || type === parser.yy.LINETYPE.DOTTED) {\r\n    line.attr('marker-end', 'url(' + url + '#arrowhead)');\r\n  }\r\n  if (type === parser.yy.LINETYPE.SOLID_POINT || type === parser.yy.LINETYPE.DOTTED_POINT) {\r\n    line.attr('marker-end', 'url(' + url + '#filled-head)');\r\n  }\r\n\r\n  if (type === parser.yy.LINETYPE.SOLID_CROSS || type === parser.yy.LINETYPE.DOTTED_CROSS) {\r\n    line.attr('marker-end', 'url(' + url + '#crosshead)');\r\n  }\r\n\r\n  // add node number\r\n  if (sequenceDb.showSequenceNumbers() || conf.showSequenceNumbers) {\r\n    line.attr('marker-start', 'url(' + url + '#sequencenumber)');\r\n    g.append('text')\r\n      .attr('x', startx)\r\n      .attr('y', lineStarty + 4)\r\n      .attr('font-family', 'sans-serif')\r\n      .attr('font-size', '12px')\r\n      .attr('text-anchor', 'middle')\r\n      .attr('textLength', '16px')\r\n      .attr('class', 'sequenceNumber')\r\n      .text(sequenceIndex);\r\n  }\r\n  bounds.bumpVerticalPos(totalOffset);\r\n  msgModel.height += totalOffset;\r\n  msgModel.stopy = msgModel.starty + msgModel.height;\r\n  bounds.insert(msgModel.fromBounds, msgModel.starty, msgModel.toBounds, msgModel.stopy);\r\n};\r\n\r\nexport const drawActors = function (diagram, actors, actorKeys, verticalPos) {\r\n  // Draw the actors\r\n  let prevWidth = 0;\r\n  let prevMargin = 0;\r\n\r\n  for (let i = 0; i < actorKeys.length; i++) {\r\n    const actor = actors[actorKeys[i]];\r\n\r\n    // Add some rendering data to the object\r\n    actor.width = actor.width || conf.width;\r\n    actor.height = Math.max(actor.height || conf.height, conf.height);\r\n    actor.margin = actor.margin || conf.actorMargin;\r\n\r\n    actor.x = prevWidth + prevMargin;\r\n    actor.y = verticalPos;\r\n\r\n    // Draw the box with the attached line\r\n    svgDraw.drawActor(diagram, actor, conf);\r\n    bounds.insert(actor.x, verticalPos, actor.x + actor.width, actor.height);\r\n\r\n    prevWidth += actor.width;\r\n    prevMargin += actor.margin;\r\n    bounds.models.addActor(actor);\r\n  }\r\n\r\n  // Add a margin between the actor boxes and the first arrow\r\n  bounds.bumpVerticalPos(conf.height);\r\n};\r\n\r\nexport const setConf = function (cnf) {\r\n  assignWithDepth(conf, cnf);\r\n\r\n  if (cnf.fontFamily) {\r\n    conf.actorFontFamily = conf.noteFontFamily = conf.messageFontFamily = cnf.fontFamily;\r\n  }\r\n  if (cnf.fontSize) {\r\n    conf.actorFontSize = conf.noteFontSize = conf.messageFontSize = cnf.fontSize;\r\n  }\r\n  if (cnf.fontWeight) {\r\n    conf.actorFontWeight = conf.noteFontWeight = conf.messageFontWeight = cnf.fontWeight;\r\n  }\r\n};\r\n\r\nconst actorActivations = function (actor) {\r\n  return bounds.activations.filter(function (activation) {\r\n    return activation.actor === actor;\r\n  });\r\n};\r\n\r\nconst activationBounds = function (actor, actors) {\r\n  // handle multiple stacked activations for same actor\r\n  const actorObj = actors[actor];\r\n  const activations = actorActivations(actor);\r\n\r\n  const left = activations.reduce(function (acc, activation) {\r\n    return Math.min(acc, activation.startx);\r\n  }, actorObj.x + actorObj.width / 2);\r\n  const right = activations.reduce(function (acc, activation) {\r\n    return Math.max(acc, activation.stopx);\r\n  }, actorObj.x + actorObj.width / 2);\r\n  return [left, right];\r\n};\r\n\r\nfunction adjustLoopHeightForWrap(loopWidths, msg, preMargin, postMargin, addLoopFn) {\r\n  bounds.bumpVerticalPos(preMargin);\r\n  let heightAdjust = postMargin;\r\n  if (msg.id && msg.message && loopWidths[msg.id]) {\r\n    let loopWidth = loopWidths[msg.id].width;\r\n    let textConf = messageFont(conf);\r\n    msg.message = utils.wrapLabel(`[${msg.message}]`, loopWidth - 2 * conf.wrapPadding, textConf);\r\n    msg.width = loopWidth;\r\n    msg.wrap = true;\r\n\r\n    // const lines = common.splitBreaks(msg.message).length;\r\n    const textDims = utils.calculateTextDimensions(msg.message, textConf);\r\n    const totalOffset = Math.max(textDims.height, conf.labelBoxHeight);\r\n    heightAdjust = postMargin + totalOffset;\r\n    log.debug(`${totalOffset} - ${msg.message}`);\r\n  }\r\n  addLoopFn(msg);\r\n  bounds.bumpVerticalPos(heightAdjust);\r\n}\r\n\r\n/**\r\n * Draws a sequenceDiagram in the tag with id: id based on the graph definition in text.\r\n * @param text\r\n * @param id\r\n */\r\nexport const draw = function (text, id) {\r\n  conf = configApi.getConfig().sequence;\r\n  parser.yy.clear();\r\n  parser.yy.setWrap(conf.wrap);\r\n  parser.parse(text + '\\n');\r\n  bounds.init();\r\n  log.debug(`C:${JSON.stringify(conf, null, 2)}`);\r\n\r\n  const diagram = select(`[id=\"${id}\"]`);\r\n\r\n  // Fetch data from the parsing\r\n  const actors = parser.yy.getActors();\r\n  const actorKeys = parser.yy.getActorKeys();\r\n  const messages = parser.yy.getMessages();\r\n  const title = parser.yy.getTitle();\r\n\r\n  const maxMessageWidthPerActor = getMaxMessageWidthPerActor(actors, messages);\r\n  conf.height = calculateActorMargins(actors, maxMessageWidthPerActor);\r\n\r\n  drawActors(diagram, actors, actorKeys, 0);\r\n  const loopWidths = calculateLoopBounds(messages, actors, maxMessageWidthPerActor);\r\n\r\n  // The arrow head definition is attached to the svg once\r\n  svgDraw.insertArrowHead(diagram);\r\n  svgDraw.insertArrowCrossHead(diagram);\r\n  svgDraw.insertArrowFilledHead(diagram);\r\n  svgDraw.insertSequenceNumber(diagram);\r\n\r\n  function activeEnd(msg, verticalPos) {\r\n    const activationData = bounds.endActivation(msg);\r\n    if (activationData.starty + 18 > verticalPos) {\r\n      activationData.starty = verticalPos - 6;\r\n      verticalPos += 12;\r\n    }\r\n    svgDraw.drawActivation(\r\n      diagram,\r\n      activationData,\r\n      verticalPos,\r\n      conf,\r\n      actorActivations(msg.from.actor).length\r\n    );\r\n\r\n    bounds.insert(activationData.startx, verticalPos - 10, activationData.stopx, verticalPos);\r\n  }\r\n\r\n  // Draw the messages/signals\r\n  let sequenceIndex = 1;\r\n  messages.forEach(function (msg) {\r\n    let loopModel, noteModel, msgModel;\r\n\r\n    switch (msg.type) {\r\n      case parser.yy.LINETYPE.NOTE:\r\n        noteModel = msg.noteModel;\r\n        drawNote(diagram, noteModel);\r\n        break;\r\n      case parser.yy.LINETYPE.ACTIVE_START:\r\n        bounds.newActivation(msg, diagram, actors);\r\n        break;\r\n      case parser.yy.LINETYPE.ACTIVE_END:\r\n        activeEnd(msg, bounds.getVerticalPos());\r\n        break;\r\n      case parser.yy.LINETYPE.LOOP_START:\r\n        adjustLoopHeightForWrap(\r\n          loopWidths,\r\n          msg,\r\n          conf.boxMargin,\r\n          conf.boxMargin + conf.boxTextMargin,\r\n          (message) => bounds.newLoop(message)\r\n        );\r\n        break;\r\n      case parser.yy.LINETYPE.LOOP_END:\r\n        loopModel = bounds.endLoop();\r\n        svgDraw.drawLoop(diagram, loopModel, 'loop', conf);\r\n        bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\r\n        bounds.models.addLoop(loopModel);\r\n        break;\r\n      case parser.yy.LINETYPE.RECT_START:\r\n        adjustLoopHeightForWrap(loopWidths, msg, conf.boxMargin, conf.boxMargin, (message) =>\r\n          bounds.newLoop(undefined, message.message)\r\n        );\r\n        break;\r\n      case parser.yy.LINETYPE.RECT_END:\r\n        loopModel = bounds.endLoop();\r\n        svgDraw.drawBackgroundRect(diagram, loopModel);\r\n        bounds.models.addLoop(loopModel);\r\n        bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\r\n        break;\r\n      case parser.yy.LINETYPE.OPT_START:\r\n        adjustLoopHeightForWrap(\r\n          loopWidths,\r\n          msg,\r\n          conf.boxMargin,\r\n          conf.boxMargin + conf.boxTextMargin,\r\n          (message) => bounds.newLoop(message)\r\n        );\r\n        break;\r\n      case parser.yy.LINETYPE.OPT_END:\r\n        loopModel = bounds.endLoop();\r\n        svgDraw.drawLoop(diagram, loopModel, 'opt', conf);\r\n        bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\r\n        bounds.models.addLoop(loopModel);\r\n        break;\r\n      case parser.yy.LINETYPE.ALT_START:\r\n        adjustLoopHeightForWrap(\r\n          loopWidths,\r\n          msg,\r\n          conf.boxMargin,\r\n          conf.boxMargin + conf.boxTextMargin,\r\n          (message) => bounds.newLoop(message)\r\n        );\r\n        break;\r\n      case parser.yy.LINETYPE.ALT_ELSE:\r\n        adjustLoopHeightForWrap(\r\n          loopWidths,\r\n          msg,\r\n          conf.boxMargin + conf.boxTextMargin,\r\n          conf.boxMargin,\r\n          (message) => bounds.addSectionToLoop(message)\r\n        );\r\n        break;\r\n      case parser.yy.LINETYPE.ALT_END:\r\n        loopModel = bounds.endLoop();\r\n        svgDraw.drawLoop(diagram, loopModel, 'alt', conf);\r\n        bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\r\n        bounds.models.addLoop(loopModel);\r\n        break;\r\n      case parser.yy.LINETYPE.PAR_START:\r\n        adjustLoopHeightForWrap(\r\n          loopWidths,\r\n          msg,\r\n          conf.boxMargin,\r\n          conf.boxMargin + conf.boxTextMargin,\r\n          (message) => bounds.newLoop(message)\r\n        );\r\n        break;\r\n      case parser.yy.LINETYPE.PAR_AND:\r\n        adjustLoopHeightForWrap(\r\n          loopWidths,\r\n          msg,\r\n          conf.boxMargin + conf.boxTextMargin,\r\n          conf.boxMargin,\r\n          (message) => bounds.addSectionToLoop(message)\r\n        );\r\n        break;\r\n      case parser.yy.LINETYPE.PAR_END:\r\n        loopModel = bounds.endLoop();\r\n        svgDraw.drawLoop(diagram, loopModel, 'par', conf);\r\n        bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\r\n        bounds.models.addLoop(loopModel);\r\n        break;\r\n      default:\r\n        try {\r\n          // lastMsg = msg\r\n          msgModel = msg.msgModel;\r\n          msgModel.starty = bounds.getVerticalPos();\r\n          msgModel.sequenceIndex = sequenceIndex;\r\n          drawMessage(diagram, msgModel);\r\n          bounds.models.addMessage(msgModel);\r\n        } catch (e) {\r\n          log.error('error while drawing message', e);\r\n        }\r\n    }\r\n    // Increment sequence counter if msg.type is a line (and not another event like activation or note, etc)\r\n    if (\r\n      [\r\n        parser.yy.LINETYPE.SOLID_OPEN,\r\n        parser.yy.LINETYPE.DOTTED_OPEN,\r\n        parser.yy.LINETYPE.SOLID,\r\n        parser.yy.LINETYPE.DOTTED,\r\n        parser.yy.LINETYPE.SOLID_CROSS,\r\n        parser.yy.LINETYPE.DOTTED_CROSS,\r\n        parser.yy.LINETYPE.SOLID_POINT,\r\n        parser.yy.LINETYPE.DOTTED_POINT,\r\n      ].includes(msg.type)\r\n    ) {\r\n      sequenceIndex++;\r\n    }\r\n  });\r\n\r\n  if (conf.mirrorActors) {\r\n    // Draw actors below diagram\r\n    bounds.bumpVerticalPos(conf.boxMargin * 2);\r\n    drawActors(diagram, actors, actorKeys, bounds.getVerticalPos());\r\n  }\r\n\r\n  const { bounds: box } = bounds.getBounds();\r\n\r\n  // Adjust line height of actor lines now that the height of the diagram is known\r\n  log.debug('For line height fix Querying: #' + id + ' .actor-line');\r\n  const actorLines = selectAll('#' + id + ' .actor-line');\r\n  actorLines.attr('y2', box.stopy);\r\n\r\n  let height = box.stopy - box.starty + 2 * conf.diagramMarginY;\r\n  if (conf.mirrorActors) {\r\n    height = height - conf.boxMargin + conf.bottomMarginAdj;\r\n  }\r\n\r\n  const width = box.stopx - box.startx + 2 * conf.diagramMarginX;\r\n\r\n  if (title) {\r\n    diagram\r\n      .append('text')\r\n      .text(title)\r\n      .attr('x', (box.stopx - box.startx) / 2 - 2 * conf.diagramMarginX)\r\n      .attr('y', -25);\r\n  }\r\n\r\n  configureSvgSize(diagram, height, width, conf.useMaxWidth);\r\n\r\n  const extraVertForTitle = title ? 40 : 0;\r\n  diagram.attr(\r\n    'viewBox',\r\n    box.startx -\r\n      conf.diagramMarginX +\r\n      ' -' +\r\n      (conf.diagramMarginY + extraVertForTitle) +\r\n      ' ' +\r\n      width +\r\n      ' ' +\r\n      (height + extraVertForTitle)\r\n  );\r\n  log.debug(`models:`, bounds.models);\r\n};\r\n\r\n/**\r\n * Retrieves the max message width of each actor, supports signals (messages, loops)\r\n * and notes.\r\n *\r\n * It will enumerate each given message, and will determine its text width, in relation\r\n * to the actor it originates from, and destined to.\r\n *\r\n * @param actors - The actors map\r\n * @param messages - A list of message objects to iterate\r\n */\r\nconst getMaxMessageWidthPerActor = function (actors, messages) {\r\n  const maxMessageWidthPerActor = {};\r\n\r\n  messages.forEach(function (msg) {\r\n    if (actors[msg.to] && actors[msg.from]) {\r\n      const actor = actors[msg.to];\r\n\r\n      // If this is the first actor, and the message is left of it, no need to calculate the margin\r\n      if (msg.placement === parser.yy.PLACEMENT.LEFTOF && !actor.prevActor) {\r\n        return;\r\n      }\r\n\r\n      // If this is the last actor, and the message is right of it, no need to calculate the margin\r\n      if (msg.placement === parser.yy.PLACEMENT.RIGHTOF && !actor.nextActor) {\r\n        return;\r\n      }\r\n\r\n      const isNote = msg.placement !== undefined;\r\n      const isMessage = !isNote;\r\n\r\n      const textFont = isNote ? noteFont(conf) : messageFont(conf);\r\n      let wrappedMessage = msg.wrap\r\n        ? utils.wrapLabel(msg.message, conf.width - 2 * conf.wrapPadding, textFont)\r\n        : msg.message;\r\n      const messageDimensions = utils.calculateTextDimensions(wrappedMessage, textFont);\r\n      const messageWidth = messageDimensions.width + 2 * conf.wrapPadding;\r\n\r\n      /*\r\n       * The following scenarios should be supported:\r\n       *\r\n       * - There's a message (non-note) between fromActor and toActor\r\n       *   - If fromActor is on the right and toActor is on the left, we should\r\n       *     define the toActor's margin\r\n       *   - If fromActor is on the left and toActor is on the right, we should\r\n       *     define the fromActor's margin\r\n       * - There's a note, in which case fromActor == toActor\r\n       *   - If the note is to the left of the actor, we should define the previous actor\r\n       *     margin\r\n       *   - If the note is on the actor, we should define both the previous and next actor\r\n       *     margins, each being the half of the note size\r\n       *   - If the note is on the right of the actor, we should define the current actor\r\n       *     margin\r\n       */\r\n      if (isMessage && msg.from === actor.nextActor) {\r\n        maxMessageWidthPerActor[msg.to] = Math.max(\r\n          maxMessageWidthPerActor[msg.to] || 0,\r\n          messageWidth\r\n        );\r\n      } else if (isMessage && msg.from === actor.prevActor) {\r\n        maxMessageWidthPerActor[msg.from] = Math.max(\r\n          maxMessageWidthPerActor[msg.from] || 0,\r\n          messageWidth\r\n        );\r\n      } else if (isMessage && msg.from === msg.to) {\r\n        maxMessageWidthPerActor[msg.from] = Math.max(\r\n          maxMessageWidthPerActor[msg.from] || 0,\r\n          messageWidth / 2\r\n        );\r\n\r\n        maxMessageWidthPerActor[msg.to] = Math.max(\r\n          maxMessageWidthPerActor[msg.to] || 0,\r\n          messageWidth / 2\r\n        );\r\n      } else if (msg.placement === parser.yy.PLACEMENT.RIGHTOF) {\r\n        maxMessageWidthPerActor[msg.from] = Math.max(\r\n          maxMessageWidthPerActor[msg.from] || 0,\r\n          messageWidth\r\n        );\r\n      } else if (msg.placement === parser.yy.PLACEMENT.LEFTOF) {\r\n        maxMessageWidthPerActor[actor.prevActor] = Math.max(\r\n          maxMessageWidthPerActor[actor.prevActor] || 0,\r\n          messageWidth\r\n        );\r\n      } else if (msg.placement === parser.yy.PLACEMENT.OVER) {\r\n        if (actor.prevActor) {\r\n          maxMessageWidthPerActor[actor.prevActor] = Math.max(\r\n            maxMessageWidthPerActor[actor.prevActor] || 0,\r\n            messageWidth / 2\r\n          );\r\n        }\r\n\r\n        if (actor.nextActor) {\r\n          maxMessageWidthPerActor[msg.from] = Math.max(\r\n            maxMessageWidthPerActor[msg.from] || 0,\r\n            messageWidth / 2\r\n          );\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  log.debug('maxMessageWidthPerActor:', maxMessageWidthPerActor);\r\n  return maxMessageWidthPerActor;\r\n};\r\n\r\n/**\r\n * This will calculate the optimal margin for each given actor, for a given\r\n * actor->messageWidth map.\r\n *\r\n * An actor's margin is determined by the width of the actor, the width of the\r\n * largest message that originates from it, and the configured conf.actorMargin.\r\n *\r\n * @param actors - The actors map to calculate margins for\r\n * @param actorToMessageWidth - A map of actor key -> max message width it holds\r\n */\r\nconst calculateActorMargins = function (actors, actorToMessageWidth) {\r\n  let maxHeight = 0;\r\n  Object.keys(actors).forEach((prop) => {\r\n    const actor = actors[prop];\r\n    if (actor.wrap) {\r\n      actor.description = utils.wrapLabel(\r\n        actor.description,\r\n        conf.width - 2 * conf.wrapPadding,\r\n        actorFont(conf)\r\n      );\r\n    }\r\n    const actDims = utils.calculateTextDimensions(actor.description, actorFont(conf));\r\n    actor.width = actor.wrap\r\n      ? conf.width\r\n      : Math.max(conf.width, actDims.width + 2 * conf.wrapPadding);\r\n\r\n    actor.height = actor.wrap ? Math.max(actDims.height, conf.height) : conf.height;\r\n    maxHeight = Math.max(maxHeight, actor.height);\r\n  });\r\n\r\n  for (let actorKey in actorToMessageWidth) {\r\n    const actor = actors[actorKey];\r\n\r\n    if (!actor) {\r\n      continue;\r\n    }\r\n\r\n    const nextActor = actors[actor.nextActor];\r\n\r\n    // No need to space out an actor that doesn't have a next link\r\n    if (!nextActor) {\r\n      continue;\r\n    }\r\n\r\n    const messageWidth = actorToMessageWidth[actorKey];\r\n    const actorWidth = messageWidth + conf.actorMargin - actor.width / 2 - nextActor.width / 2;\r\n\r\n    actor.margin = Math.max(actorWidth, conf.actorMargin);\r\n  }\r\n\r\n  return Math.max(maxHeight, conf.height);\r\n};\r\n\r\nconst buildNoteModel = function (msg, actors) {\r\n  let startx = actors[msg.from].x;\r\n  let stopx = actors[msg.to].x;\r\n  let shouldWrap = msg.wrap && msg.message;\r\n\r\n  let textDimensions = utils.calculateTextDimensions(\r\n    shouldWrap ? utils.wrapLabel(msg.message, conf.width, noteFont(conf)) : msg.message,\r\n    noteFont(conf)\r\n  );\r\n  let noteModel = {\r\n    width: shouldWrap\r\n      ? conf.width\r\n      : Math.max(conf.width, textDimensions.width + 2 * conf.noteMargin),\r\n    height: 0,\r\n    startx: actors[msg.from].x,\r\n    stopx: 0,\r\n    starty: 0,\r\n    stopy: 0,\r\n    message: msg.message,\r\n  };\r\n  if (msg.placement === parser.yy.PLACEMENT.RIGHTOF) {\r\n    noteModel.width = shouldWrap\r\n      ? Math.max(conf.width, textDimensions.width)\r\n      : Math.max(\r\n          actors[msg.from].width / 2 + actors[msg.to].width / 2,\r\n          textDimensions.width + 2 * conf.noteMargin\r\n        );\r\n    noteModel.startx = startx + (actors[msg.from].width + conf.actorMargin) / 2;\r\n  } else if (msg.placement === parser.yy.PLACEMENT.LEFTOF) {\r\n    noteModel.width = shouldWrap\r\n      ? Math.max(conf.width, textDimensions.width + 2 * conf.noteMargin)\r\n      : Math.max(\r\n          actors[msg.from].width / 2 + actors[msg.to].width / 2,\r\n          textDimensions.width + 2 * conf.noteMargin\r\n        );\r\n    noteModel.startx = startx - noteModel.width + (actors[msg.from].width - conf.actorMargin) / 2;\r\n  } else if (msg.to === msg.from) {\r\n    textDimensions = utils.calculateTextDimensions(\r\n      shouldWrap\r\n        ? utils.wrapLabel(msg.message, Math.max(conf.width, actors[msg.from].width), noteFont(conf))\r\n        : msg.message,\r\n      noteFont(conf)\r\n    );\r\n    noteModel.width = shouldWrap\r\n      ? Math.max(conf.width, actors[msg.from].width)\r\n      : Math.max(actors[msg.from].width, conf.width, textDimensions.width + 2 * conf.noteMargin);\r\n    noteModel.startx = startx + (actors[msg.from].width - noteModel.width) / 2;\r\n  } else {\r\n    noteModel.width =\r\n      Math.abs(startx + actors[msg.from].width / 2 - (stopx + actors[msg.to].width / 2)) +\r\n      conf.actorMargin;\r\n    noteModel.startx =\r\n      startx < stopx\r\n        ? startx + actors[msg.from].width / 2 - conf.actorMargin / 2\r\n        : stopx + actors[msg.to].width / 2 - conf.actorMargin / 2;\r\n  }\r\n  if (shouldWrap) {\r\n    noteModel.message = utils.wrapLabel(\r\n      msg.message,\r\n      noteModel.width - 2 * conf.wrapPadding,\r\n      noteFont(conf)\r\n    );\r\n  }\r\n  log.debug(\r\n    `NM:[${noteModel.startx},${noteModel.stopx},${noteModel.starty},${noteModel.stopy}:${noteModel.width},${noteModel.height}=${msg.message}]`\r\n  );\r\n  return noteModel;\r\n};\r\n\r\nconst buildMessageModel = function (msg, actors) {\r\n  let process = false;\r\n  if (\r\n    [\r\n      parser.yy.LINETYPE.SOLID_OPEN,\r\n      parser.yy.LINETYPE.DOTTED_OPEN,\r\n      parser.yy.LINETYPE.SOLID,\r\n      parser.yy.LINETYPE.DOTTED,\r\n      parser.yy.LINETYPE.SOLID_CROSS,\r\n      parser.yy.LINETYPE.DOTTED_CROSS,\r\n      parser.yy.LINETYPE.SOLID_POINT,\r\n      parser.yy.LINETYPE.DOTTED_POINT,\r\n    ].includes(msg.type)\r\n  ) {\r\n    process = true;\r\n  }\r\n  if (!process) {\r\n    return {};\r\n  }\r\n  const fromBounds = activationBounds(msg.from, actors);\r\n  const toBounds = activationBounds(msg.to, actors);\r\n  const fromIdx = fromBounds[0] <= toBounds[0] ? 1 : 0;\r\n  const toIdx = fromBounds[0] < toBounds[0] ? 0 : 1;\r\n  const allBounds = fromBounds.concat(toBounds);\r\n  const boundedWidth = Math.abs(toBounds[toIdx] - fromBounds[fromIdx]);\r\n  if (msg.wrap && msg.message) {\r\n    msg.message = utils.wrapLabel(\r\n      msg.message,\r\n      Math.max(boundedWidth + 2 * conf.wrapPadding, conf.width),\r\n      messageFont(conf)\r\n    );\r\n  }\r\n  const msgDims = utils.calculateTextDimensions(msg.message, messageFont(conf));\r\n\r\n  return {\r\n    width: Math.max(\r\n      msg.wrap ? 0 : msgDims.width + 2 * conf.wrapPadding,\r\n      boundedWidth + 2 * conf.wrapPadding,\r\n      conf.width\r\n    ),\r\n    height: 0,\r\n    startx: fromBounds[fromIdx],\r\n    stopx: toBounds[toIdx],\r\n    starty: 0,\r\n    stopy: 0,\r\n    message: msg.message,\r\n    type: msg.type,\r\n    wrap: msg.wrap,\r\n    fromBounds: Math.min.apply(null, allBounds),\r\n    toBounds: Math.max.apply(null, allBounds),\r\n  };\r\n};\r\n\r\nconst calculateLoopBounds = function (messages, actors) {\r\n  const loops = {};\r\n  const stack = [];\r\n  let current, noteModel, msgModel;\r\n\r\n  messages.forEach(function (msg) {\r\n    msg.id = utils.random({ length: 10 });\r\n    switch (msg.type) {\r\n      case parser.yy.LINETYPE.LOOP_START:\r\n      case parser.yy.LINETYPE.ALT_START:\r\n      case parser.yy.LINETYPE.OPT_START:\r\n      case parser.yy.LINETYPE.PAR_START:\r\n        stack.push({\r\n          id: msg.id,\r\n          msg: msg.message,\r\n          from: Number.MAX_SAFE_INTEGER,\r\n          to: Number.MIN_SAFE_INTEGER,\r\n          width: 0,\r\n        });\r\n        break;\r\n      case parser.yy.LINETYPE.ALT_ELSE:\r\n      case parser.yy.LINETYPE.PAR_AND:\r\n        if (msg.message) {\r\n          current = stack.pop();\r\n          loops[current.id] = current;\r\n          loops[msg.id] = current;\r\n          stack.push(current);\r\n        }\r\n        break;\r\n      case parser.yy.LINETYPE.LOOP_END:\r\n      case parser.yy.LINETYPE.ALT_END:\r\n      case parser.yy.LINETYPE.OPT_END:\r\n      case parser.yy.LINETYPE.PAR_END:\r\n        current = stack.pop();\r\n        loops[current.id] = current;\r\n        break;\r\n      case parser.yy.LINETYPE.ACTIVE_START:\r\n        {\r\n          const actorRect = actors[msg.from ? msg.from.actor : msg.to.actor];\r\n          const stackedSize = actorActivations(msg.from ? msg.from.actor : msg.to.actor).length;\r\n          const x =\r\n            actorRect.x + actorRect.width / 2 + ((stackedSize - 1) * conf.activationWidth) / 2;\r\n          const toAdd = {\r\n            startx: x,\r\n            stopx: x + conf.activationWidth,\r\n            actor: msg.from.actor,\r\n            enabled: true,\r\n          };\r\n          bounds.activations.push(toAdd);\r\n        }\r\n        break;\r\n      case parser.yy.LINETYPE.ACTIVE_END:\r\n        {\r\n          const lastActorActivationIdx = bounds.activations\r\n            .map((a) => a.actor)\r\n            .lastIndexOf(msg.from.actor);\r\n          delete bounds.activations.splice(lastActorActivationIdx, 1)[0];\r\n        }\r\n        break;\r\n    }\r\n    const isNote = msg.placement !== undefined;\r\n    if (isNote) {\r\n      noteModel = buildNoteModel(msg, actors);\r\n      msg.noteModel = noteModel;\r\n      stack.forEach((stk) => {\r\n        current = stk;\r\n        current.from = Math.min(current.from, noteModel.startx);\r\n        current.to = Math.max(current.to, noteModel.startx + noteModel.width);\r\n        current.width =\r\n          Math.max(current.width, Math.abs(current.from - current.to)) - conf.labelBoxWidth;\r\n      });\r\n    } else {\r\n      msgModel = buildMessageModel(msg, actors);\r\n      msg.msgModel = msgModel;\r\n      if (msgModel.startx && msgModel.stopx && stack.length > 0) {\r\n        stack.forEach((stk) => {\r\n          current = stk;\r\n          if (msgModel.startx === msgModel.stopx) {\r\n            let from = actors[msg.from];\r\n            let to = actors[msg.to];\r\n            current.from = Math.min(\r\n              from.x - msgModel.width / 2,\r\n              from.x - from.width / 2,\r\n              current.from\r\n            );\r\n            current.to = Math.max(to.x + msgModel.width / 2, to.x + from.width / 2, current.to);\r\n            current.width =\r\n              Math.max(current.width, Math.abs(current.to - current.from)) - conf.labelBoxWidth;\r\n          } else {\r\n            current.from = Math.min(msgModel.startx, current.from);\r\n            current.to = Math.max(msgModel.stopx, current.to);\r\n            current.width = Math.max(current.width, msgModel.width) - conf.labelBoxWidth;\r\n          }\r\n        });\r\n      }\r\n    }\r\n  });\r\n  bounds.activations = [];\r\n  log.debug('Loop type widths:', loops);\r\n  return loops;\r\n};\r\n\r\nexport default {\r\n  bounds,\r\n  drawActors,\r\n  setConf,\r\n  draw,\r\n};\r\n","const getStyles = (options) =>\r\n  `.actor {\r\n    stroke: ${options.actorBorder};\r\n    fill: ${options.actorBkg};\r\n  }\r\n\r\n  text.actor > tspan {\r\n    fill: ${options.actorTextColor};\r\n    stroke: none;\r\n  }\r\n\r\n  .actor-line {\r\n    stroke: ${options.actorLineColor};\r\n  }\r\n\r\n  .messageLine0 {\r\n    stroke-width: 1.5;\r\n    stroke-dasharray: none;\r\n    stroke: ${options.signalColor};\r\n  }\r\n\r\n  .messageLine1 {\r\n    stroke-width: 1.5;\r\n    stroke-dasharray: 2, 2;\r\n    stroke: ${options.signalColor};\r\n  }\r\n\r\n  #arrowhead path {\r\n    fill: ${options.signalColor};\r\n    stroke: ${options.signalColor};\r\n  }\r\n\r\n  .sequenceNumber {\r\n    fill: ${options.sequenceNumberColor};\r\n  }\r\n\r\n  #sequencenumber {\r\n    fill: ${options.signalColor};\r\n  }\r\n\r\n  #crosshead path {\r\n    fill: ${options.signalColor};\r\n    stroke: ${options.signalColor};\r\n  }\r\n\r\n  .messageText {\r\n    fill: ${options.signalTextColor};\r\n    stroke: ${options.signalTextColor};\r\n  }\r\n\r\n  .labelBox {\r\n    stroke: ${options.labelBoxBorderColor};\r\n    fill: ${options.labelBoxBkgColor};\r\n  }\r\n\r\n  .labelText, .labelText > tspan {\r\n    fill: ${options.labelTextColor};\r\n    stroke: none;\r\n  }\r\n\r\n  .loopText, .loopText > tspan {\r\n    fill: ${options.loopTextColor};\r\n    stroke: none;\r\n  }\r\n\r\n  .loopLine {\r\n    stroke-width: 2px;\r\n    stroke-dasharray: 2, 2;\r\n    stroke: ${options.labelBoxBorderColor};\r\n    fill: ${options.labelBoxBorderColor};\r\n  }\r\n\r\n  .note {\r\n    //stroke: #decc93;\r\n    stroke: ${options.noteBorderColor};\r\n    fill: ${options.noteBkgColor};\r\n  }\r\n\r\n  .noteText, .noteText > tspan {\r\n    fill: ${options.noteTextColor};\r\n    stroke: none;\r\n  }\r\n\r\n  .activation0 {\r\n    fill: ${options.activationBkgColor};\r\n    stroke: ${options.activationBorderColor};\r\n  }\r\n\r\n  .activation1 {\r\n    fill: ${options.activationBkgColor};\r\n    stroke: ${options.activationBorderColor};\r\n  }\r\n\r\n  .activation2 {\r\n    fill: ${options.activationBkgColor};\r\n    stroke: ${options.activationBorderColor};\r\n  }\r\n`;\r\n\r\nexport default getStyles;\r\n","import common from '../common/common';\r\n\r\nexport const drawRect = function (elem, rectData) {\r\n  const rectElem = elem.append('rect');\r\n  rectElem.attr('x', rectData.x);\r\n  rectElem.attr('y', rectData.y);\r\n  rectElem.attr('fill', rectData.fill);\r\n  rectElem.attr('stroke', rectData.stroke);\r\n  rectElem.attr('width', rectData.width);\r\n  rectElem.attr('height', rectData.height);\r\n  rectElem.attr('rx', rectData.rx);\r\n  rectElem.attr('ry', rectData.ry);\r\n\r\n  if (typeof rectData.class !== 'undefined') {\r\n    rectElem.attr('class', rectData.class);\r\n  }\r\n\r\n  return rectElem;\r\n};\r\n\r\nexport const drawText = function (elem, textData) {\r\n  let prevTextHeight = 0,\r\n    textHeight = 0;\r\n  const lines = textData.text.split(common.lineBreakRegex);\r\n\r\n  let textElems = [];\r\n  let dy = 0;\r\n  let yfunc = () => textData.y;\r\n  if (\r\n    typeof textData.valign !== 'undefined' &&\r\n    typeof textData.textMargin !== 'undefined' &&\r\n    textData.textMargin > 0\r\n  ) {\r\n    switch (textData.valign) {\r\n      case 'top':\r\n      case 'start':\r\n        yfunc = () => Math.round(textData.y + textData.textMargin);\r\n        break;\r\n      case 'middle':\r\n      case 'center':\r\n        yfunc = () =>\r\n          Math.round(textData.y + (prevTextHeight + textHeight + textData.textMargin) / 2);\r\n        break;\r\n      case 'bottom':\r\n      case 'end':\r\n        yfunc = () =>\r\n          Math.round(\r\n            textData.y +\r\n              (prevTextHeight + textHeight + 2 * textData.textMargin) -\r\n              textData.textMargin\r\n          );\r\n        break;\r\n    }\r\n  }\r\n  if (\r\n    typeof textData.anchor !== 'undefined' &&\r\n    typeof textData.textMargin !== 'undefined' &&\r\n    typeof textData.width !== 'undefined'\r\n  ) {\r\n    switch (textData.anchor) {\r\n      case 'left':\r\n      case 'start':\r\n        textData.x = Math.round(textData.x + textData.textMargin);\r\n        textData.anchor = 'start';\r\n        textData.dominantBaseline = 'text-after-edge';\r\n        textData.alignmentBaseline = 'middle';\r\n        break;\r\n      case 'middle':\r\n      case 'center':\r\n        textData.x = Math.round(textData.x + textData.width / 2);\r\n        textData.anchor = 'middle';\r\n        textData.dominantBaseline = 'middle';\r\n        textData.alignmentBaseline = 'middle';\r\n        break;\r\n      case 'right':\r\n      case 'end':\r\n        textData.x = Math.round(textData.x + textData.width - textData.textMargin);\r\n        textData.anchor = 'end';\r\n        textData.dominantBaseline = 'text-before-edge';\r\n        textData.alignmentBaseline = 'middle';\r\n        break;\r\n    }\r\n  }\r\n  for (let i = 0; i < lines.length; i++) {\r\n    let line = lines[i];\r\n    if (\r\n      typeof textData.textMargin !== 'undefined' &&\r\n      textData.textMargin === 0 &&\r\n      typeof textData.fontSize !== 'undefined'\r\n    ) {\r\n      dy = i * textData.fontSize;\r\n    }\r\n\r\n    const textElem = elem.append('text');\r\n    textElem.attr('x', textData.x);\r\n    textElem.attr('y', yfunc());\r\n    if (typeof textData.anchor !== 'undefined') {\r\n      textElem\r\n        .attr('text-anchor', textData.anchor)\r\n        .attr('dominant-baseline', textData.dominantBaseline)\r\n        .attr('alignment-baseline', textData.alignmentBaseline);\r\n    }\r\n    if (typeof textData.fontFamily !== 'undefined') {\r\n      textElem.style('font-family', textData.fontFamily);\r\n    }\r\n    if (typeof textData.fontSize !== 'undefined') {\r\n      textElem.style('font-size', textData.fontSize);\r\n    }\r\n    if (typeof textData.fontWeight !== 'undefined') {\r\n      textElem.style('font-weight', textData.fontWeight);\r\n    }\r\n    if (typeof textData.fill !== 'undefined') {\r\n      textElem.attr('fill', textData.fill);\r\n    }\r\n    if (typeof textData.class !== 'undefined') {\r\n      textElem.attr('class', textData.class);\r\n    }\r\n    if (typeof textData.dy !== 'undefined') {\r\n      textElem.attr('dy', textData.dy);\r\n    } else if (dy !== 0) {\r\n      textElem.attr('dy', dy);\r\n    }\r\n\r\n    if (textData.tspan) {\r\n      const span = textElem.append('tspan');\r\n      span.attr('x', textData.x);\r\n      if (typeof textData.fill !== 'undefined') {\r\n        span.attr('fill', textData.fill);\r\n      }\r\n      span.text(line);\r\n    } else {\r\n      textElem.text(line);\r\n    }\r\n    if (\r\n      typeof textData.valign !== 'undefined' &&\r\n      typeof textData.textMargin !== 'undefined' &&\r\n      textData.textMargin > 0\r\n    ) {\r\n      textHeight += (textElem._groups || textElem)[0][0].getBBox().height;\r\n      prevTextHeight = textHeight;\r\n    }\r\n\r\n    textElems.push(textElem);\r\n  }\r\n\r\n  return textElems;\r\n};\r\n\r\nexport const drawLabel = function (elem, txtObject) {\r\n  function genPoints(x, y, width, height, cut) {\r\n    return (\r\n      x +\r\n      ',' +\r\n      y +\r\n      ' ' +\r\n      (x + width) +\r\n      ',' +\r\n      y +\r\n      ' ' +\r\n      (x + width) +\r\n      ',' +\r\n      (y + height - cut) +\r\n      ' ' +\r\n      (x + width - cut * 1.2) +\r\n      ',' +\r\n      (y + height) +\r\n      ' ' +\r\n      x +\r\n      ',' +\r\n      (y + height)\r\n    );\r\n  }\r\n  const polygon = elem.append('polygon');\r\n  polygon.attr('points', genPoints(txtObject.x, txtObject.y, txtObject.width, txtObject.height, 7));\r\n  polygon.attr('class', 'labelBox');\r\n\r\n  txtObject.y = txtObject.y + txtObject.height / 2;\r\n\r\n  drawText(elem, txtObject);\r\n  return polygon;\r\n};\r\n\r\nlet actorCnt = -1;\r\n/**\r\n * Draws an actor in the diagram with the attached line\r\n * @param elem - The diagram we'll draw to.\r\n * @param actor - The actor to draw.\r\n * @param conf - drawText implementation discriminator object\r\n */\r\nexport const drawActor = function (elem, actor, conf) {\r\n  const center = actor.x + actor.width / 2;\r\n\r\n  const g = elem.append('g');\r\n  if (actor.y === 0) {\r\n    actorCnt++;\r\n    g.append('line')\r\n      .attr('id', 'actor' + actorCnt)\r\n      .attr('x1', center)\r\n      .attr('y1', 5)\r\n      .attr('x2', center)\r\n      .attr('y2', 2000)\r\n      .attr('class', 'actor-line')\r\n      .attr('stroke-width', '0.5px')\r\n      .attr('stroke', '#999');\r\n  }\r\n\r\n  const rect = getNoteRect();\r\n  rect.x = actor.x;\r\n  rect.y = actor.y;\r\n  rect.fill = '#eaeaea';\r\n  rect.width = actor.width;\r\n  rect.height = actor.height;\r\n  rect.class = 'actor';\r\n  rect.rx = 3;\r\n  rect.ry = 3;\r\n  drawRect(g, rect);\r\n\r\n  _drawTextCandidateFunc(conf)(\r\n    actor.description,\r\n    g,\r\n    rect.x,\r\n    rect.y,\r\n    rect.width,\r\n    rect.height,\r\n    { class: 'actor' },\r\n    conf\r\n  );\r\n};\r\n\r\nexport const anchorElement = function (elem) {\r\n  return elem.append('g');\r\n};\r\n/**\r\n * Draws an activation in the diagram\r\n * @param elem - element to append activation rect.\r\n * @param bounds - activation box bounds.\r\n * @param verticalPos - precise y cooridnate of bottom activation box edge.\r\n * @param conf - sequence diagram config object.\r\n * @param actorActivations - number of activations on the actor.\r\n */\r\nexport const drawActivation = function (elem, bounds, verticalPos, conf, actorActivations) {\r\n  const rect = getNoteRect();\r\n  const g = bounds.anchored;\r\n  rect.x = bounds.startx;\r\n  rect.y = bounds.starty;\r\n  rect.class = 'activation' + (actorActivations % 3); // Will evaluate to 0, 1 or 2\r\n  rect.width = bounds.stopx - bounds.startx;\r\n  rect.height = verticalPos - bounds.starty;\r\n  drawRect(g, rect);\r\n};\r\n\r\n/**\r\n * Draws a loop in the diagram\r\n * @param elem - elemenet to append the loop to.\r\n * @param loopModel - loopModel of the given loop.\r\n * @param labelText - Text within the loop.\r\n * @param conf - diagrom configuration\r\n */\r\nexport const drawLoop = function (elem, loopModel, labelText, conf) {\r\n  const {\r\n    boxMargin,\r\n    boxTextMargin,\r\n    labelBoxHeight,\r\n    labelBoxWidth,\r\n    messageFontFamily: fontFamily,\r\n    messageFontSize: fontSize,\r\n    messageFontWeight: fontWeight,\r\n  } = conf;\r\n  const g = elem.append('g');\r\n  const drawLoopLine = function (startx, starty, stopx, stopy) {\r\n    return g\r\n      .append('line')\r\n      .attr('x1', startx)\r\n      .attr('y1', starty)\r\n      .attr('x2', stopx)\r\n      .attr('y2', stopy)\r\n      .attr('class', 'loopLine');\r\n  };\r\n  drawLoopLine(loopModel.startx, loopModel.starty, loopModel.stopx, loopModel.starty);\r\n  drawLoopLine(loopModel.stopx, loopModel.starty, loopModel.stopx, loopModel.stopy);\r\n  drawLoopLine(loopModel.startx, loopModel.stopy, loopModel.stopx, loopModel.stopy);\r\n  drawLoopLine(loopModel.startx, loopModel.starty, loopModel.startx, loopModel.stopy);\r\n  if (typeof loopModel.sections !== 'undefined') {\r\n    loopModel.sections.forEach(function (item) {\r\n      drawLoopLine(loopModel.startx, item.y, loopModel.stopx, item.y).style(\r\n        'stroke-dasharray',\r\n        '3, 3'\r\n      );\r\n    });\r\n  }\r\n\r\n  let txt = getTextObj();\r\n  txt.text = labelText;\r\n  txt.x = loopModel.startx;\r\n  txt.y = loopModel.starty;\r\n  txt.fontFamily = fontFamily;\r\n  txt.fontSize = fontSize;\r\n  txt.fontWeight = fontWeight;\r\n  txt.anchor = 'middle';\r\n  txt.valign = 'middle';\r\n  txt.tspan = false;\r\n  txt.width = labelBoxWidth || 50;\r\n  txt.height = labelBoxHeight || 20;\r\n  txt.textMargin = boxTextMargin;\r\n  txt.class = 'labelText';\r\n\r\n  drawLabel(g, txt);\r\n  txt = getTextObj();\r\n  txt.text = loopModel.title;\r\n  txt.x = loopModel.startx + labelBoxWidth / 2 + (loopModel.stopx - loopModel.startx) / 2;\r\n  txt.y = loopModel.starty + boxMargin + boxTextMargin;\r\n  txt.anchor = 'middle';\r\n  txt.valign = 'middle';\r\n  txt.textMargin = boxTextMargin;\r\n  txt.class = 'loopText';\r\n  txt.fontFamily = fontFamily;\r\n  txt.fontSize = fontSize;\r\n  txt.fontWeight = fontWeight;\r\n  txt.wrap = true;\r\n\r\n  let textElem = drawText(g, txt);\r\n\r\n  if (typeof loopModel.sectionTitles !== 'undefined') {\r\n    loopModel.sectionTitles.forEach(function (item, idx) {\r\n      if (item.message) {\r\n        txt.text = item.message;\r\n        txt.x = loopModel.startx + (loopModel.stopx - loopModel.startx) / 2;\r\n        txt.y = loopModel.sections[idx].y + boxMargin + boxTextMargin;\r\n        txt.class = 'loopText';\r\n        txt.anchor = 'middle';\r\n        txt.valign = 'middle';\r\n        txt.tspan = false;\r\n        txt.fontFamily = fontFamily;\r\n        txt.fontSize = fontSize;\r\n        txt.fontWeight = fontWeight;\r\n        txt.wrap = loopModel.wrap;\r\n        textElem = drawText(g, txt);\r\n        let sectionHeight = Math.round(\r\n          textElem\r\n            .map((te) => (te._groups || te)[0][0].getBBox().height)\r\n            .reduce((acc, curr) => acc + curr)\r\n        );\r\n        loopModel.sections[idx].height += sectionHeight - (boxMargin + boxTextMargin);\r\n      }\r\n    });\r\n  }\r\n\r\n  loopModel.height = Math.round(loopModel.stopy - loopModel.starty);\r\n  return g;\r\n};\r\n\r\n/**\r\n * Draws a background rectangle\r\n * @param elem diagram (reference for bounds)\r\n * @param bounds shape of the rectangle\r\n */\r\nexport const drawBackgroundRect = function (elem, bounds) {\r\n  const rectElem = drawRect(elem, {\r\n    x: bounds.startx,\r\n    y: bounds.starty,\r\n    width: bounds.stopx - bounds.startx,\r\n    height: bounds.stopy - bounds.starty,\r\n    fill: bounds.fill,\r\n    class: 'rect',\r\n  });\r\n  rectElem.lower();\r\n};\r\n/**\r\n * Setup arrow head and define the marker. The result is appended to the svg.\r\n */\r\nexport const insertArrowHead = function (elem) {\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', 'arrowhead')\r\n    .attr('refX', 9)\r\n    .attr('refY', 5)\r\n    .attr('markerUnits', 'userSpaceOnUse')\r\n    .attr('markerWidth', 12)\r\n    .attr('markerHeight', 12)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 0 0 L 10 5 L 0 10 z'); // this is actual shape for arrowhead\r\n};\r\n/**\r\n * Setup arrow head and define the marker. The result is appended to the svg.\r\n */\r\nexport const insertArrowFilledHead = function (elem) {\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', 'filled-head')\r\n    .attr('refX', 18)\r\n    .attr('refY', 7)\r\n    .attr('markerWidth', 20)\r\n    .attr('markerHeight', 28)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 18,7 L9,13 L14,7 L9,1 Z');\r\n};\r\n/**\r\n * Setup node number. The result is appended to the svg.\r\n */\r\nexport const insertSequenceNumber = function (elem) {\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', 'sequencenumber')\r\n    .attr('refX', 15)\r\n    .attr('refY', 15)\r\n    .attr('markerWidth', 60)\r\n    .attr('markerHeight', 40)\r\n    .attr('orient', 'auto')\r\n    .append('circle')\r\n    .attr('cx', 15)\r\n    .attr('cy', 15)\r\n    .attr('r', 6);\r\n  // .style(\"fill\", '#f00');\r\n};\r\n/**\r\n * Setup arrow head and define the marker. The result is appended to the svg.\r\n */\r\nexport const insertArrowCrossHead = function (elem) {\r\n  const defs = elem.append('defs');\r\n  const marker = defs\r\n    .append('marker')\r\n    .attr('id', 'crosshead')\r\n    .attr('markerWidth', 15)\r\n    .attr('markerHeight', 8)\r\n    .attr('orient', 'auto')\r\n    .attr('refX', 16)\r\n    .attr('refY', 4);\r\n\r\n  // The arrow\r\n  marker\r\n    .append('path')\r\n    .attr('fill', 'black')\r\n    .attr('stroke', '#000000')\r\n    .style('stroke-dasharray', '0, 0')\r\n    .attr('stroke-width', '1px')\r\n    .attr('d', 'M 9,2 V 6 L16,4 Z');\r\n\r\n  // The cross\r\n  marker\r\n    .append('path')\r\n    .attr('fill', 'none')\r\n    .attr('stroke', '#000000')\r\n    .style('stroke-dasharray', '0, 0')\r\n    .attr('stroke-width', '1px')\r\n    .attr('d', 'M 0,1 L 6,7 M 6,1 L 0,7');\r\n  // this is actual shape for arrowhead\r\n};\r\n\r\nexport const getTextObj = function () {\r\n  return {\r\n    x: 0,\r\n    y: 0,\r\n    fill: undefined,\r\n    anchor: undefined,\r\n    style: '#666',\r\n    width: undefined,\r\n    height: undefined,\r\n    textMargin: 0,\r\n    rx: 0,\r\n    ry: 0,\r\n    tspan: true,\r\n    valign: undefined,\r\n  };\r\n};\r\n\r\nexport const getNoteRect = function () {\r\n  return {\r\n    x: 0,\r\n    y: 0,\r\n    fill: '#EDF2AE',\r\n    stroke: '#666',\r\n    width: 100,\r\n    anchor: 'start',\r\n    height: 100,\r\n    rx: 0,\r\n    ry: 0,\r\n  };\r\n};\r\n\r\nconst _drawTextCandidateFunc = (function () {\r\n  function byText(content, g, x, y, width, height, textAttrs) {\r\n    const text = g\r\n      .append('text')\r\n      .attr('x', x + width / 2)\r\n      .attr('y', y + height / 2 + 5)\r\n      .style('text-anchor', 'middle')\r\n      .text(content);\r\n    _setTextAttrs(text, textAttrs);\r\n  }\r\n\r\n  function byTspan(content, g, x, y, width, height, textAttrs, conf) {\r\n    const { actorFontSize, actorFontFamily, actorFontWeight } = conf;\r\n\r\n    const lines = content.split(common.lineBreakRegex);\r\n    for (let i = 0; i < lines.length; i++) {\r\n      const dy = i * actorFontSize - (actorFontSize * (lines.length - 1)) / 2;\r\n      const text = g\r\n        .append('text')\r\n        .attr('x', x + width / 2)\r\n        .attr('y', y)\r\n        .style('text-anchor', 'middle')\r\n        .style('font-size', actorFontSize)\r\n        .style('font-weight', actorFontWeight)\r\n        .style('font-family', actorFontFamily);\r\n      text\r\n        .append('tspan')\r\n        .attr('x', x + width / 2)\r\n        .attr('dy', dy)\r\n        .text(lines[i]);\r\n\r\n      text\r\n        .attr('y', y + height / 2.0)\r\n        .attr('dominant-baseline', 'central')\r\n        .attr('alignment-baseline', 'central');\r\n\r\n      _setTextAttrs(text, textAttrs);\r\n    }\r\n  }\r\n\r\n  function byFo(content, g, x, y, width, height, textAttrs, conf) {\r\n    const s = g.append('switch');\r\n    const f = s\r\n      .append('foreignObject')\r\n      .attr('x', x)\r\n      .attr('y', y)\r\n      .attr('width', width)\r\n      .attr('height', height);\r\n\r\n    const text = f\r\n      .append('xhtml:div')\r\n      .style('display', 'table')\r\n      .style('height', '100%')\r\n      .style('width', '100%');\r\n\r\n    text\r\n      .append('div')\r\n      .style('display', 'table-cell')\r\n      .style('text-align', 'center')\r\n      .style('vertical-align', 'middle')\r\n      .text(content);\r\n\r\n    byTspan(content, s, x, y, width, height, textAttrs, conf);\r\n    _setTextAttrs(text, textAttrs);\r\n  }\r\n\r\n  function _setTextAttrs(toText, fromTextAttrsDict) {\r\n    for (const key in fromTextAttrsDict) {\r\n      if (fromTextAttrsDict.hasOwnProperty(key)) { // eslint-disable-line\r\n        toText.attr(key, fromTextAttrsDict[key]);\r\n      }\r\n    }\r\n  }\r\n\r\n  return function (conf) {\r\n    return conf.textPlacement === 'fo' ? byFo : conf.textPlacement === 'old' ? byText : byTspan;\r\n  };\r\n})();\r\n\r\nexport default {\r\n  drawRect,\r\n  drawText,\r\n  drawLabel,\r\n  drawActor,\r\n  anchorElement,\r\n  drawActivation,\r\n  drawLoop,\r\n  drawBackgroundRect,\r\n  insertArrowHead,\r\n  insertArrowFilledHead,\r\n  insertSequenceNumber,\r\n  insertArrowCrossHead,\r\n  getTextObj,\r\n  getNoteRect,\r\n};\r\n","const idCache = {};\r\n\r\nexport const set = (key, val) => {\r\n  idCache[key] = val;\r\n};\r\n\r\nexport const get = (k) => idCache[k];\r\nexport const keys = () => Object.keys(idCache);\r\nexport const size = () => keys().length;\r\n\r\nexport default {\r\n  get,\r\n  set,\r\n  keys,\r\n  size,\r\n};\r\n","import { line, curveBasis } from 'd3';\r\nimport idCache from './id-cache.js';\r\nimport stateDb from './stateDb';\r\nimport utils from '../../utils';\r\nimport common from '../common/common';\r\nimport { getConfig } from '../../config';\r\nimport { log } from '../../logger';\r\n\r\n// let conf;\r\n\r\n/**\r\n * Draws a start state as a black circle\r\n */\r\nexport const drawStartState = (g) =>\r\n  g\r\n    .append('circle')\r\n    // .style('stroke', 'black')\r\n    // .style('fill', 'black')\r\n    .attr('class', 'start-state')\r\n    .attr('r', getConfig().state.sizeUnit)\r\n    .attr('cx', getConfig().state.padding + getConfig().state.sizeUnit)\r\n    .attr('cy', getConfig().state.padding + getConfig().state.sizeUnit);\r\n\r\n/**\r\n * Draws a start state as a black circle\r\n */\r\nexport const drawDivider = (g) =>\r\n  g\r\n    .append('line')\r\n    .style('stroke', 'grey')\r\n    .style('stroke-dasharray', '3')\r\n    .attr('x1', getConfig().state.textHeight)\r\n    .attr('class', 'divider')\r\n    .attr('x2', getConfig().state.textHeight * 2)\r\n    .attr('y1', 0)\r\n    .attr('y2', 0);\r\n\r\n/**\r\n * Draws a an end state as a black circle\r\n */\r\nexport const drawSimpleState = (g, stateDef) => {\r\n  const state = g\r\n    .append('text')\r\n    .attr('x', 2 * getConfig().state.padding)\r\n    .attr('y', getConfig().state.textHeight + 2 * getConfig().state.padding)\r\n    .attr('font-size', getConfig().state.fontSize)\r\n    .attr('class', 'state-title')\r\n    .text(stateDef.id);\r\n\r\n  const classBox = state.node().getBBox();\r\n  g.insert('rect', ':first-child')\r\n    .attr('x', getConfig().state.padding)\r\n    .attr('y', getConfig().state.padding)\r\n    .attr('width', classBox.width + 2 * getConfig().state.padding)\r\n    .attr('height', classBox.height + 2 * getConfig().state.padding)\r\n    .attr('rx', getConfig().state.radius);\r\n\r\n  return state;\r\n};\r\n\r\n/**\r\n * Draws a state with descriptions\r\n * @param {*} g\r\n * @param {*} stateDef\r\n */\r\nexport const drawDescrState = (g, stateDef) => {\r\n  const addTspan = function (textEl, txt, isFirst) {\r\n    const tSpan = textEl\r\n      .append('tspan')\r\n      .attr('x', 2 * getConfig().state.padding)\r\n      .text(txt);\r\n    if (!isFirst) {\r\n      tSpan.attr('dy', getConfig().state.textHeight);\r\n    }\r\n  };\r\n  const title = g\r\n    .append('text')\r\n    .attr('x', 2 * getConfig().state.padding)\r\n    .attr('y', getConfig().state.textHeight + 1.3 * getConfig().state.padding)\r\n    .attr('font-size', getConfig().state.fontSize)\r\n    .attr('class', 'state-title')\r\n    .text(stateDef.descriptions[0]);\r\n\r\n  const titleBox = title.node().getBBox();\r\n  const titleHeight = titleBox.height;\r\n\r\n  const description = g\r\n    .append('text') // text label for the x axis\r\n    .attr('x', getConfig().state.padding)\r\n    .attr(\r\n      'y',\r\n      titleHeight +\r\n        getConfig().state.padding * 0.4 +\r\n        getConfig().state.dividerMargin +\r\n        getConfig().state.textHeight\r\n    )\r\n    .attr('class', 'state-description');\r\n\r\n  let isFirst = true;\r\n  let isSecond = true;\r\n  stateDef.descriptions.forEach(function (descr) {\r\n    if (!isFirst) {\r\n      addTspan(description, descr, isSecond);\r\n      isSecond = false;\r\n    }\r\n    isFirst = false;\r\n  });\r\n\r\n  const descrLine = g\r\n    .append('line') // text label for the x axis\r\n    .attr('x1', getConfig().state.padding)\r\n    .attr('y1', getConfig().state.padding + titleHeight + getConfig().state.dividerMargin / 2)\r\n    .attr('y2', getConfig().state.padding + titleHeight + getConfig().state.dividerMargin / 2)\r\n    .attr('class', 'descr-divider');\r\n  const descrBox = description.node().getBBox();\r\n  const width = Math.max(descrBox.width, titleBox.width);\r\n\r\n  descrLine.attr('x2', width + 3 * getConfig().state.padding);\r\n  // const classBox = title.node().getBBox();\r\n\r\n  g.insert('rect', ':first-child')\r\n    .attr('x', getConfig().state.padding)\r\n    .attr('y', getConfig().state.padding)\r\n    .attr('width', width + 2 * getConfig().state.padding)\r\n    .attr('height', descrBox.height + titleHeight + 2 * getConfig().state.padding)\r\n    .attr('rx', getConfig().state.radius);\r\n\r\n  return g;\r\n};\r\n\r\n/**\r\n * Adds the creates a box around the existing content and adds a\r\n * panel for the id on top of the content.\r\n */\r\n/**\r\n * Function that creates an title row and a frame around a substate for a composit state diagram.\r\n * The function returns a new d3 svg object with updated width and height properties;\r\n * @param {*} g The d3 svg object for the substate to framed\r\n * @param {*} stateDef The info about the\r\n */\r\nexport const addTitleAndBox = (g, stateDef, altBkg) => {\r\n  const pad = getConfig().state.padding;\r\n  const dblPad = 2 * getConfig().state.padding;\r\n  const orgBox = g.node().getBBox();\r\n  const orgWidth = orgBox.width;\r\n  const orgX = orgBox.x;\r\n\r\n  const title = g\r\n    .append('text')\r\n    .attr('x', 0)\r\n    .attr('y', getConfig().state.titleShift)\r\n    .attr('font-size', getConfig().state.fontSize)\r\n    .attr('class', 'state-title')\r\n    .text(stateDef.id);\r\n\r\n  const titleBox = title.node().getBBox();\r\n  const titleWidth = titleBox.width + dblPad;\r\n  let width = Math.max(titleWidth, orgWidth); // + dblPad;\r\n  if (width === orgWidth) {\r\n    width = width + dblPad;\r\n  }\r\n  let startX;\r\n  // const lineY = 1 - getConfig().state.textHeight;\r\n  // const descrLine = g\r\n  //   .append('line') // text label for the x axis\r\n  //   .attr('x1', 0)\r\n  //   .attr('y1', lineY)\r\n  //   .attr('y2', lineY)\r\n  //   .attr('class', 'descr-divider');\r\n\r\n  const graphBox = g.node().getBBox();\r\n  // descrLine.attr('x2', graphBox.width + getConfig().state.padding);\r\n\r\n  if (stateDef.doc) {\r\n    // cnsole.warn(\r\n    //   stateDef.id,\r\n    //   'orgX: ',\r\n    //   orgX,\r\n    //   'width: ',\r\n    //   width,\r\n    //   'titleWidth: ',\r\n    //   titleWidth,\r\n    //   'orgWidth: ',\r\n    //   orgWidth,\r\n    //   'width',\r\n    //   width\r\n    // );\r\n  }\r\n\r\n  startX = orgX - pad;\r\n  if (titleWidth > orgWidth) {\r\n    startX = (orgWidth - width) / 2 + pad;\r\n  }\r\n  if (Math.abs(orgX - graphBox.x) < pad) {\r\n    if (titleWidth > orgWidth) {\r\n      startX = orgX - (titleWidth - orgWidth) / 2;\r\n    }\r\n  }\r\n\r\n  const lineY = 1 - getConfig().state.textHeight;\r\n  // White color\r\n  g.insert('rect', ':first-child')\r\n    .attr('x', startX)\r\n    .attr('y', lineY)\r\n    .attr('class', altBkg ? 'alt-composit' : 'composit')\r\n    .attr('width', width)\r\n    .attr(\r\n      'height',\r\n      graphBox.height + getConfig().state.textHeight + getConfig().state.titleShift + 1\r\n    )\r\n    .attr('rx', '0');\r\n\r\n  title.attr('x', startX + pad);\r\n  if (titleWidth <= orgWidth) title.attr('x', orgX + (width - dblPad) / 2 - titleWidth / 2 + pad);\r\n\r\n  // Title background\r\n  g.insert('rect', ':first-child')\r\n    .attr('x', startX)\r\n    .attr(\r\n      'y',\r\n      getConfig().state.titleShift - getConfig().state.textHeight - getConfig().state.padding\r\n    )\r\n    .attr('width', width)\r\n    // Just needs to be higher then the descr line, will be clipped by the white color box\r\n    .attr('height', getConfig().state.textHeight * 3)\r\n    .attr('rx', getConfig().state.radius);\r\n\r\n  // Full background\r\n  g.insert('rect', ':first-child')\r\n    .attr('x', startX)\r\n    .attr(\r\n      'y',\r\n      getConfig().state.titleShift - getConfig().state.textHeight - getConfig().state.padding\r\n    )\r\n    .attr('width', width)\r\n    .attr('height', graphBox.height + 3 + 2 * getConfig().state.textHeight)\r\n    .attr('rx', getConfig().state.radius);\r\n\r\n  return g;\r\n};\r\n\r\nconst drawEndState = (g) => {\r\n  g.append('circle')\r\n    // .style('stroke', 'black')\r\n    // .style('fill', 'white')\r\n    .attr('class', 'end-state-outer')\r\n    .attr('r', getConfig().state.sizeUnit + getConfig().state.miniPadding)\r\n    .attr(\r\n      'cx',\r\n      getConfig().state.padding + getConfig().state.sizeUnit + getConfig().state.miniPadding\r\n    )\r\n    .attr(\r\n      'cy',\r\n      getConfig().state.padding + getConfig().state.sizeUnit + getConfig().state.miniPadding\r\n    );\r\n\r\n  return (\r\n    g\r\n      .append('circle')\r\n      // .style('stroke', 'black')\r\n      // .style('fill', 'black')\r\n      .attr('class', 'end-state-inner')\r\n      .attr('r', getConfig().state.sizeUnit)\r\n      .attr('cx', getConfig().state.padding + getConfig().state.sizeUnit + 2)\r\n      .attr('cy', getConfig().state.padding + getConfig().state.sizeUnit + 2)\r\n  );\r\n};\r\nconst drawForkJoinState = (g, stateDef) => {\r\n  let width = getConfig().state.forkWidth;\r\n  let height = getConfig().state.forkHeight;\r\n\r\n  if (stateDef.parentId) {\r\n    let tmp = width;\r\n    width = height;\r\n    height = tmp;\r\n  }\r\n  return g\r\n    .append('rect')\r\n    .style('stroke', 'black')\r\n    .style('fill', 'black')\r\n    .attr('width', width)\r\n    .attr('height', height)\r\n    .attr('x', getConfig().state.padding)\r\n    .attr('y', getConfig().state.padding);\r\n};\r\n\r\nexport const drawText = function (elem, textData) {\r\n  // Remove and ignore br:s\r\n  const nText = textData.text.replace(common.lineBreakRegex, ' ');\r\n\r\n  const textElem = elem.append('text');\r\n  textElem.attr('x', textData.x);\r\n  textElem.attr('y', textData.y);\r\n  textElem.style('text-anchor', textData.anchor);\r\n  textElem.attr('fill', textData.fill);\r\n  if (typeof textData.class !== 'undefined') {\r\n    textElem.attr('class', textData.class);\r\n  }\r\n\r\n  const span = textElem.append('tspan');\r\n  span.attr('x', textData.x + textData.textMargin * 2);\r\n  span.attr('fill', textData.fill);\r\n  span.text(nText);\r\n\r\n  return textElem;\r\n};\r\n\r\nconst _drawLongText = (_text, x, y, g) => {\r\n  let textHeight = 0;\r\n\r\n  const textElem = g.append('text');\r\n  textElem.style('text-anchor', 'start');\r\n  textElem.attr('class', 'noteText');\r\n\r\n  let text = _text.replace(/\\r\\n/g, '<br/>');\r\n  text = text.replace(/\\n/g, '<br/>');\r\n  const lines = text.split(common.lineBreakRegex);\r\n\r\n  let tHeight = 1.25 * getConfig().state.noteMargin;\r\n  for (const line of lines) {\r\n    const txt = line.trim();\r\n\r\n    if (txt.length > 0) {\r\n      const span = textElem.append('tspan');\r\n      span.text(txt);\r\n      if (tHeight === 0) {\r\n        const textBounds = span.node().getBBox();\r\n        tHeight += textBounds.height;\r\n      }\r\n      textHeight += tHeight;\r\n      span.attr('x', x + getConfig().state.noteMargin);\r\n      span.attr('y', y + textHeight + 1.25 * getConfig().state.noteMargin);\r\n    }\r\n  }\r\n  return { textWidth: textElem.node().getBBox().width, textHeight };\r\n};\r\n\r\n/**\r\n * Draws a note to the diagram\r\n * @param text - The text of the given note.\r\n * @param g - The element the note is attached to.\r\n */\r\n\r\nexport const drawNote = (text, g) => {\r\n  g.attr('class', 'state-note');\r\n  const note = g.append('rect').attr('x', 0).attr('y', getConfig().state.padding);\r\n  const rectElem = g.append('g');\r\n\r\n  const { textWidth, textHeight } = _drawLongText(text, 0, 0, rectElem);\r\n  note.attr('height', textHeight + 2 * getConfig().state.noteMargin);\r\n  note.attr('width', textWidth + getConfig().state.noteMargin * 2);\r\n\r\n  return note;\r\n};\r\n\r\n/**\r\n * Starting point for drawing a state. The function finds out the specifics\r\n * about the state and renders with approprtiate function.\r\n * @param {*} elem\r\n * @param {*} stateDef\r\n */\r\n\r\nexport const drawState = function (elem, stateDef) {\r\n  const id = stateDef.id;\r\n  const stateInfo = {\r\n    id: id,\r\n    label: stateDef.id,\r\n    width: 0,\r\n    height: 0,\r\n  };\r\n\r\n  const g = elem.append('g').attr('id', id).attr('class', 'stateGroup');\r\n\r\n  if (stateDef.type === 'start') drawStartState(g);\r\n  if (stateDef.type === 'end') drawEndState(g);\r\n  if (stateDef.type === 'fork' || stateDef.type === 'join') drawForkJoinState(g, stateDef);\r\n  if (stateDef.type === 'note') drawNote(stateDef.note.text, g);\r\n  if (stateDef.type === 'divider') drawDivider(g);\r\n  if (stateDef.type === 'default' && stateDef.descriptions.length === 0)\r\n    drawSimpleState(g, stateDef);\r\n  if (stateDef.type === 'default' && stateDef.descriptions.length > 0) drawDescrState(g, stateDef);\r\n\r\n  const stateBox = g.node().getBBox();\r\n  stateInfo.width = stateBox.width + 2 * getConfig().state.padding;\r\n  stateInfo.height = stateBox.height + 2 * getConfig().state.padding;\r\n\r\n  idCache.set(id, stateInfo);\r\n  // stateCnt++;\r\n  return stateInfo;\r\n};\r\n\r\nlet edgeCount = 0;\r\nexport const drawEdge = function (elem, path, relation) {\r\n  const getRelationType = function (type) {\r\n    switch (type) {\r\n      case stateDb.relationType.AGGREGATION:\r\n        return 'aggregation';\r\n      case stateDb.relationType.EXTENSION:\r\n        return 'extension';\r\n      case stateDb.relationType.COMPOSITION:\r\n        return 'composition';\r\n      case stateDb.relationType.DEPENDENCY:\r\n        return 'dependency';\r\n    }\r\n  };\r\n\r\n  path.points = path.points.filter((p) => !Number.isNaN(p.y));\r\n\r\n  // The data for our line\r\n  const lineData = path.points;\r\n\r\n  // This is the accessor function we talked about above\r\n  const lineFunction = line()\r\n    .x(function (d) {\r\n      return d.x;\r\n    })\r\n    .y(function (d) {\r\n      return d.y;\r\n    })\r\n    .curve(curveBasis);\r\n\r\n  const svgPath = elem\r\n    .append('path')\r\n    .attr('d', lineFunction(lineData))\r\n    .attr('id', 'edge' + edgeCount)\r\n    .attr('class', 'transition');\r\n  let url = '';\r\n  if (getConfig().state.arrowMarkerAbsolute) {\r\n    url =\r\n      window.location.protocol +\r\n      '//' +\r\n      window.location.host +\r\n      window.location.pathname +\r\n      window.location.search;\r\n    url = url.replace(/\\(/g, '\\\\(');\r\n    url = url.replace(/\\)/g, '\\\\)');\r\n  }\r\n\r\n  svgPath.attr(\r\n    'marker-end',\r\n    'url(' + url + '#' + getRelationType(stateDb.relationType.DEPENDENCY) + 'End' + ')'\r\n  );\r\n\r\n  if (typeof relation.title !== 'undefined') {\r\n    const label = elem.append('g').attr('class', 'stateLabel');\r\n\r\n    const { x, y } = utils.calcLabelPosition(path.points);\r\n\r\n    const rows = common.getRows(relation.title);\r\n\r\n    let titleHeight = 0;\r\n    const titleRows = [];\r\n    let maxWidth = 0;\r\n    let minX = 0;\r\n\r\n    for (let i = 0; i <= rows.length; i++) {\r\n      const title = label\r\n        .append('text')\r\n        .attr('text-anchor', 'middle')\r\n        .text(rows[i])\r\n        .attr('x', x)\r\n        .attr('y', y + titleHeight);\r\n\r\n      const boundstmp = title.node().getBBox();\r\n      maxWidth = Math.max(maxWidth, boundstmp.width);\r\n      minX = Math.min(minX, boundstmp.x);\r\n\r\n      log.info(boundstmp.x, x, y + titleHeight);\r\n\r\n      if (titleHeight === 0) {\r\n        const titleBox = title.node().getBBox();\r\n        titleHeight = titleBox.height;\r\n        log.info('Title height', titleHeight, y);\r\n      }\r\n      titleRows.push(title);\r\n    }\r\n\r\n    let boxHeight = titleHeight * rows.length;\r\n    if (rows.length > 1) {\r\n      const heightAdj = (rows.length - 1) * titleHeight * 0.5;\r\n\r\n      titleRows.forEach((title, i) => title.attr('y', y + i * titleHeight - heightAdj));\r\n      boxHeight = titleHeight * rows.length;\r\n    }\r\n\r\n    const bounds = label.node().getBBox();\r\n\r\n    label\r\n      .insert('rect', ':first-child')\r\n      .attr('class', 'box')\r\n      .attr('x', x - maxWidth / 2 - getConfig().state.padding / 2)\r\n      .attr('y', y - boxHeight / 2 - getConfig().state.padding / 2 - 3.5)\r\n      .attr('width', maxWidth + getConfig().state.padding)\r\n      .attr('height', boxHeight + getConfig().state.padding);\r\n\r\n    log.info(bounds);\r\n\r\n    //label.attr('transform', '0 -' + (bounds.y / 2));\r\n\r\n    // Debug points\r\n    // path.points.forEach(point => {\r\n    //   g.append('circle')\r\n    //     .style('stroke', 'red')\r\n    //     .style('fill', 'red')\r\n    //     .attr('r', 1)\r\n    //     .attr('cx', point.x)\r\n    //     .attr('cy', point.y);\r\n    // });\r\n    // g.append('circle')\r\n    //   .style('stroke', 'blue')\r\n    //   .style('fill', 'blue')\r\n    //   .attr('r', 1)\r\n    //   .attr('cx', x)\r\n    //   .attr('cy', y);\r\n  }\r\n\r\n  edgeCount++;\r\n};\r\n","import { log } from '../../logger';\r\nimport { generateId } from '../../utils';\r\nimport mermaidAPI from '../../mermaidAPI';\r\nimport * as configApi from '../../config';\r\n\r\nconst clone = (o) => JSON.parse(JSON.stringify(o));\r\n\r\nlet rootDoc = [];\r\n\r\nexport const parseDirective = function (statement, context, type) {\r\n  mermaidAPI.parseDirective(this, statement, context, type);\r\n};\r\n\r\nconst setRootDoc = (o) => {\r\n  log.info('Setting root doc', o);\r\n  // rootDoc = { id: 'root', doc: o };\r\n  rootDoc = o;\r\n};\r\n\r\nconst getRootDoc = () => rootDoc;\r\n\r\nconst docTranslator = (parent, node, first) => {\r\n  if (node.stmt === 'relation') {\r\n    docTranslator(parent, node.state1, true);\r\n    docTranslator(parent, node.state2, false);\r\n  } else {\r\n    if (node.stmt === 'state') {\r\n      if (node.id === '[*]') {\r\n        node.id = first ? parent.id + '_start' : parent.id + '_end';\r\n        node.start = first;\r\n      }\r\n    }\r\n\r\n    if (node.doc) {\r\n      const doc = [];\r\n      // Check for concurrency\r\n      let i = 0;\r\n      let currentDoc = [];\r\n      for (i = 0; i < node.doc.length; i++) {\r\n        if (node.doc[i].type === 'divider') {\r\n          // debugger;\r\n          const newNode = clone(node.doc[i]);\r\n          newNode.doc = clone(currentDoc);\r\n          doc.push(newNode);\r\n          currentDoc = [];\r\n        } else {\r\n          currentDoc.push(node.doc[i]);\r\n        }\r\n      }\r\n\r\n      // If any divider was encountered\r\n      if (doc.length > 0 && currentDoc.length > 0) {\r\n        const newNode = {\r\n          stmt: 'state',\r\n          id: generateId(),\r\n          type: 'divider',\r\n          doc: clone(currentDoc),\r\n        };\r\n        doc.push(clone(newNode));\r\n        node.doc = doc;\r\n      }\r\n\r\n      node.doc.forEach((docNode) => docTranslator(node, docNode, true));\r\n    }\r\n  }\r\n};\r\nconst getRootDocV2 = () => {\r\n  docTranslator({ id: 'root' }, { id: 'root', doc: rootDoc }, true);\r\n  return { id: 'root', doc: rootDoc };\r\n  // Here\r\n};\r\n\r\nconst extract = (_doc) => {\r\n  // const res = { states: [], relations: [] };\r\n  let doc;\r\n  if (_doc.doc) {\r\n    doc = _doc.doc;\r\n  } else {\r\n    doc = _doc;\r\n  }\r\n  // let doc = root.doc;\r\n  // if (!doc) {\r\n  //   doc = root;\r\n  // }\r\n  log.info(doc);\r\n  clear();\r\n\r\n  log.info('Extract', doc);\r\n\r\n  doc.forEach((item) => {\r\n    if (item.stmt === 'state') {\r\n      addState(item.id, item.type, item.doc, item.description, item.note);\r\n    }\r\n    if (item.stmt === 'relation') {\r\n      addRelation(item.state1.id, item.state2.id, item.description);\r\n    }\r\n  });\r\n};\r\n\r\nconst newDoc = () => {\r\n  return {\r\n    relations: [],\r\n    states: {},\r\n    documents: {},\r\n  };\r\n};\r\n\r\nlet documents = {\r\n  root: newDoc(),\r\n};\r\n\r\nlet currentDocument = documents.root;\r\n\r\nlet startCnt = 0;\r\nlet endCnt = 0; // eslint-disable-line\r\n// let stateCnt = 0;\r\n\r\n/**\r\n * Function called by parser when a node definition has been found.\r\n * @param id\r\n * @param text\r\n * @param type\r\n * @param style\r\n */\r\nexport const addState = function (id, type, doc, descr, note) {\r\n  if (typeof currentDocument.states[id] === 'undefined') {\r\n    currentDocument.states[id] = {\r\n      id: id,\r\n      descriptions: [],\r\n      type,\r\n      doc,\r\n      note,\r\n    };\r\n  } else {\r\n    if (!currentDocument.states[id].doc) {\r\n      currentDocument.states[id].doc = doc;\r\n    }\r\n    if (!currentDocument.states[id].type) {\r\n      currentDocument.states[id].type = type;\r\n    }\r\n  }\r\n  if (descr) {\r\n    log.info('Adding state ', id, descr);\r\n    if (typeof descr === 'string') addDescription(id, descr.trim());\r\n\r\n    if (typeof descr === 'object') {\r\n      descr.forEach((des) => addDescription(id, des.trim()));\r\n    }\r\n  }\r\n\r\n  if (note) currentDocument.states[id].note = note;\r\n};\r\n\r\nexport const clear = function () {\r\n  documents = {\r\n    root: newDoc(),\r\n  };\r\n  currentDocument = documents.root;\r\n\r\n  currentDocument = documents.root;\r\n\r\n  startCnt = 0;\r\n  endCnt = 0; // eslint-disable-line\r\n  classes = [];\r\n};\r\n\r\nexport const getState = function (id) {\r\n  return currentDocument.states[id];\r\n};\r\n\r\nexport const getStates = function () {\r\n  return currentDocument.states;\r\n};\r\nexport const logDocuments = function () {\r\n  log.info('Documents = ', documents);\r\n};\r\nexport const getRelations = function () {\r\n  return currentDocument.relations;\r\n};\r\n\r\nexport const addRelation = function (_id1, _id2, title) {\r\n  let id1 = _id1;\r\n  let id2 = _id2;\r\n  let type1 = 'default';\r\n  let type2 = 'default';\r\n  if (_id1 === '[*]') {\r\n    startCnt++;\r\n    id1 = 'start' + startCnt;\r\n    type1 = 'start';\r\n  }\r\n  if (_id2 === '[*]') {\r\n    endCnt++;\r\n    id2 = 'end' + startCnt;\r\n    type2 = 'end';\r\n  }\r\n  addState(id1, type1);\r\n  addState(id2, type2);\r\n  currentDocument.relations.push({ id1, id2, title: title });\r\n};\r\n\r\nconst addDescription = function (id, _descr) {\r\n  const theState = currentDocument.states[id];\r\n  let descr = _descr;\r\n  if (descr[0] === ':') {\r\n    descr = descr.substr(1).trim();\r\n  }\r\n\r\n  theState.descriptions.push(descr);\r\n};\r\n\r\nexport const cleanupLabel = function (label) {\r\n  if (label.substring(0, 1) === ':') {\r\n    return label.substr(2).trim();\r\n  } else {\r\n    return label.trim();\r\n  }\r\n};\r\n\r\nexport const lineType = {\r\n  LINE: 0,\r\n  DOTTED_LINE: 1,\r\n};\r\n\r\nlet dividerCnt = 0;\r\nconst getDividerId = () => {\r\n  dividerCnt++;\r\n  return 'divider-id-' + dividerCnt;\r\n};\r\n\r\nlet classes = [];\r\n\r\nconst getClasses = () => classes;\r\n\r\nlet direction = 'TB';\r\nconst getDirection = () => direction;\r\nconst setDirection = (dir) => {\r\n  direction = dir;\r\n};\r\n\r\nexport const relationType = {\r\n  AGGREGATION: 0,\r\n  EXTENSION: 1,\r\n  COMPOSITION: 2,\r\n  DEPENDENCY: 3,\r\n};\r\n\r\nconst trimColon = (str) => (str && str[0] === ':' ? str.substr(1).trim() : str.trim());\r\n\r\nexport default {\r\n  parseDirective,\r\n  getConfig: () => configApi.getConfig().state,\r\n  addState,\r\n  clear,\r\n  getState,\r\n  getStates,\r\n  getRelations,\r\n  getClasses,\r\n  getDirection,\r\n  addRelation,\r\n  getDividerId,\r\n  setDirection,\r\n  // addDescription,\r\n  cleanupLabel,\r\n  lineType,\r\n  relationType,\r\n  logDocuments,\r\n  getRootDoc,\r\n  setRootDoc,\r\n  getRootDocV2,\r\n  extract,\r\n  trimColon,\r\n};\r\n","import graphlib from 'graphlib';\r\nimport { select } from 'd3';\r\nimport stateDb from './stateDb';\r\nimport state from './parser/stateDiagram';\r\nimport { getConfig } from '../../config';\r\n// import { evaluate } from '../common/common';\r\nimport { render } from '../../dagre-wrapper/index.js';\r\nimport { log } from '../../logger';\r\nimport { configureSvgSize } from '../../utils';\r\n\r\nconst conf = {};\r\nexport const setConf = function (cnf) {\r\n  const keys = Object.keys(cnf);\r\n  for (let i = 0; i < keys.length; i++) {\r\n    conf[keys[i]] = cnf[keys[i]];\r\n  }\r\n};\r\n\r\nlet nodeDb = {};\r\n\r\n/**\r\n * Returns the all the styles from classDef statements in the graph definition.\r\n * @returns {object} classDef styles\r\n */\r\nexport const getClasses = function (text) {\r\n  log.trace('Extracting classes');\r\n  stateDb.clear();\r\n  const parser = state.parser;\r\n  parser.yy = stateDb;\r\n\r\n  // Parse the graph definition\r\n  parser.parse(text);\r\n  return stateDb.getClasses();\r\n};\r\n\r\nconst setupNode = (g, parent, node, altFlag) => {\r\n  // Add the node\r\n  if (node.id !== 'root') {\r\n    let shape = 'rect';\r\n    if (node.start === true) {\r\n      shape = 'start';\r\n    }\r\n    if (node.start === false) {\r\n      shape = 'end';\r\n    }\r\n    if (node.type !== 'default') {\r\n      shape = node.type;\r\n    }\r\n\r\n    if (!nodeDb[node.id]) {\r\n      nodeDb[node.id] = {\r\n        id: node.id,\r\n        shape,\r\n        description: node.id,\r\n        classes: 'statediagram-state',\r\n      };\r\n    }\r\n\r\n    // Build of the array of description strings accordinging\r\n    if (node.description) {\r\n      if (Array.isArray(nodeDb[node.id].description)) {\r\n        // There already is an array of strings,add to it\r\n        nodeDb[node.id].shape = 'rectWithTitle';\r\n        nodeDb[node.id].description.push(node.description);\r\n      } else {\r\n        if (nodeDb[node.id].description.length > 0) {\r\n          // if there is a description already transformit to an array\r\n          nodeDb[node.id].shape = 'rectWithTitle';\r\n          if (nodeDb[node.id].description === node.id) {\r\n            // If the previous description was the is, remove it\r\n            nodeDb[node.id].description = [node.description];\r\n          } else {\r\n            nodeDb[node.id].description = [nodeDb[node.id].description, node.description];\r\n          }\r\n        } else {\r\n          nodeDb[node.id].shape = 'rect';\r\n          nodeDb[node.id].description = node.description;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Save data for description and group so that for instance a statement without description overwrites\r\n    // one with description\r\n\r\n    // group\r\n    if (!nodeDb[node.id].type && node.doc) {\r\n      log.info('Setting cluster for ', node.id, getDir(node));\r\n      nodeDb[node.id].type = 'group';\r\n      nodeDb[node.id].dir = getDir(node);\r\n      nodeDb[node.id].shape = node.type === 'divider' ? 'divider' : 'roundedWithTitle';\r\n      nodeDb[node.id].classes =\r\n        nodeDb[node.id].classes +\r\n        ' ' +\r\n        (altFlag ? 'statediagram-cluster statediagram-cluster-alt' : 'statediagram-cluster');\r\n    }\r\n\r\n    const nodeData = {\r\n      labelStyle: '',\r\n      shape: nodeDb[node.id].shape,\r\n      labelText: nodeDb[node.id].description,\r\n      // typeof nodeDb[node.id].description === 'object'\r\n      //   ? nodeDb[node.id].description[0]\r\n      //   : nodeDb[node.id].description,\r\n      classes: nodeDb[node.id].classes, //classStr,\r\n      style: '', //styles.style,\r\n      id: node.id,\r\n      dir: nodeDb[node.id].dir,\r\n      domId: 'state-' + node.id + '-' + cnt,\r\n      type: nodeDb[node.id].type,\r\n      padding: 15, //getConfig().flowchart.padding\r\n    };\r\n\r\n    if (node.note) {\r\n      // Todo: set random id\r\n      const noteData = {\r\n        labelStyle: '',\r\n        shape: 'note',\r\n        labelText: node.note.text,\r\n        classes: 'statediagram-note', //classStr,\r\n        style: '', //styles.style,\r\n        id: node.id + '----note-' + cnt,\r\n        domId: 'state-' + node.id + '----note-' + cnt,\r\n        type: nodeDb[node.id].type,\r\n        padding: 15, //getConfig().flowchart.padding\r\n      };\r\n      const groupData = {\r\n        labelStyle: '',\r\n        shape: 'noteGroup',\r\n        labelText: node.note.text,\r\n        classes: nodeDb[node.id].classes, //classStr,\r\n        style: '', //styles.style,\r\n        id: node.id + '----parent',\r\n        domId: 'state-' + node.id + '----parent-' + cnt,\r\n        type: 'group',\r\n        padding: 0, //getConfig().flowchart.padding\r\n      };\r\n      cnt++;\r\n\r\n      g.setNode(node.id + '----parent', groupData);\r\n\r\n      g.setNode(noteData.id, noteData);\r\n      g.setNode(node.id, nodeData);\r\n\r\n      g.setParent(node.id, node.id + '----parent');\r\n      g.setParent(noteData.id, node.id + '----parent');\r\n\r\n      let from = node.id;\r\n      let to = noteData.id;\r\n\r\n      if (node.note.position === 'left of') {\r\n        from = noteData.id;\r\n        to = node.id;\r\n      }\r\n      g.setEdge(from, to, {\r\n        arrowhead: 'none',\r\n        arrowType: '',\r\n        style: 'fill:none',\r\n        labelStyle: '',\r\n        classes: 'transition note-edge',\r\n        arrowheadStyle: 'fill: #333',\r\n        labelpos: 'c',\r\n        labelType: 'text',\r\n        thickness: 'normal',\r\n      });\r\n    } else {\r\n      g.setNode(node.id, nodeData);\r\n    }\r\n  }\r\n\r\n  if (parent) {\r\n    if (parent.id !== 'root') {\r\n      log.trace('Setting node ', node.id, ' to be child of its parent ', parent.id);\r\n      g.setParent(node.id, parent.id);\r\n    }\r\n  }\r\n  if (node.doc) {\r\n    log.trace('Adding nodes children ');\r\n    setupDoc(g, node, node.doc, !altFlag);\r\n  }\r\n};\r\nlet cnt = 0;\r\nconst setupDoc = (g, parent, doc, altFlag) => {\r\n  // cnt = 0;\r\n  log.trace('items', doc);\r\n  doc.forEach((item) => {\r\n    if (item.stmt === 'state' || item.stmt === 'default') {\r\n      setupNode(g, parent, item, altFlag);\r\n    } else if (item.stmt === 'relation') {\r\n      setupNode(g, parent, item.state1, altFlag);\r\n      setupNode(g, parent, item.state2, altFlag);\r\n      const edgeData = {\r\n        id: 'edge' + cnt,\r\n        arrowhead: 'normal',\r\n        arrowTypeEnd: 'arrow_barb',\r\n        style: 'fill:none',\r\n        labelStyle: '',\r\n        label: item.description,\r\n        arrowheadStyle: 'fill: #333',\r\n        labelpos: 'c',\r\n        labelType: 'text',\r\n        thickness: 'normal',\r\n        classes: 'transition',\r\n      };\r\n      let startId = item.state1.id;\r\n      let endId = item.state2.id;\r\n\r\n      g.setEdge(startId, endId, edgeData, cnt);\r\n      cnt++;\r\n    }\r\n  });\r\n};\r\nconst getDir = (nodes, defaultDir) => {\r\n  let dir = defaultDir || 'TB';\r\n  if (nodes.doc) {\r\n    for (let i = 0; i < nodes.doc.length; i++) {\r\n      const node = nodes.doc[i];\r\n      if (node.stmt === 'dir') {\r\n        dir = node.value;\r\n      }\r\n    }\r\n  }\r\n  return dir;\r\n};\r\n/**\r\n * Draws a flowchart in the tag with id: id based on the graph definition in text.\r\n * @param text\r\n * @param id\r\n */\r\nexport const draw = function (text, id) {\r\n  log.info('Drawing state diagram (v2)', id);\r\n  stateDb.clear();\r\n  nodeDb = {};\r\n  const parser = state.parser;\r\n  parser.yy = stateDb;\r\n\r\n  // Parse the graph definition\r\n  parser.parse(text);\r\n\r\n  // Fetch the default direction, use TD if none was found\r\n  let dir = stateDb.getDirection();\r\n  if (typeof dir === 'undefined') {\r\n    dir = 'LR';\r\n  }\r\n\r\n  const conf = getConfig().state;\r\n  const nodeSpacing = conf.nodeSpacing || 50;\r\n  const rankSpacing = conf.rankSpacing || 50;\r\n\r\n  log.info(stateDb.getRootDocV2());\r\n  stateDb.extract(stateDb.getRootDocV2());\r\n  log.info(stateDb.getRootDocV2());\r\n\r\n  // Create the input mermaid.graph\r\n  const g = new graphlib.Graph({\r\n    multigraph: true,\r\n    compound: true,\r\n  })\r\n    .setGraph({\r\n      rankdir: getDir(stateDb.getRootDocV2()),\r\n      nodesep: nodeSpacing,\r\n      ranksep: rankSpacing,\r\n      marginx: 8,\r\n      marginy: 8,\r\n    })\r\n    .setDefaultEdgeLabel(function () {\r\n      return {};\r\n    });\r\n\r\n  setupNode(g, undefined, stateDb.getRootDocV2(), true);\r\n\r\n  // Set up an SVG group so that we can translate the final graph.\r\n  const svg = select(`[id=\"${id}\"]`);\r\n\r\n  // Run the renderer. This is what draws the final graph.\r\n  const element = select('#' + id + ' g');\r\n  render(element, g, ['barb'], 'statediagram', id);\r\n\r\n  const padding = 8;\r\n\r\n  const bounds = svg.node().getBBox();\r\n\r\n  const width = bounds.width + padding * 2;\r\n  const height = bounds.height + padding * 2;\r\n\r\n  // Zoom in a bit\r\n  svg.attr('class', 'statediagram');\r\n\r\n  const svgBounds = svg.node().getBBox();\r\n\r\n  configureSvgSize(svg, height, width * 1.75, conf.useMaxWidth);\r\n\r\n  // Ensure the viewBox includes the whole svgBounds area with extra space for padding\r\n  const vBox = `${svgBounds.x - padding} ${svgBounds.y - padding} ${width} ${height}`;\r\n  log.debug(`viewBox ${vBox}`);\r\n  svg.attr('viewBox', vBox);\r\n\r\n  // Add label rects for non html labels\r\n  // if (!evaluate(conf.htmlLabels) || true) {\r\n  const labels = document.querySelectorAll('[id=\"' + id + '\"] .edgeLabel .label');\r\n  for (let k = 0; k < labels.length; k++) {\r\n    const label = labels[k];\r\n\r\n    // Get dimensions of label\r\n    const dim = label.getBBox();\r\n\r\n    const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\r\n    rect.setAttribute('rx', 0);\r\n    rect.setAttribute('ry', 0);\r\n    rect.setAttribute('width', dim.width);\r\n    rect.setAttribute('height', dim.height);\r\n\r\n    label.insertBefore(rect, label.firstChild);\r\n    // }\r\n  }\r\n};\r\n\r\nexport default {\r\n  setConf,\r\n  getClasses,\r\n  draw,\r\n};\r\n","import { select } from 'd3';\r\nimport dagre from 'dagre';\r\nimport graphlib from 'graphlib';\r\nimport { log } from '../../logger';\r\nimport stateDb from './stateDb';\r\nimport common from '../common/common';\r\nimport { parser } from './parser/stateDiagram';\r\n// import idCache from './id-cache';\r\nimport { drawState, addTitleAndBox, drawEdge } from './shapes';\r\nimport { getConfig } from '../../config';\r\nimport { configureSvgSize } from '../../utils';\r\n\r\nparser.yy = stateDb;\r\n\r\n// TODO Move conf object to main conf in mermaidAPI\r\nlet conf;\r\n\r\nconst transformationLog = {};\r\n\r\nexport const setConf = function () {};\r\n\r\n// Todo optimize\r\n\r\n/**\r\n * Setup arrow head and define the marker. The result is appended to the svg.\r\n */\r\nconst insertMarkers = function (elem) {\r\n  elem\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', 'dependencyEnd')\r\n    .attr('refX', 19)\r\n    .attr('refY', 7)\r\n    .attr('markerWidth', 20)\r\n    .attr('markerHeight', 28)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 19,7 L9,13 L14,7 L9,1 Z');\r\n};\r\n\r\n/**\r\n * Draws a flowchart in the tag with id: id based on the graph definition in text.\r\n * @param text\r\n * @param id\r\n */\r\nexport const draw = function (text, id) {\r\n  conf = getConfig().state;\r\n  parser.yy.clear();\r\n  parser.parse(text);\r\n  log.debug('Rendering diagram ' + text);\r\n\r\n  // Fetch the default direction, use TD if none was found\r\n  const diagram = select(`[id='${id}']`);\r\n  insertMarkers(diagram);\r\n\r\n  // Layout graph, Create a new directed graph\r\n  const graph = new graphlib.Graph({\r\n    multigraph: true,\r\n    compound: true,\r\n    // acyclicer: 'greedy',\r\n    rankdir: 'RL',\r\n    // ranksep: '20'\r\n  });\r\n\r\n  // Default to assigning a new object as a label for each new edge.\r\n  graph.setDefaultEdgeLabel(function () {\r\n    return {};\r\n  });\r\n\r\n  const rootDoc = stateDb.getRootDoc();\r\n  renderDoc(rootDoc, diagram, undefined, false);\r\n\r\n  const padding = conf.padding;\r\n  const bounds = diagram.node().getBBox();\r\n\r\n  const width = bounds.width + padding * 2;\r\n  const height = bounds.height + padding * 2;\r\n\r\n  // zoom in a bit\r\n  const svgWidth = width * 1.75;\r\n  configureSvgSize(diagram, height, svgWidth, conf.useMaxWidth);\r\n\r\n  diagram.attr(\r\n    'viewBox',\r\n    `${bounds.x - conf.padding}  ${bounds.y - conf.padding} ` + width + ' ' + height\r\n  );\r\n};\r\nconst getLabelWidth = (text) => {\r\n  return text ? text.length * conf.fontSizeFactor : 1;\r\n};\r\n\r\nconst renderDoc = (doc, diagram, parentId, altBkg) => {\r\n  // // Layout graph, Create a new directed graph\r\n  const graph = new graphlib.Graph({\r\n    compound: true,\r\n    multigraph: true,\r\n  });\r\n\r\n  let i;\r\n  let edgeFreeDoc = true;\r\n  for (i = 0; i < doc.length; i++) {\r\n    if (doc[i].stmt === 'relation') {\r\n      edgeFreeDoc = false;\r\n      break;\r\n    }\r\n  }\r\n\r\n  // Set an object for the graph label\r\n  if (parentId)\r\n    graph.setGraph({\r\n      rankdir: 'LR',\r\n      multigraph: true,\r\n      compound: true,\r\n      // acyclicer: 'greedy',\r\n      ranker: 'tight-tree',\r\n      ranksep: edgeFreeDoc ? 1 : conf.edgeLengthFactor,\r\n      nodeSep: edgeFreeDoc ? 1 : 50,\r\n      isMultiGraph: true,\r\n      // ranksep: 5,\r\n      // nodesep: 1\r\n    });\r\n  else {\r\n    graph.setGraph({\r\n      rankdir: 'TB',\r\n      multigraph: true,\r\n      compound: true,\r\n      // isCompound: true,\r\n      // acyclicer: 'greedy',\r\n      // ranker: 'longest-path'\r\n      ranksep: edgeFreeDoc ? 1 : conf.edgeLengthFactor,\r\n      nodeSep: edgeFreeDoc ? 1 : 50,\r\n      ranker: 'tight-tree',\r\n      // ranker: 'network-simplex'\r\n      isMultiGraph: true,\r\n    });\r\n  }\r\n\r\n  // Default to assigning a new object as a label for each new edge.\r\n  graph.setDefaultEdgeLabel(function () {\r\n    return {};\r\n  });\r\n\r\n  stateDb.extract(doc);\r\n  const states = stateDb.getStates();\r\n  const relations = stateDb.getRelations();\r\n\r\n  const keys = Object.keys(states);\r\n\r\n  let first = true;\r\n\r\n  for (let i = 0; i < keys.length; i++) {\r\n    const stateDef = states[keys[i]];\r\n\r\n    if (parentId) {\r\n      stateDef.parentId = parentId;\r\n    }\r\n\r\n    let node;\r\n    if (stateDef.doc) {\r\n      let sub = diagram.append('g').attr('id', stateDef.id).attr('class', 'stateGroup');\r\n      node = renderDoc(stateDef.doc, sub, stateDef.id, !altBkg);\r\n\r\n      if (first) {\r\n        // first = false;\r\n        sub = addTitleAndBox(sub, stateDef, altBkg);\r\n        let boxBounds = sub.node().getBBox();\r\n        node.width = boxBounds.width;\r\n        node.height = boxBounds.height + conf.padding / 2;\r\n        transformationLog[stateDef.id] = { y: conf.compositTitleSize };\r\n      } else {\r\n        // sub = addIdAndBox(sub, stateDef);\r\n        let boxBounds = sub.node().getBBox();\r\n        node.width = boxBounds.width;\r\n        node.height = boxBounds.height;\r\n        // transformationLog[stateDef.id] = { y: conf.compositTitleSize };\r\n      }\r\n    } else {\r\n      node = drawState(diagram, stateDef, graph);\r\n    }\r\n\r\n    if (stateDef.note) {\r\n      // Draw note note\r\n      const noteDef = {\r\n        descriptions: [],\r\n        id: stateDef.id + '-note',\r\n        note: stateDef.note,\r\n        type: 'note',\r\n      };\r\n      const note = drawState(diagram, noteDef, graph);\r\n\r\n      // graph.setNode(node.id, node);\r\n      if (stateDef.note.position === 'left of') {\r\n        graph.setNode(node.id + '-note', note);\r\n        graph.setNode(node.id, node);\r\n      } else {\r\n        graph.setNode(node.id, node);\r\n        graph.setNode(node.id + '-note', note);\r\n      }\r\n      // graph.setNode(node.id);\r\n      graph.setParent(node.id, node.id + '-group');\r\n      graph.setParent(node.id + '-note', node.id + '-group');\r\n    } else {\r\n      // Add nodes to the graph. The first argument is the node id. The second is\r\n      // metadata about the node. In this case we're going to add labels to each of\r\n      // our nodes.\r\n      graph.setNode(node.id, node);\r\n    }\r\n  }\r\n\r\n  log.debug('Count=', graph.nodeCount(), graph);\r\n  let cnt = 0;\r\n  relations.forEach(function (relation) {\r\n    cnt++;\r\n    log.debug('Setting edge', relation);\r\n    graph.setEdge(\r\n      relation.id1,\r\n      relation.id2,\r\n      {\r\n        relation: relation,\r\n        width: getLabelWidth(relation.title),\r\n        height: conf.labelHeight * common.getRows(relation.title).length,\r\n        labelpos: 'c',\r\n      },\r\n      'id' + cnt\r\n    );\r\n  });\r\n\r\n  dagre.layout(graph);\r\n\r\n  log.debug('Graph after layout', graph.nodes());\r\n  const svgElem = diagram.node();\r\n\r\n  graph.nodes().forEach(function (v) {\r\n    if (typeof v !== 'undefined' && typeof graph.node(v) !== 'undefined') {\r\n      log.warn('Node ' + v + ': ' + JSON.stringify(graph.node(v)));\r\n      select('#' + svgElem.id + ' #' + v).attr(\r\n        'transform',\r\n        'translate(' +\r\n          (graph.node(v).x - graph.node(v).width / 2) +\r\n          ',' +\r\n          (graph.node(v).y +\r\n            (transformationLog[v] ? transformationLog[v].y : 0) -\r\n            graph.node(v).height / 2) +\r\n          ' )'\r\n      );\r\n      select('#' + svgElem.id + ' #' + v).attr(\r\n        'data-x-shift',\r\n        graph.node(v).x - graph.node(v).width / 2\r\n      );\r\n      const dividers = document.querySelectorAll('#' + svgElem.id + ' #' + v + ' .divider');\r\n      dividers.forEach((divider) => {\r\n        const parent = divider.parentElement;\r\n        let pWidth = 0;\r\n        let pShift = 0;\r\n        if (parent) {\r\n          if (parent.parentElement) pWidth = parent.parentElement.getBBox().width;\r\n          pShift = parseInt(parent.getAttribute('data-x-shift'), 10);\r\n          if (Number.isNaN(pShift)) {\r\n            pShift = 0;\r\n          }\r\n        }\r\n        divider.setAttribute('x1', 0 - pShift + 8);\r\n        divider.setAttribute('x2', pWidth - pShift - 8);\r\n      });\r\n    } else {\r\n      log.debug('No Node ' + v + ': ' + JSON.stringify(graph.node(v)));\r\n    }\r\n  });\r\n\r\n  let stateBox = svgElem.getBBox();\r\n\r\n  graph.edges().forEach(function (e) {\r\n    if (typeof e !== 'undefined' && typeof graph.edge(e) !== 'undefined') {\r\n      log.debug('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(graph.edge(e)));\r\n      drawEdge(diagram, graph.edge(e), graph.edge(e).relation);\r\n    }\r\n  });\r\n\r\n  stateBox = svgElem.getBBox();\r\n\r\n  const stateInfo = {\r\n    id: parentId ? parentId : 'root',\r\n    label: parentId ? parentId : 'root',\r\n    width: 0,\r\n    height: 0,\r\n  };\r\n\r\n  stateInfo.width = stateBox.width + 2 * conf.padding;\r\n  stateInfo.height = stateBox.height + 2 * conf.padding;\r\n\r\n  log.debug('Doc rendered', stateInfo, graph);\r\n  return stateInfo;\r\n};\r\n\r\nexport default {\r\n  setConf,\r\n  draw,\r\n};\r\n","const getStyles = (options) =>\r\n  `\r\ndefs #statediagram-barbEnd {\r\n    fill: ${options.transitionColor};\r\n    stroke: ${options.transitionColor};\r\n  }\r\ng.stateGroup text {\r\n  fill: ${options.nodeBorder};\r\n  stroke: none;\r\n  font-size: 10px;\r\n}\r\ng.stateGroup text {\r\n  fill: ${options.textColor};\r\n  stroke: none;\r\n  font-size: 10px;\r\n\r\n}\r\ng.stateGroup .state-title {\r\n  font-weight: bolder;\r\n  fill: ${options.stateLabelColor};\r\n}\r\n\r\ng.stateGroup rect {\r\n  fill: ${options.mainBkg};\r\n  stroke: ${options.nodeBorder};\r\n}\r\n\r\ng.stateGroup line {\r\n  stroke: ${options.lineColor};\r\n  stroke-width: 1;\r\n}\r\n\r\n.transition {\r\n  stroke: ${options.transitionColor};\r\n  stroke-width: 1;\r\n  fill: none;\r\n}\r\n\r\n.stateGroup .composit {\r\n  fill: ${options.background};\r\n  border-bottom: 1px\r\n}\r\n\r\n.stateGroup .alt-composit {\r\n  fill: #e0e0e0;\r\n  border-bottom: 1px\r\n}\r\n\r\n.state-note {\r\n  stroke: ${options.noteBorderColor};\r\n  fill: ${options.noteBkgColor};\r\n\r\n  text {\r\n    fill: ${options.noteTextColor};\r\n    stroke: none;\r\n    font-size: 10px;\r\n  }\r\n}\r\n\r\n.stateLabel .box {\r\n  stroke: none;\r\n  stroke-width: 0;\r\n  fill: ${options.mainBkg};\r\n  opacity: 0.5;\r\n}\r\n\r\n.edgeLabel .label rect {\r\n  fill: ${options.labelBackgroundColor};\r\n  opacity: 0.5;\r\n}\r\n.edgeLabel .label text {\r\n  fill: ${options.transitionLabelColor || options.tertiaryTextColor};\r\n}\r\n.label div .edgeLabel {\r\n  color: ${options.transitionLabelColor || options.tertiaryTextColor};\r\n}\r\n\r\n.stateLabel text {\r\n  fill: ${options.stateLabelColor};\r\n  font-size: 10px;\r\n  font-weight: bold;\r\n}\r\n\r\n.node circle.state-start {\r\n  fill: ${options.specialStateColor};\r\n  stroke: ${options.specialStateColor};\r\n}\r\n\r\n.node .fork-join {\r\n  fill: ${options.specialStateColor};\r\n  stroke: ${options.specialStateColor};\r\n}\r\n\r\n.node circle.state-end {\r\n  fill: ${options.innerEndBackground};\r\n  stroke: ${options.background};\r\n  stroke-width: 1.5\r\n}\r\n.end-state-inner {\r\n  fill: ${options.compositeBackground || options.background};\r\n  // stroke: ${options.background};\r\n  stroke-width: 1.5\r\n}\r\n\r\n.node rect {\r\n  fill: ${options.stateBkg || options.mainBkg};\r\n  stroke: ${options.stateBorder || options.nodeBorder};\r\n  stroke-width: 1px;\r\n}\r\n.node polygon {\r\n  fill: ${options.mainBkg};\r\n  stroke: ${options.stateBorder || options.nodeBorder};;\r\n  stroke-width: 1px;\r\n}\r\n#statediagram-barbEnd {\r\n  fill: ${options.lineColor};\r\n}\r\n\r\n.statediagram-cluster rect {\r\n  fill: ${options.compositeTitleBackground};\r\n  stroke: ${options.stateBorder || options.nodeBorder};\r\n  stroke-width: 1px;\r\n}\r\n\r\n.cluster-label, .nodeLabel {\r\n  color: ${options.stateLabelColor};\r\n}\r\n\r\n.statediagram-cluster rect.outer {\r\n  rx: 5px;\r\n  ry: 5px;\r\n}\r\n.statediagram-state .divider {\r\n  stroke: ${options.stateBorder || options.nodeBorder};\r\n}\r\n\r\n.statediagram-state .title-state {\r\n  rx: 5px;\r\n  ry: 5px;\r\n}\r\n.statediagram-cluster.statediagram-cluster .inner {\r\n  fill: ${options.compositeBackground || options.background};\r\n}\r\n.statediagram-cluster.statediagram-cluster-alt .inner {\r\n  fill: ${options.altBackground ? options.altBackground : '#efefef'};\r\n}\r\n\r\n.statediagram-cluster .inner {\r\n  rx:0;\r\n  ry:0;\r\n}\r\n\r\n.statediagram-state rect.basic {\r\n  rx: 5px;\r\n  ry: 5px;\r\n}\r\n.statediagram-state rect.divider {\r\n  stroke-dasharray: 10,10;\r\n  fill: ${options.altBackground ? options.altBackground : '#efefef'};\r\n}\r\n\r\n.note-edge {\r\n  stroke-dasharray: 5;\r\n}\r\n\r\n.statediagram-note rect {\r\n  fill: ${options.noteBkgColor};\r\n  stroke: ${options.noteBorderColor};\r\n  stroke-width: 1px;\r\n  rx: 0;\r\n  ry: 0;\r\n}\r\n.statediagram-note rect {\r\n  fill: ${options.noteBkgColor};\r\n  stroke: ${options.noteBorderColor};\r\n  stroke-width: 1px;\r\n  rx: 0;\r\n  ry: 0;\r\n}\r\n\r\n.statediagram-note text {\r\n  fill: ${options.noteTextColor};\r\n}\r\n\r\n.statediagram-note .nodeLabel {\r\n  color: ${options.noteTextColor};\r\n}\r\n.statediagram .edgeLabel {\r\n  color: red; // ${options.noteTextColor};\r\n}\r\n\r\n#dependencyStart, #dependencyEnd {\r\n  fill: ${options.lineColor};\r\n  stroke: ${options.lineColor};\r\n  stroke-width: 1;\r\n}\r\n`;\r\n\r\nexport default getStyles;\r\n","import mermaidAPI from '../../mermaidAPI';\r\nimport * as configApi from '../../config';\r\n\r\nlet title = '';\r\nlet currentSection = '';\r\n\r\nconst sections = [];\r\nconst tasks = [];\r\nconst rawTasks = [];\r\n\r\nexport const parseDirective = function (statement, context, type) {\r\n  mermaidAPI.parseDirective(this, statement, context, type);\r\n};\r\n\r\nexport const clear = function () {\r\n  sections.length = 0;\r\n  tasks.length = 0;\r\n  currentSection = '';\r\n  title = '';\r\n  rawTasks.length = 0;\r\n};\r\n\r\nexport const setTitle = function (txt) {\r\n  title = txt;\r\n};\r\n\r\nexport const getTitle = function () {\r\n  return title;\r\n};\r\n\r\nexport const addSection = function (txt) {\r\n  currentSection = txt;\r\n  sections.push(txt);\r\n};\r\n\r\nexport const getSections = function () {\r\n  return sections;\r\n};\r\n\r\nexport const getTasks = function () {\r\n  let allItemsProcessed = compileTasks();\r\n  const maxDepth = 100;\r\n  let iterationCount = 0;\r\n  while (!allItemsProcessed && iterationCount < maxDepth) {\r\n    allItemsProcessed = compileTasks();\r\n    iterationCount++;\r\n  }\r\n\r\n  tasks.push(...rawTasks);\r\n\r\n  return tasks;\r\n};\r\n\r\nconst updateActors = function () {\r\n  const tempActors = [];\r\n  tasks.forEach((task) => {\r\n    if (task.people) {\r\n      tempActors.push(...task.people);\r\n    }\r\n  });\r\n\r\n  const unique = new Set(tempActors);\r\n  return [...unique].sort();\r\n};\r\n\r\nexport const addTask = function (descr, taskData) {\r\n  const pieces = taskData.substr(1).split(':');\r\n\r\n  let score = 0;\r\n  let peeps = [];\r\n  if (pieces.length === 1) {\r\n    score = Number(pieces[0]);\r\n    peeps = [];\r\n  } else {\r\n    score = Number(pieces[0]);\r\n    peeps = pieces[1].split(',');\r\n  }\r\n  const peopleList = peeps.map((s) => s.trim());\r\n\r\n  const rawTask = {\r\n    section: currentSection,\r\n    type: currentSection,\r\n    people: peopleList,\r\n    task: descr,\r\n    score,\r\n  };\r\n\r\n  rawTasks.push(rawTask);\r\n};\r\n\r\nexport const addTaskOrg = function (descr) {\r\n  const newTask = {\r\n    section: currentSection,\r\n    type: currentSection,\r\n    description: descr,\r\n    task: descr,\r\n    classes: [],\r\n  };\r\n  tasks.push(newTask);\r\n};\r\n\r\nconst compileTasks = function () {\r\n  const compileTask = function (pos) {\r\n    return rawTasks[pos].processed;\r\n  };\r\n\r\n  let allProcessed = true;\r\n  for (let i = 0; i < rawTasks.length; i++) {\r\n    compileTask(i);\r\n\r\n    allProcessed = allProcessed && rawTasks[i].processed;\r\n  }\r\n  return allProcessed;\r\n};\r\n\r\nconst getActors = function () {\r\n  return updateActors();\r\n};\r\n\r\nexport default {\r\n  parseDirective,\r\n  getConfig: () => configApi.getConfig().journey,\r\n  clear,\r\n  setTitle,\r\n  getTitle,\r\n  addSection,\r\n  getSections,\r\n  getTasks,\r\n  addTask,\r\n  addTaskOrg,\r\n  getActors,\r\n};\r\n","import { select } from 'd3';\r\nimport { parser } from './parser/journey';\r\nimport journeyDb from './journeyDb';\r\nimport svgDraw from './svgDraw';\r\nimport { getConfig } from '../../config';\r\nimport { configureSvgSize } from '../../utils';\r\n\r\nparser.yy = journeyDb;\r\n\r\nexport const setConf = function (cnf) {\r\n  const keys = Object.keys(cnf);\r\n\r\n  keys.forEach(function (key) {\r\n    conf[key] = cnf[key];\r\n  });\r\n};\r\n\r\nconst actors = {};\r\n\r\nfunction drawActorLegend(diagram) {\r\n  const conf = getConfig().journey;\r\n  // Draw the actors\r\n  let yPos = 60;\r\n  Object.keys(actors).forEach((person) => {\r\n    const colour = actors[person].color;\r\n\r\n    const circleData = {\r\n      cx: 20,\r\n      cy: yPos,\r\n      r: 7,\r\n      fill: colour,\r\n      stroke: '#000',\r\n      pos: actors[person].position,\r\n    };\r\n    svgDraw.drawCircle(diagram, circleData);\r\n\r\n    const labelData = {\r\n      x: 40,\r\n      y: yPos + 7,\r\n      fill: '#666',\r\n      text: person,\r\n      textMargin: conf.boxTextMargin | 5,\r\n    };\r\n    svgDraw.drawText(diagram, labelData);\r\n\r\n    yPos += 20;\r\n  });\r\n}\r\nconst conf = getConfig().journey;\r\nconst LEFT_MARGIN = getConfig().journey.leftMargin;\r\nexport const draw = function (text, id) {\r\n  const conf = getConfig().journey;\r\n  parser.yy.clear();\r\n  parser.parse(text + '\\n');\r\n\r\n  bounds.init();\r\n  const diagram = select('#' + id);\r\n  diagram.attr('xmlns:xlink', 'http://www.w3.org/1999/xlink');\r\n\r\n  svgDraw.initGraphics(diagram);\r\n\r\n  const tasks = parser.yy.getTasks();\r\n  const title = parser.yy.getTitle();\r\n\r\n  const actorNames = parser.yy.getActors();\r\n  for (let member in actors) delete actors[member];\r\n  let actorPos = 0;\r\n  actorNames.forEach((actorName) => {\r\n    actors[actorName] = {\r\n      color: conf.actorColours[actorPos % conf.actorColours.length],\r\n      position: actorPos,\r\n    };\r\n    actorPos++;\r\n  });\r\n\r\n  drawActorLegend(diagram);\r\n  bounds.insert(0, 0, LEFT_MARGIN, Object.keys(actors).length * 50);\r\n  drawTasks(diagram, tasks, 0);\r\n\r\n  const box = bounds.getBounds();\r\n  if (title) {\r\n    diagram\r\n      .append('text')\r\n      .text(title)\r\n      .attr('x', LEFT_MARGIN)\r\n      .attr('font-size', '4ex')\r\n      .attr('font-weight', 'bold')\r\n      .attr('y', 25);\r\n  }\r\n  const height = box.stopy - box.starty + 2 * conf.diagramMarginY;\r\n  const width = LEFT_MARGIN + box.stopx + 2 * conf.diagramMarginX;\r\n\r\n  configureSvgSize(diagram, height, width, conf.useMaxWidth);\r\n\r\n  // Draw activity line\r\n  diagram\r\n    .append('line')\r\n    .attr('x1', LEFT_MARGIN)\r\n    .attr('y1', conf.height * 4) // One section head + one task + margins\r\n    .attr('x2', width - LEFT_MARGIN - 4) // Subtract stroke width so arrow point is retained\r\n    .attr('y2', conf.height * 4)\r\n    .attr('stroke-width', 4)\r\n    .attr('stroke', 'black')\r\n    .attr('marker-end', 'url(#arrowhead)');\r\n\r\n  const extraVertForTitle = title ? 70 : 0;\r\n  diagram.attr('viewBox', `${box.startx} -25 ${width} ${height + extraVertForTitle}`);\r\n  diagram.attr('preserveAspectRatio', 'xMinYMin meet');\r\n  diagram.attr('height', height + extraVertForTitle + 25);\r\n};\r\n\r\nexport const bounds = {\r\n  data: {\r\n    startx: undefined,\r\n    stopx: undefined,\r\n    starty: undefined,\r\n    stopy: undefined,\r\n  },\r\n  verticalPos: 0,\r\n\r\n  sequenceItems: [],\r\n  init: function () {\r\n    this.sequenceItems = [];\r\n    this.data = {\r\n      startx: undefined,\r\n      stopx: undefined,\r\n      starty: undefined,\r\n      stopy: undefined,\r\n    };\r\n    this.verticalPos = 0;\r\n  },\r\n  updateVal: function (obj, key, val, fun) {\r\n    if (typeof obj[key] === 'undefined') {\r\n      obj[key] = val;\r\n    } else {\r\n      obj[key] = fun(val, obj[key]);\r\n    }\r\n  },\r\n  updateBounds: function (startx, starty, stopx, stopy) {\r\n    const conf = getConfig().journey;\r\n    const _self = this;\r\n    let cnt = 0;\r\n    function updateFn(type) {\r\n      return function updateItemBounds(item) {\r\n        cnt++;\r\n        // The loop sequenceItems is a stack so the biggest margins in the beginning of the sequenceItems\r\n        const n = _self.sequenceItems.length - cnt + 1;\r\n        _self.updateVal(item, 'starty', starty - n * conf.boxMargin, Math.min);\r\n        _self.updateVal(item, 'stopy', stopy + n * conf.boxMargin, Math.max);\r\n\r\n        _self.updateVal(bounds.data, 'startx', startx - n * conf.boxMargin, Math.min);\r\n        _self.updateVal(bounds.data, 'stopx', stopx + n * conf.boxMargin, Math.max);\r\n\r\n        if (!(type === 'activation')) {\r\n          _self.updateVal(item, 'startx', startx - n * conf.boxMargin, Math.min);\r\n          _self.updateVal(item, 'stopx', stopx + n * conf.boxMargin, Math.max);\r\n\r\n          _self.updateVal(bounds.data, 'starty', starty - n * conf.boxMargin, Math.min);\r\n          _self.updateVal(bounds.data, 'stopy', stopy + n * conf.boxMargin, Math.max);\r\n        }\r\n      };\r\n    }\r\n\r\n    this.sequenceItems.forEach(updateFn());\r\n  },\r\n  insert: function (startx, starty, stopx, stopy) {\r\n    const _startx = Math.min(startx, stopx);\r\n    const _stopx = Math.max(startx, stopx);\r\n    const _starty = Math.min(starty, stopy);\r\n    const _stopy = Math.max(starty, stopy);\r\n\r\n    this.updateVal(bounds.data, 'startx', _startx, Math.min);\r\n    this.updateVal(bounds.data, 'starty', _starty, Math.min);\r\n    this.updateVal(bounds.data, 'stopx', _stopx, Math.max);\r\n    this.updateVal(bounds.data, 'stopy', _stopy, Math.max);\r\n\r\n    this.updateBounds(_startx, _starty, _stopx, _stopy);\r\n  },\r\n  bumpVerticalPos: function (bump) {\r\n    this.verticalPos = this.verticalPos + bump;\r\n    this.data.stopy = this.verticalPos;\r\n  },\r\n  getVerticalPos: function () {\r\n    return this.verticalPos;\r\n  },\r\n  getBounds: function () {\r\n    return this.data;\r\n  },\r\n};\r\n\r\nconst fills = conf.sectionFills;\r\nconst textColours = conf.sectionColours;\r\n\r\nexport const drawTasks = function (diagram, tasks, verticalPos) {\r\n  const conf = getConfig().journey;\r\n  let lastSection = '';\r\n  const sectionVHeight = conf.height * 2 + conf.diagramMarginY;\r\n  const taskPos = verticalPos + sectionVHeight;\r\n\r\n  let sectionNumber = 0;\r\n  let fill = '#CCC';\r\n  let colour = 'black';\r\n  let num = 0;\r\n\r\n  // Draw the tasks\r\n  for (let i = 0; i < tasks.length; i++) {\r\n    let task = tasks[i];\r\n    if (lastSection !== task.section) {\r\n      fill = fills[sectionNumber % fills.length];\r\n      num = sectionNumber % fills.length;\r\n      colour = textColours[sectionNumber % textColours.length];\r\n\r\n      const section = {\r\n        x: i * conf.taskMargin + i * conf.width + LEFT_MARGIN,\r\n        y: 50,\r\n        text: task.section,\r\n        fill,\r\n        num,\r\n        colour,\r\n      };\r\n\r\n      svgDraw.drawSection(diagram, section, conf);\r\n      lastSection = task.section;\r\n      sectionNumber++;\r\n    }\r\n\r\n    // Collect the actors involved in the task\r\n    const taskActors = task.people.reduce((acc, actorName) => {\r\n      if (actors[actorName]) {\r\n        acc[actorName] = actors[actorName];\r\n      }\r\n\r\n      return acc;\r\n    }, {});\r\n\r\n    // Add some rendering data to the object\r\n    task.x = i * conf.taskMargin + i * conf.width + LEFT_MARGIN;\r\n    task.y = taskPos;\r\n    task.width = conf.diagramMarginX;\r\n    task.height = conf.diagramMarginY;\r\n    task.colour = colour;\r\n    task.fill = fill;\r\n    task.num = num;\r\n    task.actors = taskActors;\r\n\r\n    // Draw the box with the attached line\r\n    svgDraw.drawTask(diagram, task, conf);\r\n    bounds.insert(task.x, task.y, task.x + task.width + conf.taskMargin, 300 + 5 * 30); // stopy is the length of the descenders.\r\n  }\r\n};\r\n\r\nexport default {\r\n  setConf,\r\n  draw,\r\n};\r\n","const getStyles = (options) =>\r\n  `.label {\r\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\r\n    font-family: var(--mermaid-font-family);\r\n    color: ${options.textColor};\r\n  }\r\n  .mouth {\r\n    stroke: #666;\r\n  }\r\n\r\n  line {\r\n    stroke: ${options.textColor}\r\n  }\r\n\r\n  .legend {\r\n    fill: ${options.textColor};\r\n  }\r\n\r\n  .label text {\r\n    fill: #333;\r\n  }\r\n  .label {\r\n    color: ${options.textColor}\r\n  }\r\n\r\n  .face {\r\n    ${options.faceColor ? `fill: ${options.faceColor}` : 'fill: #FFF8DC'};\r\n    stroke: #999;\r\n  }\r\n\r\n  .node rect,\r\n  .node circle,\r\n  .node ellipse,\r\n  .node polygon,\r\n  .node path {\r\n    fill: ${options.mainBkg};\r\n    stroke: ${options.nodeBorder};\r\n    stroke-width: 1px;\r\n  }\r\n\r\n  .node .label {\r\n    text-align: center;\r\n  }\r\n  .node.clickable {\r\n    cursor: pointer;\r\n  }\r\n\r\n  .arrowheadPath {\r\n    fill: ${options.arrowheadColor};\r\n  }\r\n\r\n  .edgePath .path {\r\n    stroke: ${options.lineColor};\r\n    stroke-width: 1.5px;\r\n  }\r\n\r\n  .flowchart-link {\r\n    stroke: ${options.lineColor};\r\n    fill: none;\r\n  }\r\n\r\n  .edgeLabel {\r\n    background-color: ${options.edgeLabelBackground};\r\n    rect {\r\n      opacity: 0.5;\r\n    }\r\n    text-align: center;\r\n  }\r\n\r\n  .cluster rect {\r\n  }\r\n\r\n  .cluster text {\r\n    fill: ${options.titleColor};\r\n  }\r\n\r\n  div.mermaidTooltip {\r\n    position: absolute;\r\n    text-align: center;\r\n    max-width: 200px;\r\n    padding: 2px;\r\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\r\n    font-family: var(--mermaid-font-family);\r\n    font-size: 12px;\r\n    background: ${options.tertiaryColor};\r\n    border: 1px solid ${options.border2};\r\n    border-radius: 2px;\r\n    pointer-events: none;\r\n    z-index: 100;\r\n  }\r\n\r\n  .task-type-0, .section-type-0  {\r\n    ${options.fillType0 ? `fill: ${options.fillType0}` : ''};\r\n  }\r\n  .task-type-1, .section-type-1  {\r\n    ${options.fillType0 ? `fill: ${options.fillType1}` : ''};\r\n  }\r\n  .task-type-2, .section-type-2  {\r\n    ${options.fillType0 ? `fill: ${options.fillType2}` : ''};\r\n  }\r\n  .task-type-3, .section-type-3  {\r\n    ${options.fillType0 ? `fill: ${options.fillType3}` : ''};\r\n  }\r\n  .task-type-4, .section-type-4  {\r\n    ${options.fillType0 ? `fill: ${options.fillType4}` : ''};\r\n  }\r\n  .task-type-5, .section-type-5  {\r\n    ${options.fillType0 ? `fill: ${options.fillType5}` : ''};\r\n  }\r\n  .task-type-6, .section-type-6  {\r\n    ${options.fillType0 ? `fill: ${options.fillType6}` : ''};\r\n  }\r\n  .task-type-7, .section-type-7  {\r\n    ${options.fillType0 ? `fill: ${options.fillType7}` : ''};\r\n  }\r\n\r\n  .actor-0 {\r\n    ${options.actor0 ? `fill: ${options.actor0}` : ''};\r\n  }\r\n  .actor-1 {\r\n    ${options.actor1 ? `fill: ${options.actor1}` : ''};\r\n  }\r\n  .actor-2 {\r\n    ${options.actor2 ? `fill: ${options.actor2}` : ''};\r\n  }\r\n  .actor-3 {\r\n    ${options.actor3 ? `fill: ${options.actor3}` : ''};\r\n  }\r\n  .actor-4 {\r\n    ${options.actor4 ? `fill: ${options.actor4}` : ''};\r\n  }\r\n  .actor-5 {\r\n    ${options.actor5 ? `fill: ${options.actor5}` : ''};\r\n  }\r\n\r\n  }\r\n`;\r\n\r\nexport default getStyles;\r\n","import { arc as d3arc } from 'd3';\r\n\r\nexport const drawRect = function (elem, rectData) {\r\n  const rectElem = elem.append('rect');\r\n  rectElem.attr('x', rectData.x);\r\n  rectElem.attr('y', rectData.y);\r\n  rectElem.attr('fill', rectData.fill);\r\n  rectElem.attr('stroke', rectData.stroke);\r\n  rectElem.attr('width', rectData.width);\r\n  rectElem.attr('height', rectData.height);\r\n  rectElem.attr('rx', rectData.rx);\r\n  rectElem.attr('ry', rectData.ry);\r\n\r\n  if (typeof rectData.class !== 'undefined') {\r\n    rectElem.attr('class', rectData.class);\r\n  }\r\n\r\n  return rectElem;\r\n};\r\n\r\nexport const drawFace = function (element, faceData) {\r\n  const radius = 15;\r\n  const circleElement = element\r\n    .append('circle')\r\n    .attr('cx', faceData.cx)\r\n    .attr('cy', faceData.cy)\r\n    .attr('class', 'face')\r\n    .attr('r', radius)\r\n    .attr('stroke-width', 2)\r\n    .attr('overflow', 'visible');\r\n\r\n  const face = element.append('g');\r\n\r\n  //left eye\r\n  face\r\n    .append('circle')\r\n    .attr('cx', faceData.cx - radius / 3)\r\n    .attr('cy', faceData.cy - radius / 3)\r\n    .attr('r', 1.5)\r\n    .attr('stroke-width', 2)\r\n    .attr('fill', '#666')\r\n    .attr('stroke', '#666');\r\n\r\n  //right eye\r\n  face\r\n    .append('circle')\r\n    .attr('cx', faceData.cx + radius / 3)\r\n    .attr('cy', faceData.cy - radius / 3)\r\n    .attr('r', 1.5)\r\n    .attr('stroke-width', 2)\r\n    .attr('fill', '#666')\r\n    .attr('stroke', '#666');\r\n\r\n  function smile(face) {\r\n    const arc = d3arc()\r\n      .startAngle(Math.PI / 2)\r\n      .endAngle(3 * (Math.PI / 2))\r\n      .innerRadius(radius / 2)\r\n      .outerRadius(radius / 2.2);\r\n    //mouth\r\n    face\r\n      .append('path')\r\n      .attr('class', 'mouth')\r\n      .attr('d', arc)\r\n      .attr('transform', 'translate(' + faceData.cx + ',' + (faceData.cy + 2) + ')');\r\n  }\r\n\r\n  function sad(face) {\r\n    const arc = d3arc()\r\n      .startAngle((3 * Math.PI) / 2)\r\n      .endAngle(5 * (Math.PI / 2))\r\n      .innerRadius(radius / 2)\r\n      .outerRadius(radius / 2.2);\r\n    //mouth\r\n    face\r\n      .append('path')\r\n      .attr('class', 'mouth')\r\n      .attr('d', arc)\r\n      .attr('transform', 'translate(' + faceData.cx + ',' + (faceData.cy + 7) + ')');\r\n  }\r\n\r\n  function ambivalent(face) {\r\n    face\r\n      .append('line')\r\n      .attr('class', 'mouth')\r\n      .attr('stroke', 2)\r\n      .attr('x1', faceData.cx - 5)\r\n      .attr('y1', faceData.cy + 7)\r\n      .attr('x2', faceData.cx + 5)\r\n      .attr('y2', faceData.cy + 7)\r\n      .attr('class', 'mouth')\r\n      .attr('stroke-width', '1px')\r\n      .attr('stroke', '#666');\r\n  }\r\n\r\n  if (faceData.score > 3) {\r\n    smile(face);\r\n  } else if (faceData.score < 3) {\r\n    sad(face);\r\n  } else {\r\n    ambivalent(face);\r\n  }\r\n\r\n  return circleElement;\r\n};\r\n\r\nexport const drawCircle = function (element, circleData) {\r\n  const circleElement = element.append('circle');\r\n  circleElement.attr('cx', circleData.cx);\r\n  circleElement.attr('cy', circleData.cy);\r\n  circleElement.attr('class', 'actor-' + circleData.pos);\r\n  circleElement.attr('fill', circleData.fill);\r\n  circleElement.attr('stroke', circleData.stroke);\r\n  circleElement.attr('r', circleData.r);\r\n\r\n  if (typeof circleElement.class !== 'undefined') {\r\n    circleElement.attr('class', circleElement.class);\r\n  }\r\n\r\n  if (typeof circleData.title !== 'undefined') {\r\n    circleElement.append('title').text(circleData.title);\r\n  }\r\n\r\n  return circleElement;\r\n};\r\n\r\nexport const drawText = function (elem, textData) {\r\n  // Remove and ignore br:s\r\n  const nText = textData.text.replace(/<br\\s*\\/?>/gi, ' ');\r\n\r\n  const textElem = elem.append('text');\r\n  textElem.attr('x', textData.x);\r\n  textElem.attr('y', textData.y);\r\n  textElem.attr('class', 'legend');\r\n\r\n  textElem.style('text-anchor', textData.anchor);\r\n\r\n  if (typeof textData.class !== 'undefined') {\r\n    textElem.attr('class', textData.class);\r\n  }\r\n\r\n  const span = textElem.append('tspan');\r\n  span.attr('x', textData.x + textData.textMargin * 2);\r\n  span.text(nText);\r\n\r\n  return textElem;\r\n};\r\n\r\nexport const drawLabel = function (elem, txtObject) {\r\n  function genPoints(x, y, width, height, cut) {\r\n    return (\r\n      x +\r\n      ',' +\r\n      y +\r\n      ' ' +\r\n      (x + width) +\r\n      ',' +\r\n      y +\r\n      ' ' +\r\n      (x + width) +\r\n      ',' +\r\n      (y + height - cut) +\r\n      ' ' +\r\n      (x + width - cut * 1.2) +\r\n      ',' +\r\n      (y + height) +\r\n      ' ' +\r\n      x +\r\n      ',' +\r\n      (y + height)\r\n    );\r\n  }\r\n  const polygon = elem.append('polygon');\r\n  polygon.attr('points', genPoints(txtObject.x, txtObject.y, 50, 20, 7));\r\n  polygon.attr('class', 'labelBox');\r\n\r\n  txtObject.y = txtObject.y + txtObject.labelMargin;\r\n  txtObject.x = txtObject.x + 0.5 * txtObject.labelMargin;\r\n  drawText(elem, txtObject);\r\n};\r\n\r\nexport const drawSection = function (elem, section, conf) {\r\n  const g = elem.append('g');\r\n\r\n  const rect = getNoteRect();\r\n  rect.x = section.x;\r\n  rect.y = section.y;\r\n  rect.fill = section.fill;\r\n  rect.width = conf.width;\r\n  rect.height = conf.height;\r\n  rect.class = 'journey-section section-type-' + section.num;\r\n  rect.rx = 3;\r\n  rect.ry = 3;\r\n  drawRect(g, rect);\r\n\r\n  _drawTextCandidateFunc(conf)(\r\n    section.text,\r\n    g,\r\n    rect.x,\r\n    rect.y,\r\n    rect.width,\r\n    rect.height,\r\n    { class: 'journey-section section-type-' + section.num },\r\n    conf,\r\n    section.colour\r\n  );\r\n};\r\n\r\nlet taskCount = -1;\r\n/**\r\n * Draws an actor in the diagram with the attaced line\r\n * @param elem The HTML element\r\n * @param task The task to render\r\n * @param conf The global configuration\r\n */\r\nexport const drawTask = function (elem, task, conf) {\r\n  const center = task.x + conf.width / 2;\r\n  const g = elem.append('g');\r\n  taskCount++;\r\n  const maxHeight = 300 + 5 * 30;\r\n  g.append('line')\r\n    .attr('id', 'task' + taskCount)\r\n    .attr('x1', center)\r\n    .attr('y1', task.y)\r\n    .attr('x2', center)\r\n    .attr('y2', maxHeight)\r\n    .attr('class', 'task-line')\r\n    .attr('stroke-width', '1px')\r\n    .attr('stroke-dasharray', '4 2')\r\n    .attr('stroke', '#666');\r\n\r\n  drawFace(g, {\r\n    cx: center,\r\n    cy: 300 + (5 - task.score) * 30,\r\n    score: task.score,\r\n  });\r\n\r\n  const rect = getNoteRect();\r\n  rect.x = task.x;\r\n  rect.y = task.y;\r\n  rect.fill = task.fill;\r\n  rect.width = conf.width;\r\n  rect.height = conf.height;\r\n  rect.class = 'task task-type-' + task.num;\r\n  rect.rx = 3;\r\n  rect.ry = 3;\r\n  drawRect(g, rect);\r\n\r\n  let xPos = task.x + 14;\r\n  task.people.forEach((person) => {\r\n    const colour = task.actors[person].color;\r\n\r\n    const circle = {\r\n      cx: xPos,\r\n      cy: task.y,\r\n      r: 7,\r\n      fill: colour,\r\n      stroke: '#000',\r\n      title: person,\r\n      pos: task.actors[person].position,\r\n    };\r\n\r\n    drawCircle(g, circle);\r\n    xPos += 10;\r\n  });\r\n\r\n  _drawTextCandidateFunc(conf)(\r\n    task.task,\r\n    g,\r\n    rect.x,\r\n    rect.y,\r\n    rect.width,\r\n    rect.height,\r\n    { class: 'task' },\r\n    conf,\r\n    task.colour\r\n  );\r\n};\r\n\r\n/**\r\n * Draws a background rectangle\r\n * @param elem The html element\r\n * @param bounds The bounds of the drawing\r\n */\r\nexport const drawBackgroundRect = function (elem, bounds) {\r\n  const rectElem = drawRect(elem, {\r\n    x: bounds.startx,\r\n    y: bounds.starty,\r\n    width: bounds.stopx - bounds.startx,\r\n    height: bounds.stopy - bounds.starty,\r\n    fill: bounds.fill,\r\n    class: 'rect',\r\n  });\r\n  rectElem.lower();\r\n};\r\n\r\nexport const getTextObj = function () {\r\n  return {\r\n    x: 0,\r\n    y: 0,\r\n    fill: undefined,\r\n    'text-anchor': 'start',\r\n    width: 100,\r\n    height: 100,\r\n    textMargin: 0,\r\n    rx: 0,\r\n    ry: 0,\r\n  };\r\n};\r\n\r\nexport const getNoteRect = function () {\r\n  return {\r\n    x: 0,\r\n    y: 0,\r\n    width: 100,\r\n    anchor: 'start',\r\n    height: 100,\r\n    rx: 0,\r\n    ry: 0,\r\n  };\r\n};\r\n\r\nconst _drawTextCandidateFunc = (function () {\r\n  function byText(content, g, x, y, width, height, textAttrs, colour) {\r\n    const text = g\r\n      .append('text')\r\n      .attr('x', x + width / 2)\r\n      .attr('y', y + height / 2 + 5)\r\n      .style('font-color', colour)\r\n      .style('text-anchor', 'middle')\r\n      .text(content);\r\n    _setTextAttrs(text, textAttrs);\r\n  }\r\n\r\n  function byTspan(content, g, x, y, width, height, textAttrs, conf, colour) {\r\n    const { taskFontSize, taskFontFamily } = conf;\r\n\r\n    const lines = content.split(/<br\\s*\\/?>/gi);\r\n    for (let i = 0; i < lines.length; i++) {\r\n      const dy = i * taskFontSize - (taskFontSize * (lines.length - 1)) / 2;\r\n      const text = g\r\n        .append('text')\r\n        .attr('x', x + width / 2)\r\n        .attr('y', y)\r\n        .attr('fill', colour)\r\n        .style('text-anchor', 'middle')\r\n        .style('font-size', taskFontSize)\r\n        .style('font-family', taskFontFamily);\r\n      text\r\n        .append('tspan')\r\n        .attr('x', x + width / 2)\r\n        .attr('dy', dy)\r\n        .text(lines[i]);\r\n\r\n      text\r\n        .attr('y', y + height / 2.0)\r\n        .attr('dominant-baseline', 'central')\r\n        .attr('alignment-baseline', 'central');\r\n\r\n      _setTextAttrs(text, textAttrs);\r\n    }\r\n  }\r\n\r\n  function byFo(content, g, x, y, width, height, textAttrs, conf) {\r\n    const body = g.append('switch');\r\n    const f = body\r\n      .append('foreignObject')\r\n      .attr('x', x)\r\n      .attr('y', y)\r\n      .attr('width', width)\r\n      .attr('height', height)\r\n      .attr('position', 'fixed');\r\n\r\n    const text = f\r\n      .append('xhtml:div')\r\n      .style('display', 'table')\r\n      .style('height', '100%')\r\n      .style('width', '100%');\r\n\r\n    text\r\n      .append('div')\r\n      .attr('class', 'label')\r\n      .style('display', 'table-cell')\r\n      .style('text-align', 'center')\r\n      .style('vertical-align', 'middle')\r\n      // .style('color', colour)\r\n      .text(content);\r\n\r\n    byTspan(content, body, x, y, width, height, textAttrs, conf);\r\n    _setTextAttrs(text, textAttrs);\r\n  }\r\n\r\n  function _setTextAttrs(toText, fromTextAttrsDict) {\r\n    for (const key in fromTextAttrsDict) {\r\n      if (key in fromTextAttrsDict) {\r\n        // eslint-disable-line\r\n        // noinspection JSUnfilteredForInLoop\r\n        toText.attr(key, fromTextAttrsDict[key]);\r\n      }\r\n    }\r\n  }\r\n\r\n  return function (conf) {\r\n    return conf.textPlacement === 'fo' ? byFo : conf.textPlacement === 'old' ? byText : byTspan;\r\n  };\r\n})();\r\n\r\nconst initGraphics = function (graphics) {\r\n  graphics\r\n    .append('defs')\r\n    .append('marker')\r\n    .attr('id', 'arrowhead')\r\n    .attr('refX', 5)\r\n    .attr('refY', 2)\r\n    .attr('markerWidth', 6)\r\n    .attr('markerHeight', 4)\r\n    .attr('orient', 'auto')\r\n    .append('path')\r\n    .attr('d', 'M 0,0 V 4 L6,2 Z'); // this is actual shape for arrowhead\r\n};\r\n\r\nexport default {\r\n  drawRect,\r\n  drawCircle,\r\n  drawSection,\r\n  drawText,\r\n  drawLabel,\r\n  drawTask,\r\n  drawBackgroundRect,\r\n  getTextObj,\r\n  getNoteRect,\r\n  initGraphics,\r\n};\r\n","/**\r\n * Created by knut on 14-12-11.\r\n */\r\nimport { select } from 'd3';\r\nimport { log } from './logger';\r\n\r\nconst conf = {};\r\nexport const setConf = function (cnf) {\r\n  const keys = Object.keys(cnf);\r\n\r\n  keys.forEach(function (key) {\r\n    conf[key] = cnf[key];\r\n  });\r\n};\r\n\r\n/**\r\n * Draws a an info picture in the tag with id: id based on the graph definition in text.\r\n * @param text\r\n * @param id\r\n */\r\nexport const draw = (id, ver) => {\r\n  try {\r\n    log.debug('Renering svg for syntax error\\n');\r\n\r\n    const svg = select('#' + id);\r\n\r\n    const g = svg.append('g');\r\n\r\n    g.append('path')\r\n      .attr('class', 'error-icon')\r\n      .attr(\r\n        'd',\r\n        'm411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z'\r\n      );\r\n\r\n    g.append('path')\r\n      .attr('class', 'error-icon')\r\n      .attr(\r\n        'd',\r\n        'm459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z'\r\n      );\r\n\r\n    g.append('path')\r\n      .attr('class', 'error-icon')\r\n      .attr(\r\n        'd',\r\n        'm340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z'\r\n      );\r\n\r\n    g.append('path')\r\n      .attr('class', 'error-icon')\r\n      .attr(\r\n        'd',\r\n        'm400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z'\r\n      );\r\n\r\n    g.append('path')\r\n      .attr('class', 'error-icon')\r\n      .attr(\r\n        'd',\r\n        'm496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z'\r\n      );\r\n\r\n    g.append('path')\r\n      .attr('class', 'error-icon')\r\n      .attr(\r\n        'd',\r\n        'm436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z'\r\n      );\r\n\r\n    g.append('text') // text label for the x axis\r\n      .attr('class', 'error-text')\r\n      .attr('x', 1240)\r\n      .attr('y', 250)\r\n      .attr('font-size', '150px')\r\n      .style('text-anchor', 'middle')\r\n      .text('Syntax error in graph');\r\n    g.append('text') // text label for the x axis\r\n      .attr('class', 'error-text')\r\n      .attr('x', 1050)\r\n      .attr('y', 400)\r\n      .attr('font-size', '100px')\r\n      .style('text-anchor', 'middle')\r\n      .text('mermaid version ' + ver);\r\n\r\n    svg.attr('height', 100);\r\n    svg.attr('width', 400);\r\n    svg.attr('viewBox', '768 0 512 512');\r\n  } catch (e) {\r\n    log.error('Error while rendering info diagram');\r\n    log.error(e.message);\r\n  }\r\n};\r\n\r\nexport default {\r\n  setConf,\r\n  draw,\r\n};\r\n","import moment from 'moment-mini';\r\n\r\nexport const LEVELS = {\r\n  debug: 1,\r\n  info: 2,\r\n  warn: 3,\r\n  error: 4,\r\n  fatal: 5,\r\n};\r\n\r\nexport const log = {\r\n  debug: () => {},\r\n  info: () => {},\r\n  warn: () => {},\r\n  error: () => {},\r\n  fatal: () => {},\r\n};\r\n\r\nexport const setLogLevel = function (level = 'fatal') {\r\n  if (isNaN(level)) {\r\n    level = level.toLowerCase();\r\n    if (LEVELS[level] !== undefined) {\r\n      level = LEVELS[level];\r\n    }\r\n  }\r\n  log.trace = () => {};\r\n  log.debug = () => {};\r\n  log.info = () => {};\r\n  log.warn = () => {};\r\n  log.error = () => {};\r\n  log.fatal = () => {};\r\n  if (level <= LEVELS.fatal) {\r\n    log.fatal = console.error\r\n      ? console.error.bind(console, format('FATAL'), 'color: orange')\r\n      : console.log.bind(console, '\\x1b[35m', format('FATAL'));\r\n  }\r\n  if (level <= LEVELS.error) {\r\n    log.error = console.error\r\n      ? console.error.bind(console, format('ERROR'), 'color: orange')\r\n      : console.log.bind(console, '\\x1b[31m', format('ERROR'));\r\n  }\r\n  if (level <= LEVELS.warn) {\r\n    log.warn = console.warn\r\n      ? console.warn.bind(console, format('WARN'), 'color: orange')\r\n      : console.log.bind(console, `\\x1b[33m`, format('WARN'));\r\n  }\r\n  if (level <= LEVELS.info) {\r\n    log.info = console.info // ? console.info.bind(console, '\\x1b[34m', format('INFO'), 'color: blue')\r\n      ? console.info.bind(console, format('INFO'), 'color: lightblue')\r\n      : console.log.bind(console, '\\x1b[34m', format('INFO'));\r\n  }\r\n  if (level <= LEVELS.debug) {\r\n    log.debug = console.debug\r\n      ? console.debug.bind(console, format('DEBUG'), 'color: lightgreen')\r\n      : console.log.bind(console, '\\x1b[32m', format('DEBUG'));\r\n  }\r\n};\r\n\r\nconst format = (level) => {\r\n  const time = moment().format('ss.SSS');\r\n  return `%c${time} : ${level} : `;\r\n};\r\n","/**\r\n * Web page integration module for the mermaid framework. It uses the mermaidAPI for mermaid functionality and to render\r\n * the diagrams to svg code.\r\n */\r\nimport { log } from './logger';\r\nimport mermaidAPI from './mermaidAPI';\r\nimport utils from './utils';\r\n\r\n/**\r\n * ## init\r\n * Function that goes through the document to find the chart definitions in there and render them.\r\n *\r\n * The function tags the processed attributes with the attribute data-processed and ignores found elements with the\r\n * attribute already set. This way the init function can be triggered several times.\r\n *\r\n * Optionally, `init` can accept in the second argument one of the following:\r\n * - a DOM Node\r\n * - an array of DOM nodes (as would come from a jQuery selector)\r\n * - a W3C selector, a la `.mermaid`\r\n *\r\n * ```mermaid\r\n * graph LR;\r\n *  a(Find elements)-->b{Processed}\r\n *  b-->|Yes|c(Leave element)\r\n *  b-->|No |d(Transform)\r\n * ```\r\n * Renders the mermaid diagrams\r\n * @param nodes a css selector or an array of nodes\r\n */\r\nconst init = function () {\r\n  const conf = mermaidAPI.getConfig();\r\n  // console.log('Starting rendering diagrams (init) - mermaid.init', conf);\r\n  let nodes;\r\n  if (arguments.length >= 2) {\r\n    /*! sequence config was passed as #1 */\r\n    if (typeof arguments[0] !== 'undefined') {\r\n      mermaid.sequenceConfig = arguments[0];\r\n    }\r\n\r\n    nodes = arguments[1];\r\n  } else {\r\n    nodes = arguments[0];\r\n  }\r\n\r\n  // if last argument is a function this is the callback function\r\n  let callback;\r\n  if (typeof arguments[arguments.length - 1] === 'function') {\r\n    callback = arguments[arguments.length - 1];\r\n    log.debug('Callback function found');\r\n  } else {\r\n    if (typeof conf.mermaid !== 'undefined') {\r\n      if (typeof conf.mermaid.callback === 'function') {\r\n        callback = conf.mermaid.callback;\r\n        log.debug('Callback function found');\r\n      } else {\r\n        log.debug('No Callback function found');\r\n      }\r\n    }\r\n  }\r\n  nodes =\r\n    nodes === undefined\r\n      ? document.querySelectorAll('.mermaid')\r\n      : typeof nodes === 'string'\r\n      ? document.querySelectorAll(nodes)\r\n      : nodes instanceof window.Node\r\n      ? [nodes]\r\n      : nodes; // Last case  - sequence config was passed pick next\r\n\r\n  log.debug('Start On Load before: ' + mermaid.startOnLoad);\r\n  if (typeof mermaid.startOnLoad !== 'undefined') {\r\n    log.debug('Start On Load inner: ' + mermaid.startOnLoad);\r\n    mermaidAPI.updateSiteConfig({ startOnLoad: mermaid.startOnLoad });\r\n  }\r\n\r\n  if (typeof mermaid.ganttConfig !== 'undefined') {\r\n    mermaidAPI.updateSiteConfig({ gantt: mermaid.ganttConfig });\r\n  }\r\n\r\n  const idGeneratior = new utils.initIdGeneratior(conf.deterministicIds, conf.deterministicIDSeed);\r\n\r\n  let txt;\r\n\r\n  for (let i = 0; i < nodes.length; i++) {\r\n    const element = nodes[i];\r\n\r\n    /*! Check if previously processed */\r\n    if (!element.getAttribute('data-processed')) {\r\n      element.setAttribute('data-processed', true);\r\n    } else {\r\n      continue;\r\n    }\r\n\r\n    const id = `mermaid-${idGeneratior.next()}`;\r\n\r\n    // Fetch the graph definition including tags\r\n    txt = element.innerHTML;\r\n\r\n    // transforms the html to pure text\r\n    txt = utils\r\n      .entityDecode(txt)\r\n      .trim()\r\n      .replace(/<br\\s*\\/?>/gi, '<br/>');\r\n\r\n    const init = utils.detectInit(txt);\r\n    if (init) {\r\n      log.debug('Detected early reinit: ', init);\r\n    }\r\n\r\n    try {\r\n      mermaidAPI.render(\r\n        id,\r\n        txt,\r\n        (svgCode, bindFunctions) => {\r\n          element.innerHTML = svgCode;\r\n          if (typeof callback !== 'undefined') {\r\n            callback(id);\r\n          }\r\n          if (bindFunctions) bindFunctions(element);\r\n        },\r\n        element\r\n      );\r\n    } catch (e) {\r\n      log.warn('Syntax Error rendering');\r\n      log.warn(e);\r\n      if (this.parseError) {\r\n        this.parseError(e);\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nconst initialize = function (config) {\r\n  // mermaidAPI.reset();\r\n  if (typeof config.mermaid !== 'undefined') {\r\n    if (typeof config.mermaid.startOnLoad !== 'undefined') {\r\n      mermaid.startOnLoad = config.mermaid.startOnLoad;\r\n    }\r\n    if (typeof config.mermaid.htmlLabels !== 'undefined') {\r\n      mermaid.htmlLabels =\r\n        config.mermaid.htmlLabels === 'false' || config.mermaid.htmlLabels === false ? false : true;\r\n    }\r\n  }\r\n  mermaidAPI.initialize(config);\r\n  // mermaidAPI.reset();\r\n};\r\n\r\n/**\r\n * ##contentLoaded\r\n * Callback function that is called when page is loaded. This functions fetches configuration for mermaid rendering and\r\n * calls init for rendering the mermaid diagrams on the page.\r\n */\r\nconst contentLoaded = function () {\r\n  let config;\r\n\r\n  if (mermaid.startOnLoad) {\r\n    // No config found, do check API config\r\n    config = mermaidAPI.getConfig();\r\n    if (config.startOnLoad) {\r\n      mermaid.init();\r\n    }\r\n  } else {\r\n    if (typeof mermaid.startOnLoad === 'undefined') {\r\n      log.debug('In start, no config');\r\n      config = mermaidAPI.getConfig();\r\n      if (config.startOnLoad) {\r\n        mermaid.init();\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nif (typeof document !== 'undefined') {\r\n  /*!\r\n   * Wait for document loaded before starting the execution\r\n   */\r\n  window.addEventListener(\r\n    'load',\r\n    function () {\r\n      contentLoaded();\r\n    },\r\n    false\r\n  );\r\n}\r\n\r\nconst mermaid = {\r\n  startOnLoad: true,\r\n  htmlLabels: true,\r\n\r\n  mermaidAPI,\r\n  parse: mermaidAPI.parse,\r\n  render: mermaidAPI.render,\r\n\r\n  init,\r\n  initialize,\r\n\r\n  contentLoaded,\r\n};\r\n\r\nexport default mermaid;\r\n","/**\r\n *Edit this Page[![N|Solid](img/GitHub-Mark-32px.png)](https://github.com/mermaid-js/mermaid/blob/develop/src/mermaidAPI.js)\r\n *\r\n *This is the API to be used when optionally handling the integration with the web page, instead of using the default integration provided by mermaid.js.\r\n *\r\n *\r\n * The core of this api is the [**render**](Setup.md?id=render) function which, given a graph\r\n * definition as text, renders the graph/diagram and returns an svg element for the graph.\r\n *\r\n * It is is then up to the user of the API to make use of the svg, either insert it somewhere in the page or do something completely different.\r\n *\r\n * In addition to the render function, a number of behavioral configuration options are available.\r\n *\r\n * @name mermaidAPI\r\n */\r\nimport { select } from 'd3';\r\nimport { compile, serialize, stringify } from 'stylis';\r\nimport pkg from '../package.json';\r\nimport * as configApi from './config';\r\nimport classDb from './diagrams/class/classDb';\r\nimport classRenderer from './diagrams/class/classRenderer';\r\nimport classRendererV2 from './diagrams/class/classRenderer-v2';\r\nimport classParser from './diagrams/class/parser/classDiagram';\r\nimport erDb from './diagrams/er/erDb';\r\nimport erRenderer from './diagrams/er/erRenderer';\r\nimport erParser from './diagrams/er/parser/erDiagram';\r\nimport flowDb from './diagrams/flowchart/flowDb';\r\nimport flowRenderer from './diagrams/flowchart/flowRenderer';\r\nimport flowRendererV2 from './diagrams/flowchart/flowRenderer-v2';\r\nimport flowParser from './diagrams/flowchart/parser/flow';\r\nimport ganttDb from './diagrams/gantt/ganttDb';\r\nimport ganttRenderer from './diagrams/gantt/ganttRenderer';\r\nimport ganttParser from './diagrams/gantt/parser/gantt';\r\nimport gitGraphAst from './diagrams/git/gitGraphAst';\r\nimport gitGraphRenderer from './diagrams/git/gitGraphRenderer';\r\nimport gitGraphParser from './diagrams/git/parser/gitGraph';\r\nimport infoDb from './diagrams/info/infoDb';\r\nimport infoRenderer from './diagrams/info/infoRenderer';\r\nimport infoParser from './diagrams/info/parser/info';\r\nimport pieParser from './diagrams/pie/parser/pie';\r\nimport pieDb from './diagrams/pie/pieDb';\r\nimport pieRenderer from './diagrams/pie/pieRenderer';\r\nimport requirementParser from './diagrams/requirement/parser/requirementDiagram';\r\nimport requirementDb from './diagrams/requirement/requirementDb';\r\nimport requirementRenderer from './diagrams/requirement/requirementRenderer';\r\nimport sequenceParser from './diagrams/sequence/parser/sequenceDiagram';\r\nimport sequenceDb from './diagrams/sequence/sequenceDb';\r\nimport sequenceRenderer from './diagrams/sequence/sequenceRenderer';\r\nimport stateParser from './diagrams/state/parser/stateDiagram';\r\nimport stateDb from './diagrams/state/stateDb';\r\nimport stateRenderer from './diagrams/state/stateRenderer';\r\nimport stateRendererV2 from './diagrams/state/stateRenderer-v2';\r\nimport journeyDb from './diagrams/user-journey/journeyDb';\r\nimport journeyRenderer from './diagrams/user-journey/journeyRenderer';\r\nimport journeyParser from './diagrams/user-journey/parser/journey';\r\nimport errorRenderer from './errorRenderer';\r\n\r\n// import * as configApi from './config';\r\n// // , {\r\n// //   setConfig,\r\n// //   configApi.getConfig,\r\n// //   configApi.updateSiteConfig,\r\n// //   configApi.setSiteConfig,\r\n// //   configApi.getSiteConfig,\r\n// //   configApi.defaultConfig\r\n// // }\r\nimport { log, setLogLevel } from './logger';\r\nimport getStyles from './styles';\r\nimport theme from './themes';\r\nimport utils, { directiveSanitizer, assignWithDepth } from './utils';\r\n\r\nfunction parse(text) {\r\n  const cnf = configApi.getConfig();\r\n  const graphInit = utils.detectInit(text, cnf);\r\n  if (graphInit) {\r\n    reinitialize(graphInit);\r\n    log.debug('reinit ', graphInit);\r\n  }\r\n  const graphType = utils.detectType(text, cnf);\r\n  let parser;\r\n\r\n  log.debug('Type ' + graphType);\r\n  switch (graphType) {\r\n    case 'git':\r\n      parser = gitGraphParser;\r\n      parser.parser.yy = gitGraphAst;\r\n      break;\r\n    case 'flowchart':\r\n      flowDb.clear();\r\n      parser = flowParser;\r\n      parser.parser.yy = flowDb;\r\n      break;\r\n    case 'flowchart-v2':\r\n      flowDb.clear();\r\n      parser = flowParser;\r\n      parser.parser.yy = flowDb;\r\n      break;\r\n    case 'sequence':\r\n      parser = sequenceParser;\r\n      parser.parser.yy = sequenceDb;\r\n      break;\r\n    case 'gantt':\r\n      parser = ganttParser;\r\n      parser.parser.yy = ganttDb;\r\n      break;\r\n    case 'class':\r\n      parser = classParser;\r\n      parser.parser.yy = classDb;\r\n      break;\r\n    case 'classDiagram':\r\n      parser = classParser;\r\n      parser.parser.yy = classDb;\r\n      break;\r\n    case 'state':\r\n      parser = stateParser;\r\n      parser.parser.yy = stateDb;\r\n      break;\r\n    case 'stateDiagram':\r\n      parser = stateParser;\r\n      parser.parser.yy = stateDb;\r\n      break;\r\n    case 'info':\r\n      log.debug('info info info');\r\n      parser = infoParser;\r\n      parser.parser.yy = infoDb;\r\n      break;\r\n    case 'pie':\r\n      log.debug('pie');\r\n      parser = pieParser;\r\n      parser.parser.yy = pieDb;\r\n      break;\r\n    case 'er':\r\n      log.debug('er');\r\n      parser = erParser;\r\n      parser.parser.yy = erDb;\r\n      break;\r\n    case 'journey':\r\n      log.debug('Journey');\r\n      parser = journeyParser;\r\n      parser.parser.yy = journeyDb;\r\n      break;\r\n    case 'requirement':\r\n    case 'requirementDiagram':\r\n      log.debug('RequirementDiagram');\r\n      parser = requirementParser;\r\n      parser.parser.yy = requirementDb;\r\n      break;\r\n  }\r\n  parser.parser.yy.graphType = graphType;\r\n  parser.parser.yy.parseError = (str, hash) => {\r\n    const error = { str, hash };\r\n    throw error;\r\n  };\r\n\r\n  parser.parse(text);\r\n  return parser;\r\n}\r\n\r\nexport const encodeEntities = function (text) {\r\n  let txt = text;\r\n\r\n  txt = txt.replace(/style.*:\\S*#.*;/g, function (s) {\r\n    const innerTxt = s.substring(0, s.length - 1);\r\n    return innerTxt;\r\n  });\r\n  txt = txt.replace(/classDef.*:\\S*#.*;/g, function (s) {\r\n    const innerTxt = s.substring(0, s.length - 1);\r\n    return innerTxt;\r\n  });\r\n\r\n  txt = txt.replace(/#\\w+;/g, function (s) {\r\n    const innerTxt = s.substring(1, s.length - 1);\r\n\r\n    const isInt = /^\\+?\\d+$/.test(innerTxt);\r\n    if (isInt) {\r\n      return 'ﬂ°°' + innerTxt + '¶ß';\r\n    } else {\r\n      return 'ﬂ°' + innerTxt + '¶ß';\r\n    }\r\n  });\r\n\r\n  return txt;\r\n};\r\n\r\nexport const decodeEntities = function (text) {\r\n  let txt = text;\r\n\r\n  txt = txt.replace(/ﬂ°°/g, function () {\r\n    return '&#';\r\n  });\r\n  txt = txt.replace(/ﬂ°/g, function () {\r\n    return '&';\r\n  });\r\n  txt = txt.replace(/¶ß/g, function () {\r\n    return ';';\r\n  });\r\n\r\n  return txt;\r\n};\r\n/**\r\n * Function that renders an svg with a graph from a chart definition. Usage example below.\r\n *\r\n * ```js\r\n * mermaidAPI.initialize({\r\n *      startOnLoad:true\r\n *  });\r\n *  $(function(){\r\n *      const graphDefinition = 'graph TB\\na-->b';\r\n *      const cb = function(svgGraph){\r\n *          console.log(svgGraph);\r\n *      };\r\n *      mermaidAPI.render('id1',graphDefinition,cb);\r\n *  });\r\n *```\r\n * @param id the id of the element to be rendered\r\n * @param _txt the graph definition\r\n * @param cb callback which is called after rendering is finished with the svg code as inparam.\r\n * @param container selector to element in which a div with the graph temporarily will be inserted. In one is\r\n * provided a hidden div will be inserted in the body of the page instead. The element will be removed when rendering is\r\n * completed.\r\n */\r\nconst render = function (id, _txt, cb, container) {\r\n  configApi.reset();\r\n  let txt = _txt;\r\n  const graphInit = utils.detectInit(txt);\r\n  if (graphInit) {\r\n    configApi.addDirective(graphInit);\r\n  }\r\n  // else {\r\n  //   configApi.reset();\r\n  //   const siteConfig = configApi.getSiteConfig();\r\n  //   configApi.addDirective(siteConfig);\r\n  // }\r\n  // console.warn('Render fetching config');\r\n\r\n  let cnf = configApi.getConfig();\r\n  // Check the maximum allowed text size\r\n  if (_txt.length > cnf.maxTextSize) {\r\n    txt = 'graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa';\r\n  }\r\n\r\n  if (typeof container !== 'undefined') {\r\n    container.innerHTML = '';\r\n\r\n    select(container)\r\n      .append('div')\r\n      .attr('id', 'd' + id)\r\n      .attr('style', 'font-family: ' + cnf.fontFamily)\r\n      .append('svg')\r\n      .attr('id', id)\r\n      .attr('width', '100%')\r\n      .attr('xmlns', 'http://www.w3.org/2000/svg')\r\n      .append('g');\r\n  } else {\r\n    const existingSvg = document.getElementById(id);\r\n    if (existingSvg) {\r\n      existingSvg.remove();\r\n    }\r\n    const element = document.querySelector('#' + 'd' + id);\r\n    if (element) {\r\n      element.remove();\r\n    }\r\n\r\n    select('body')\r\n      .append('div')\r\n      .attr('id', 'd' + id)\r\n      .append('svg')\r\n      .attr('id', id)\r\n      .attr('width', '100%')\r\n      .attr('xmlns', 'http://www.w3.org/2000/svg')\r\n      .append('g');\r\n  }\r\n\r\n  window.txt = txt;\r\n  txt = encodeEntities(txt);\r\n\r\n  const element = select('#d' + id).node();\r\n  const graphType = utils.detectType(txt, cnf);\r\n\r\n  // insert inline style into svg\r\n  const svg = element.firstChild;\r\n  const firstChild = svg.firstChild;\r\n\r\n  let userStyles = '';\r\n  // user provided theme CSS\r\n  if (cnf.themeCSS !== undefined) {\r\n    userStyles += `\\n${cnf.themeCSS}`;\r\n  }\r\n  // user provided theme CSS\r\n  if (cnf.fontFamily !== undefined) {\r\n    userStyles += `\\n:root { --mermaid-font-family: ${cnf.fontFamily}}`;\r\n  }\r\n  // user provided theme CSS\r\n  if (cnf.altFontFamily !== undefined) {\r\n    userStyles += `\\n:root { --mermaid-alt-font-family: ${cnf.altFontFamily}}`;\r\n  }\r\n\r\n  // classDef\r\n  if (graphType === 'flowchart' || graphType === 'flowchart-v2' || graphType === 'graph') {\r\n    const classes = flowRenderer.getClasses(txt);\r\n    const htmlLabels = cnf.htmlLabels || cnf.flowchart.htmlLabels;\r\n    for (const className in classes) {\r\n      if (htmlLabels) {\r\n        userStyles += `\\n.${className} > * { ${classes[className].styles.join(\r\n          ' !important; '\r\n        )} !important; }`;\r\n        userStyles += `\\n.${className} span { ${classes[className].styles.join(\r\n          ' !important; '\r\n        )} !important; }`;\r\n      } else {\r\n        userStyles += `\\n.${className} path { ${classes[className].styles.join(\r\n          ' !important; '\r\n        )} !important; }`;\r\n        userStyles += `\\n.${className} rect { ${classes[className].styles.join(\r\n          ' !important; '\r\n        )} !important; }`;\r\n        userStyles += `\\n.${className} polygon { ${classes[className].styles.join(\r\n          ' !important; '\r\n        )} !important; }`;\r\n        userStyles += `\\n.${className} ellipse { ${classes[className].styles.join(\r\n          ' !important; '\r\n        )} !important; }`;\r\n        userStyles += `\\n.${className} circle { ${classes[className].styles.join(\r\n          ' !important; '\r\n        )} !important; }`;\r\n        if (classes[className].textStyles) {\r\n          userStyles += `\\n.${className} tspan { ${classes[className].textStyles.join(\r\n            ' !important; '\r\n          )} !important; }`;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // log.warn(cnf.themeVariables);\r\n\r\n  const stylis = (selector, styles) => serialize(compile(`${selector}{${styles}}`), stringify);\r\n  const rules = stylis(`#${id}`, getStyles(graphType, userStyles, cnf.themeVariables));\r\n\r\n  const style1 = document.createElement('style');\r\n  style1.innerHTML = `#${id} ` + rules;\r\n  svg.insertBefore(style1, firstChild);\r\n\r\n  // Verify that the generated svgs are ok before removing this\r\n\r\n  // const style2 = document.createElement('style');\r\n  // const cs = window.getComputedStyle(svg);\r\n  // style2.innerHTML = `#d${id} * {\r\n  //   color: ${cs.color};\r\n  //   // font: ${cs.font};\r\n  //   // font-family: Arial;\r\n  //   // font-size: 24px;\r\n  // }`;\r\n  // svg.insertBefore(style2, firstChild);\r\n\r\n  try {\r\n    switch (graphType) {\r\n      case 'git':\r\n        cnf.flowchart.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\r\n        gitGraphRenderer.setConf(cnf.git);\r\n        gitGraphRenderer.draw(txt, id, false);\r\n        break;\r\n      case 'flowchart':\r\n        cnf.flowchart.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\r\n        flowRenderer.setConf(cnf.flowchart);\r\n        flowRenderer.draw(txt, id, false);\r\n        break;\r\n      case 'flowchart-v2':\r\n        cnf.flowchart.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\r\n        flowRendererV2.setConf(cnf.flowchart);\r\n        flowRendererV2.draw(txt, id, false);\r\n        break;\r\n      case 'sequence':\r\n        cnf.sequence.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\r\n        if (cnf.sequenceDiagram) {\r\n          // backwards compatibility\r\n          sequenceRenderer.setConf(Object.assign(cnf.sequence, cnf.sequenceDiagram));\r\n          console.error(\r\n            '`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.'\r\n          );\r\n        } else {\r\n          sequenceRenderer.setConf(cnf.sequence);\r\n        }\r\n        sequenceRenderer.draw(txt, id);\r\n        break;\r\n      case 'gantt':\r\n        cnf.gantt.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\r\n        ganttRenderer.setConf(cnf.gantt);\r\n        ganttRenderer.draw(txt, id);\r\n        break;\r\n      case 'class':\r\n        cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\r\n        classRenderer.setConf(cnf.class);\r\n        classRenderer.draw(txt, id);\r\n        break;\r\n      case 'classDiagram':\r\n        cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\r\n        classRendererV2.setConf(cnf.class);\r\n        classRendererV2.draw(txt, id);\r\n        break;\r\n      case 'state':\r\n        cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\r\n        stateRenderer.setConf(cnf.state);\r\n        stateRenderer.draw(txt, id);\r\n        break;\r\n      case 'stateDiagram':\r\n        cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\r\n        stateRendererV2.setConf(cnf.state);\r\n        stateRendererV2.draw(txt, id);\r\n        break;\r\n      case 'info':\r\n        cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\r\n        infoRenderer.setConf(cnf.class);\r\n        infoRenderer.draw(txt, id, pkg.version);\r\n        break;\r\n      case 'pie':\r\n        //cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\r\n        //pieRenderer.setConf(cnf.pie);\r\n        pieRenderer.draw(txt, id, pkg.version);\r\n        break;\r\n      case 'er':\r\n        erRenderer.setConf(cnf.er);\r\n        erRenderer.draw(txt, id, pkg.version);\r\n        break;\r\n      case 'journey':\r\n        journeyRenderer.setConf(cnf.journey);\r\n        journeyRenderer.draw(txt, id, pkg.version);\r\n        break;\r\n      case 'requirement':\r\n        requirementRenderer.setConf(cnf.requirement);\r\n        requirementRenderer.draw(txt, id, pkg.version);\r\n        break;\r\n    }\r\n  } catch (e) {\r\n    // errorRenderer.setConf(cnf.class);\r\n    errorRenderer.draw(id, pkg.version);\r\n    throw e;\r\n  }\r\n\r\n  select(`[id=\"${id}\"]`)\r\n    .selectAll('foreignobject > *')\r\n    .attr('xmlns', 'http://www.w3.org/1999/xhtml');\r\n\r\n  // if (cnf.arrowMarkerAbsolute) {\r\n  //   url =\r\n  //     window.location.protocol +\r\n  //     '//' +\r\n  //     window.location.host +\r\n  //     window.location.pathname +\r\n  //     window.location.search;\r\n  //   url = url.replace(/\\(/g, '\\\\(');\r\n  //   url = url.replace(/\\)/g, '\\\\)');\r\n  // }\r\n\r\n  // Fix for when the base tag is used\r\n  let svgCode = select('#d' + id).node().innerHTML;\r\n  log.debug('cnf.arrowMarkerAbsolute', cnf.arrowMarkerAbsolute);\r\n  if (!cnf.arrowMarkerAbsolute || cnf.arrowMarkerAbsolute === 'false') {\r\n    svgCode = svgCode.replace(/marker-end=\"url\\(.*?#/g, 'marker-end=\"url(#', 'g');\r\n  }\r\n\r\n  svgCode = decodeEntities(svgCode);\r\n\r\n  // Fix for when the br tag is used\r\n  svgCode = svgCode.replace(/<br>/g, '<br/>');\r\n\r\n  if (typeof cb !== 'undefined') {\r\n    switch (graphType) {\r\n      case 'flowchart':\r\n      case 'flowchart-v2':\r\n        cb(svgCode, flowDb.bindFunctions);\r\n        break;\r\n      case 'gantt':\r\n        cb(svgCode, ganttDb.bindFunctions);\r\n        break;\r\n      case 'class':\r\n      case 'classDiagram':\r\n        cb(svgCode, classDb.bindFunctions);\r\n        break;\r\n      default:\r\n        cb(svgCode);\r\n    }\r\n  } else {\r\n    log.debug('CB = undefined!');\r\n  }\r\n\r\n  const node = select('#d' + id).node();\r\n  if (node !== null && typeof node.remove === 'function') {\r\n    select('#d' + id)\r\n      .node()\r\n      .remove();\r\n  }\r\n\r\n  return svgCode;\r\n};\r\n\r\nlet currentDirective = {};\r\n\r\nconst parseDirective = function (p, statement, context, type) {\r\n  try {\r\n    if (statement !== undefined) {\r\n      statement = statement.trim();\r\n      switch (context) {\r\n        case 'open_directive':\r\n          currentDirective = {};\r\n          break;\r\n        case 'type_directive':\r\n          currentDirective.type = statement.toLowerCase();\r\n          break;\r\n        case 'arg_directive':\r\n          currentDirective.args = JSON.parse(statement);\r\n          break;\r\n        case 'close_directive':\r\n          handleDirective(p, currentDirective, type);\r\n          currentDirective = null;\r\n          break;\r\n      }\r\n    }\r\n  } catch (error) {\r\n    log.error(\r\n      `Error while rendering sequenceDiagram directive: ${statement} jison context: ${context}`\r\n    );\r\n    log.error(error.message);\r\n  }\r\n};\r\n\r\nconst handleDirective = function (p, directive, type) {\r\n  log.debug(`Directive type=${directive.type} with args:`, directive.args);\r\n  switch (directive.type) {\r\n    case 'init':\r\n    case 'initialize': {\r\n      ['config'].forEach((prop) => {\r\n        if (typeof directive.args[prop] !== 'undefined') {\r\n          if (type === 'flowchart-v2') {\r\n            type = 'flowchart';\r\n          }\r\n          directive.args[type] = directive.args[prop];\r\n          delete directive.args[prop];\r\n        }\r\n      });\r\n      log.debug('sanitize in handleDirective', directive.args);\r\n      directiveSanitizer(directive.args);\r\n      log.debug('sanitize in handleDirective (done)', directive.args);\r\n      reinitialize(directive.args);\r\n      configApi.addDirective(directive.args);\r\n      break;\r\n    }\r\n    case 'wrap':\r\n    case 'nowrap':\r\n      if (p && p['setWrap']) {\r\n        p.setWrap(directive.type === 'wrap');\r\n      }\r\n      break;\r\n    default:\r\n      log.warn(\r\n        `Unhandled directive: source: '%%{${directive.type}: ${JSON.stringify(\r\n          directive.args ? directive.args : {}\r\n        )}}%%`,\r\n        directive\r\n      );\r\n      break;\r\n  }\r\n};\r\n\r\nfunction updateRendererConfigs(conf) {\r\n  // Todo remove, all diagrams should get config on demoand from the config object, no need for this\r\n  gitGraphRenderer.setConf(conf.git);\r\n  flowRenderer.setConf(conf.flowchart);\r\n  flowRendererV2.setConf(conf.flowchart);\r\n  if (typeof conf['sequenceDiagram'] !== 'undefined') {\r\n    sequenceRenderer.setConf(assignWithDepth(conf.sequence, conf['sequenceDiagram']));\r\n  }\r\n  sequenceRenderer.setConf(conf.sequence);\r\n  ganttRenderer.setConf(conf.gantt);\r\n  classRenderer.setConf(conf.class);\r\n  stateRenderer.setConf(conf.state);\r\n  stateRendererV2.setConf(conf.state);\r\n  infoRenderer.setConf(conf.class);\r\n  // pieRenderer.setConf(conf.class);\r\n  erRenderer.setConf(conf.er);\r\n  journeyRenderer.setConf(conf.journey);\r\n  requirementRenderer.setConf(conf.requirement);\r\n  errorRenderer.setConf(conf.class);\r\n}\r\n\r\nfunction reinitialize() {\r\n  // `mermaidAPI.reinitialize: v${pkg.version}`,\r\n  //   JSON.stringify(options),\r\n  //   options.themeVariables.primaryColor;\r\n  // // if (options.theme && theme[options.theme]) {\r\n  // //   options.themeVariables = theme[options.theme].getThemeVariables(options.themeVariables);\r\n  // // }\r\n  // // Set default options\r\n  // const config =\r\n  //   typeof options === 'object' ? configApi.setConfig(options) : configApi.getSiteConfig();\r\n  // updateRendererConfigs(config);\r\n  // setLogLevel(config.logLevel);\r\n  // log.debug('mermaidAPI.reinitialize: ', config);\r\n}\r\n\r\nfunction initialize(options) {\r\n  // console.warn(`mermaidAPI.initialize: v${pkg.version} `, options);\r\n\r\n  // Handle legacy location of font-family configuration\r\n  if (options && options.fontFamily) {\r\n    if (!options.themeVariables) {\r\n      options.themeVariables = { fontFamily: options.fontFamily };\r\n    } else {\r\n      if (!options.themeVariables.fontFamily) {\r\n        options.themeVariables = { fontFamily: options.fontFamily };\r\n      }\r\n    }\r\n  }\r\n  // Set default options\r\n  configApi.saveConfigFromInitilize(options);\r\n\r\n  if (options && options.theme && theme[options.theme]) {\r\n    // Todo merge with user options\r\n    options.themeVariables = theme[options.theme].getThemeVariables(options.themeVariables);\r\n  } else {\r\n    if (options) options.themeVariables = theme.default.getThemeVariables(options.themeVariables);\r\n  }\r\n\r\n  const config =\r\n    typeof options === 'object' ? configApi.setSiteConfig(options) : configApi.getSiteConfig();\r\n\r\n  updateRendererConfigs(config);\r\n  setLogLevel(config.logLevel);\r\n  // log.debug('mermaidAPI.initialize: ', config);\r\n}\r\n\r\nconst mermaidAPI = Object.freeze({\r\n  render,\r\n  parse,\r\n  parseDirective,\r\n  initialize,\r\n  reinitialize,\r\n  getConfig: configApi.getConfig,\r\n  setConfig: configApi.setConfig,\r\n  getSiteConfig: configApi.getSiteConfig,\r\n  updateSiteConfig: configApi.updateSiteConfig,\r\n  reset: () => {\r\n    // console.warn('reset');\r\n    configApi.reset();\r\n    // const siteConfig = configApi.getSiteConfig();\r\n    // updateRendererConfigs(siteConfig);\r\n  },\r\n  globalReset: () => {\r\n    configApi.reset(configApi.defaultConfig);\r\n    updateRendererConfigs(configApi.getConfig());\r\n  },\r\n  defaultConfig: configApi.defaultConfig,\r\n});\r\n\r\nsetLogLevel(configApi.getConfig().logLevel);\r\nconfigApi.reset(configApi.getConfig());\r\n\r\nexport default mermaidAPI;\r\n/**\r\n * ## mermaidAPI configuration defaults\r\n *\r\n * ```html\r\n * <script>\r\n *   var config = {\r\n *     theme:'default',\r\n *     logLevel:'fatal',\r\n *     securityLevel:'strict',\r\n *     startOnLoad:true,\r\n *     arrowMarkerAbsolute:false,\r\n *\r\n *     er:{\r\n *       diagramPadding:20,\r\n *       layoutDirection:'TB',\r\n *       minEntityWidth:100,\r\n *       minEntityHeight:75,\r\n *       entityPadding:15,\r\n *       stroke:'gray',\r\n *       fill:'honeydew',\r\n *       fontSize:12,\r\n *       useMaxWidth:true,\r\n *     },\r\n *     flowchart:{\r\n *       diagramPadding:8,\r\n *       htmlLabels:true,\r\n *       curve:'basis',\r\n *     },\r\n *     sequence:{\r\n *       diagramMarginX:50,\r\n *       diagramMarginY:10,\r\n *       actorMargin:50,\r\n *       width:150,\r\n *       height:65,\r\n *       boxMargin:10,\r\n *       boxTextMargin:5,\r\n *       noteMargin:10,\r\n *       messageMargin:35,\r\n *       messageAlign:'center',\r\n *       mirrorActors:true,\r\n *       bottomMarginAdj:1,\r\n *       useMaxWidth:true,\r\n *       rightAngles:false,\r\n *       showSequenceNumbers:false,\r\n *     },\r\n *     gantt:{\r\n *       titleTopMargin:25,\r\n *       barHeight:20,\r\n *       barGap:4,\r\n *       topPadding:50,\r\n *       leftPadding:75,\r\n *       gridLineStartPadding:35,\r\n *       fontSize:11,\r\n *       fontFamily:'\"Open-Sans\", \"sans-serif\"',\r\n *       numberSectionStyles:4,\r\n *       axisFormat:'%Y-%m-%d',\r\n *       topAxis:false,\r\n *     }\r\n *   };\r\n *   mermaid.initialize(config);\r\n * </script>\r\n * ```\r\n */\r\n","import classDiagram from './diagrams/class/styles';\r\nimport er from './diagrams/er/styles';\r\nimport flowchart from './diagrams/flowchart/styles';\r\nimport gantt from './diagrams/gantt/styles';\r\nimport git from './diagrams/git/styles';\r\nimport info from './diagrams/info/styles';\r\nimport pie from './diagrams/pie/styles';\r\nimport requirement from './diagrams/requirement/styles';\r\nimport sequence from './diagrams/sequence/styles';\r\nimport stateDiagram from './diagrams/state/styles';\r\nimport journey from './diagrams/user-journey/styles';\r\n\r\nconst themes = {\r\n  flowchart,\r\n  'flowchart-v2': flowchart,\r\n  sequence,\r\n  gantt,\r\n  classDiagram,\r\n  'classDiagram-v2': classDiagram,\r\n  class: classDiagram,\r\n  stateDiagram,\r\n  state: stateDiagram,\r\n  git,\r\n  info,\r\n  pie,\r\n  er,\r\n  journey,\r\n  requirement,\r\n};\r\n\r\nexport const calcThemeVariables = (theme, userOverRides) => theme.calcColors(userOverRides);\r\n\r\nconst getStyles = (type, userStyles, options) => {\r\n  //console.warn('options in styles: ', options);\r\n  return ` {\r\n    font-family: ${options.fontFamily};\r\n    font-size: ${options.fontSize};\r\n    fill: ${options.textColor}\r\n  }\r\n\r\n  /* Classes common for multiple diagrams */\r\n\r\n  .error-icon {\r\n    fill: ${options.errorBkgColor};\r\n  }\r\n  .error-text {\r\n    fill: ${options.errorTextColor};\r\n    stroke: ${options.errorTextColor};\r\n  }\r\n\r\n  .edge-thickness-normal {\r\n    stroke-width: 2px;\r\n  }\r\n  .edge-thickness-thick {\r\n    stroke-width: 3.5px\r\n  }\r\n  .edge-pattern-solid {\r\n    stroke-dasharray: 0;\r\n  }\r\n\r\n  .edge-pattern-dashed{\r\n    stroke-dasharray: 3;\r\n  }\r\n  .edge-pattern-dotted {\r\n    stroke-dasharray: 2;\r\n  }\r\n\r\n  .marker {\r\n    fill: ${options.lineColor};\r\n    stroke: ${options.lineColor};\r\n  }\r\n  .marker.cross {\r\n    stroke: ${options.lineColor};\r\n  }\r\n\r\n  svg {\r\n    font-family: ${options.fontFamily};\r\n    font-size: ${options.fontSize};\r\n  }\r\n\r\n  ${themes[type](options)}\r\n\r\n  ${userStyles}\r\n`;\r\n};\r\n\r\nexport default getStyles;\r\n","import { getThemeVariables as baseThemeVariables } from './theme-base';\r\nimport { getThemeVariables as darkThemeVariables } from './theme-dark';\r\nimport { getThemeVariables as defaultThemeVariables } from './theme-default';\r\nimport { getThemeVariables as forestThemeVariables } from './theme-forest';\r\nimport { getThemeVariables as neutralThemeVariables } from './theme-neutral';\r\n\r\nexport default {\r\n  base: {\r\n    getThemeVariables: baseThemeVariables,\r\n  },\r\n  dark: {\r\n    getThemeVariables: darkThemeVariables,\r\n  },\r\n  default: {\r\n    getThemeVariables: defaultThemeVariables,\r\n  },\r\n  forest: {\r\n    getThemeVariables: forestThemeVariables,\r\n  },\r\n  neutral: {\r\n    getThemeVariables: neutralThemeVariables,\r\n  },\r\n};\r\n","import { darken, lighten, adjust, invert } from 'khroma';\r\nimport { mkBorder } from './theme-helpers';\r\nclass Theme {\r\n  constructor() {\r\n    /** # Base variables */\r\n    /** * background - used to know what the background color is of the diagram. This is used for deducing colors for istance line color. Defaulr value is #f4f4f4. */\r\n    this.background = '#f4f4f4';\r\n    this.darkMode = false;\r\n\r\n    // this.background = '#0c0c0c';\r\n    // this.darkMode = true;\r\n    this.primaryColor = '#fff4dd';\r\n    // this.background = '#0c0c0c';\r\n    // this.primaryColor = '#1f1f00';\r\n\r\n    this.noteBkgColor = '#fff5ad';\r\n    this.noteTextColor = '#333';\r\n\r\n    // dark\r\n\r\n    // this.primaryColor = '#034694';\r\n    // this.primaryColor = '#f2ee7e';\r\n    // this.primaryColor = '#9f33be';\r\n    // this.primaryColor = '#f0fff0';\r\n    // this.primaryColor = '#fa255e';\r\n    // this.primaryColor = '#ECECFF';\r\n\r\n    // this.secondaryColor = '#c39ea0';\r\n    // this.tertiaryColor = '#f8e5e5';\r\n\r\n    // this.secondaryColor = '#dfdfde';\r\n    // this.tertiaryColor = '#CCCCFF';\r\n\r\n    this.fontFamily = '\"trebuchet ms\", verdana, arial, sans-serif';\r\n    this.fontSize = '16px';\r\n    // this.updateColors();\r\n  }\r\n  updateColors() {\r\n    // The || is to make sure that if the variable has been defiend by a user override that value is to be used\r\n\r\n    /* Main */\r\n    this.primaryTextColor = this.primaryTextColor || (this.darkMode ? '#ddd' : '#333'); // invert(this.primaryColor);\r\n    this.secondaryColor = this.secondaryColor || adjust(this.primaryColor, { h: -120 });\r\n    this.tertiaryColor = this.tertiaryColor || adjust(this.primaryColor, { h: 180, l: 5 });\r\n\r\n    this.primaryBorderColor = this.primaryBorderColor || mkBorder(this.primaryColor, this.darkMode);\r\n    this.secondaryBorderColor =\r\n      this.secondaryBorderColor || mkBorder(this.secondaryColor, this.darkMode);\r\n    this.tertiaryBorderColor =\r\n      this.tertiaryBorderColor || mkBorder(this.tertiaryColor, this.darkMode);\r\n    this.noteBorderColor = this.noteBorderColor || mkBorder(this.noteBkgColor, this.darkMode);\r\n    this.noteBkgColor = this.noteBkgColor || '#fff5ad';\r\n    this.noteTextColor = this.noteTextColor || '#333';\r\n\r\n    this.secondaryTextColor = this.secondaryTextColor || invert(this.secondaryColor);\r\n    this.tertiaryTextColor = this.tertiaryTextColor || invert(this.tertiaryColor);\r\n    this.lineColor = this.lineColor || invert(this.background);\r\n    this.textColor = this.textColor || this.primaryTextColor;\r\n\r\n    /* Flowchart variables */\r\n    this.nodeBkg = this.nodeBkg || this.primaryColor;\r\n    this.mainBkg = this.mainBkg || this.primaryColor;\r\n    this.nodeBorder = this.nodeBorder || this.primaryBorderColor;\r\n    this.clusterBkg = this.clusterBkg || this.tertiaryColor;\r\n    this.clusterBorder = this.clusterBorder || this.tertiaryBorderColor;\r\n    this.defaultLinkColor = this.defaultLinkColor || this.lineColor;\r\n    this.titleColor = this.titleColor || this.tertiaryTextColor;\r\n    this.edgeLabelBackground =\r\n      this.edgeLabelBackground ||\r\n      (this.darkMode ? darken(this.secondaryColor, 30) : this.secondaryColor);\r\n    this.nodeTextColor = this.nodeTextColor || this.primaryTextColor;\r\n    /* Sequence Diagram variables */\r\n\r\n    // this.actorBorder = lighten(this.border1, 0.5);\r\n    this.actorBorder = this.actorBorder || this.primaryBorderColor;\r\n    this.actorBkg = this.actorBkg || this.mainBkg;\r\n    this.actorTextColor = this.actorTextColor || this.primaryTextColor;\r\n    this.actorLineColor = this.actorLineColor || 'grey';\r\n    this.labelBoxBkgColor = this.labelBoxBkgColor || this.actorBkg;\r\n    this.signalColor = this.signalColor || this.textColor;\r\n    this.signalTextColor = this.signalTextColor || this.textColor;\r\n    this.labelBoxBorderColor = this.labelBoxBorderColor || this.actorBorder;\r\n    this.labelTextColor = this.labelTextColor || this.actorTextColor;\r\n    this.loopTextColor = this.loopTextColor || this.actorTextColor;\r\n    this.activationBorderColor = this.activationBorderColor || darken(this.secondaryColor, 10);\r\n    this.activationBkgColor = this.activationBkgColor || this.secondaryColor;\r\n    this.sequenceNumberColor = this.sequenceNumberColor || invert(this.lineColor);\r\n\r\n    /* Gantt chart variables */\r\n\r\n    this.sectionBkgColor = this.sectionBkgColor || this.tertiaryColor;\r\n    this.altSectionBkgColor = this.altSectionBkgColor || 'white';\r\n    this.sectionBkgColor = this.sectionBkgColor || this.secondaryColor;\r\n    this.sectionBkgColor2 = this.sectionBkgColor2 || this.primaryColor;\r\n    this.taskBorderColor = this.taskBorderColor || this.primaryBorderColor;\r\n    this.taskBkgColor = this.taskBkgColor || this.primaryColor;\r\n    this.activeTaskBorderColor = this.activeTaskBorderColor || this.primaryColor;\r\n    this.activeTaskBkgColor = this.activeTaskBkgColor || lighten(this.primaryColor, 23);\r\n    this.gridColor = this.gridColor || 'lightgrey';\r\n    this.doneTaskBkgColor = this.doneTaskBkgColor || 'lightgrey';\r\n    this.doneTaskBorderColor = this.doneTaskBorderColor || 'grey';\r\n    this.critBorderColor = this.critBorderColor || '#ff8888';\r\n    this.critBkgColor = this.critBkgColor || 'red';\r\n    this.todayLineColor = this.todayLineColor || 'red';\r\n    this.taskTextColor = this.taskTextColor || this.textColor;\r\n    this.taskTextOutsideColor = this.taskTextOutsideColor || this.textColor;\r\n    this.taskTextLightColor = this.taskTextLightColor || this.textColor;\r\n    this.taskTextColor = this.taskTextColor || this.primaryTextColor;\r\n    this.taskTextDarkColor = this.taskTextDarkColor || this.textColor;\r\n    this.taskTextClickableColor = this.taskTextClickableColor || '#003163';\r\n\r\n    /* state colors */\r\n    this.transitionColor = this.transitionColor || this.lineColor;\r\n    this.transitionLabelColor = this.transitionLabelColor || this.textColor;\r\n    /* The color of the text tables of the tstates*/\r\n    this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;\r\n\r\n    this.stateBkg = this.stateBkg || this.mainBkg;\r\n    this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;\r\n    this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;\r\n    this.altBackground = this.altBackground || this.tertiaryColor;\r\n    this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;\r\n    this.compositeBorder = this.compositeBorder || this.nodeBorder;\r\n    this.innerEndBackground = this.nodeBorder;\r\n    this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;\r\n    this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;\r\n    this.transitionColor = this.transitionColor || this.lineColor;\r\n    this.specialStateColor = this.lineColor;\r\n\r\n    /* class */\r\n    this.classText = this.classText || this.textColor;\r\n\r\n    /* user-journey */\r\n    this.fillType0 = this.fillType0 || this.primaryColor;\r\n    this.fillType1 = this.fillType1 || this.secondaryColor;\r\n    this.fillType2 = this.fillType2 || adjust(this.primaryColor, { h: 64 });\r\n    this.fillType3 = this.fillType3 || adjust(this.secondaryColor, { h: 64 });\r\n    this.fillType4 = this.fillType4 || adjust(this.primaryColor, { h: -64 });\r\n    this.fillType5 = this.fillType5 || adjust(this.secondaryColor, { h: -64 });\r\n    this.fillType6 = this.fillType6 || adjust(this.primaryColor, { h: 128 });\r\n    this.fillType7 = this.fillType7 || adjust(this.secondaryColor, { h: 128 });\r\n\r\n    /* pie */\r\n    this.pie1 = this.pie1 || this.primaryColor;\r\n    this.pie2 = this.pie2 || this.secondaryColor;\r\n    this.pie3 = this.pie3 || this.tertiaryColor;\r\n    this.pie4 = this.pie4 || adjust(this.primaryColor, { l: -10 });\r\n    this.pie5 = this.pie5 || adjust(this.secondaryColor, { l: -10 });\r\n    this.pie6 = this.pie6 || adjust(this.tertiaryColor, { l: -10 });\r\n    this.pie7 = this.pie7 || adjust(this.primaryColor, { h: +60, l: -10 });\r\n    this.pie8 = this.pie8 || adjust(this.primaryColor, { h: -60, l: -10 });\r\n    this.pie9 = this.pie9 || adjust(this.primaryColor, { h: 120, l: 0 });\r\n    this.pie10 = this.pie10 || adjust(this.primaryColor, { h: +60, l: -20 });\r\n    this.pie11 = this.pie11 || adjust(this.primaryColor, { h: -60, l: -20 });\r\n    this.pie12 = this.pie12 || adjust(this.primaryColor, { h: 120, l: -10 });\r\n    this.pieTitleTextSize = this.pieTitleTextSize || '25px';\r\n    this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;\r\n    this.pieSectionTextSize = this.pieSectionTextSize || '17px';\r\n    this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;\r\n    this.pieLegendTextSize = this.pieLegendTextSize || '17px';\r\n    this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;\r\n    this.pieStrokeColor = this.pieStrokeColor || 'black';\r\n    this.pieStrokeWidth = this.pieStrokeWidth || '2px';\r\n    this.pieOpacity = this.pieOpacity || '0.7';\r\n\r\n    /* requirement-diagram */\r\n    this.requirementBackground = this.requirementBackground || this.primaryColor;\r\n    this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;\r\n    this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;\r\n    this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;\r\n    this.relationColor = this.relationColor || this.lineColor;\r\n    this.relationLabelBackground =\r\n      this.relationLabelBackground ||\r\n      (this.darkMode ? darken(this.secondaryColor, 30) : this.secondaryColor);\r\n    this.relationLabelColor = this.relationLabelColor || this.actorTextColor;\r\n  }\r\n  calculate(overrides) {\r\n    if (typeof overrides !== 'object') {\r\n      // Calculate colors form base colors\r\n      this.updateColors();\r\n      return;\r\n    }\r\n\r\n    const keys = Object.keys(overrides);\r\n\r\n    // Copy values from overrides, this is mainly for base colors\r\n    keys.forEach((k) => {\r\n      this[k] = overrides[k];\r\n    });\r\n\r\n    // Calculate colors form base colors\r\n    this.updateColors();\r\n    // Copy values from overrides again in case of an override of derived value\r\n    keys.forEach((k) => {\r\n      this[k] = overrides[k];\r\n    });\r\n  }\r\n}\r\n\r\nexport const getThemeVariables = (userOverrides) => {\r\n  const theme = new Theme();\r\n  theme.calculate(userOverrides);\r\n  return theme;\r\n};\r\n","import { invert, lighten, darken, rgba, adjust } from 'khroma';\r\nimport { mkBorder } from './theme-helpers';\r\nclass Theme {\r\n  constructor() {\r\n    this.background = '#333';\r\n    this.primaryColor = '#1f2020';\r\n    this.secondaryColor = lighten(this.primaryColor, 16);\r\n\r\n    this.tertiaryColor = adjust(this.primaryColor, { h: -160 });\r\n    this.primaryBorderColor = mkBorder(this.primaryColor, this.darkMode);\r\n    this.secondaryBorderColor = mkBorder(this.secondaryColor, this.darkMode);\r\n    this.tertiaryBorderColor = mkBorder(this.tertiaryColor, this.darkMode);\r\n    this.primaryTextColor = invert(this.primaryColor);\r\n    this.secondaryTextColor = invert(this.secondaryColor);\r\n    this.tertiaryTextColor = invert(this.tertiaryColor);\r\n    this.lineColor = invert(this.background);\r\n    this.textColor = invert(this.background);\r\n\r\n    this.mainBkg = '#1f2020';\r\n    this.secondBkg = 'calculated';\r\n    this.mainContrastColor = 'lightgrey';\r\n    this.darkTextColor = lighten(invert('#323D47'), 10);\r\n    this.lineColor = 'calculated';\r\n    this.border1 = '#81B1DB';\r\n    this.border2 = rgba(255, 255, 255, 0.25);\r\n    this.arrowheadColor = 'calculated';\r\n    this.fontFamily = '\"trebuchet ms\", verdana, arial, sans-serif';\r\n    this.fontSize = '16px';\r\n    this.labelBackground = '#181818';\r\n    this.textColor = '#ccc';\r\n    /* Flowchart variables */\r\n\r\n    this.nodeBkg = 'calculated';\r\n    this.nodeBorder = 'calculated';\r\n    this.clusterBkg = 'calculated';\r\n    this.clusterBorder = 'calculated';\r\n    this.defaultLinkColor = 'calculated';\r\n    this.titleColor = '#F9FFFE';\r\n    this.edgeLabelBackground = 'calculated';\r\n\r\n    /* Sequence Diagram variables */\r\n\r\n    this.actorBorder = 'calculated';\r\n    this.actorBkg = 'calculated';\r\n    this.actorTextColor = 'calculated';\r\n    this.actorLineColor = 'calculated';\r\n    this.signalColor = 'calculated';\r\n    this.signalTextColor = 'calculated';\r\n    this.labelBoxBkgColor = 'calculated';\r\n    this.labelBoxBorderColor = 'calculated';\r\n    this.labelTextColor = 'calculated';\r\n    this.loopTextColor = 'calculated';\r\n    this.noteBorderColor = 'calculated';\r\n    this.noteBkgColor = '#fff5ad';\r\n    this.noteTextColor = 'calculated';\r\n    this.activationBorderColor = 'calculated';\r\n    this.activationBkgColor = 'calculated';\r\n    this.sequenceNumberColor = 'black';\r\n\r\n    /* Gantt chart variables */\r\n\r\n    this.sectionBkgColor = darken('#EAE8D9', 30);\r\n    this.altSectionBkgColor = 'calculated';\r\n    this.sectionBkgColor2 = '#EAE8D9';\r\n    this.taskBorderColor = rgba(255, 255, 255, 70);\r\n    this.taskBkgColor = 'calculated';\r\n    this.taskTextColor = 'calculated';\r\n    this.taskTextLightColor = 'calculated';\r\n    this.taskTextOutsideColor = 'calculated';\r\n    this.taskTextClickableColor = '#003163';\r\n    this.activeTaskBorderColor = rgba(255, 255, 255, 50);\r\n    this.activeTaskBkgColor = '#81B1DB';\r\n    this.gridColor = 'calculated';\r\n    this.doneTaskBkgColor = 'calculated';\r\n    this.doneTaskBorderColor = 'grey';\r\n    this.critBorderColor = '#E83737';\r\n    this.critBkgColor = '#E83737';\r\n    this.taskTextDarkColor = 'calculated';\r\n    this.todayLineColor = '#DB5757';\r\n\r\n    /* state colors */\r\n    this.labelColor = 'calculated';\r\n\r\n    this.errorBkgColor = '#a44141';\r\n    this.errorTextColor = '#ddd';\r\n  }\r\n  updateColors() {\r\n    this.secondBkg = lighten(this.mainBkg, 16);\r\n    this.lineColor = this.mainContrastColor;\r\n    this.arrowheadColor = this.mainContrastColor;\r\n    /* Flowchart variables */\r\n\r\n    this.nodeBkg = this.mainBkg;\r\n    this.nodeBorder = this.border1;\r\n    this.clusterBkg = this.secondBkg;\r\n    this.clusterBorder = this.border2;\r\n    this.defaultLinkColor = this.lineColor;\r\n    this.edgeLabelBackground = lighten(this.labelBackground, 25);\r\n\r\n    /* Sequence Diagram variables */\r\n\r\n    this.actorBorder = this.border1;\r\n    this.actorBkg = this.mainBkg;\r\n    this.actorTextColor = this.mainContrastColor;\r\n    this.actorLineColor = this.mainContrastColor;\r\n    this.signalColor = this.mainContrastColor;\r\n    this.signalTextColor = this.mainContrastColor;\r\n    this.labelBoxBkgColor = this.actorBkg;\r\n    this.labelBoxBorderColor = this.actorBorder;\r\n    this.labelTextColor = this.mainContrastColor;\r\n    this.loopTextColor = this.mainContrastColor;\r\n    this.noteBorderColor = this.secondaryBorderColor;\r\n    this.noteBkgColor = this.secondBkg;\r\n    this.noteTextColor = this.secondaryTextColor;\r\n    this.activationBorderColor = this.border1;\r\n    this.activationBkgColor = this.secondBkg;\r\n\r\n    /* Gantt chart variables */\r\n\r\n    this.altSectionBkgColor = this.background;\r\n    this.taskBkgColor = lighten(this.mainBkg, 23);\r\n    this.taskTextColor = this.darkTextColor;\r\n    this.taskTextLightColor = this.mainContrastColor;\r\n    this.taskTextOutsideColor = this.taskTextLightColor;\r\n    this.gridColor = this.mainContrastColor;\r\n    this.doneTaskBkgColor = this.mainContrastColor;\r\n    this.taskTextDarkColor = this.darkTextColor;\r\n\r\n    /* state colors */\r\n    this.transitionColor = this.transitionColor || this.lineColor;\r\n    this.transitionLabelColor = this.transitionLabelColor || this.textColor;\r\n    this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;\r\n    this.stateBkg = this.stateBkg || this.mainBkg;\r\n    this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;\r\n    this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;\r\n    this.altBackground = this.altBackground || '#555';\r\n    this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;\r\n    this.compositeBorder = this.compositeBorder || this.nodeBorder;\r\n    this.innerEndBackground = this.primaryBorderColor;\r\n    this.specialStateColor = '#f4f4f4'; // this.lineColor;\r\n\r\n    this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;\r\n    this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;\r\n\r\n    this.fillType0 = this.primaryColor;\r\n    this.fillType1 = this.secondaryColor;\r\n    this.fillType2 = adjust(this.primaryColor, { h: 64 });\r\n    this.fillType3 = adjust(this.secondaryColor, { h: 64 });\r\n    this.fillType4 = adjust(this.primaryColor, { h: -64 });\r\n    this.fillType5 = adjust(this.secondaryColor, { h: -64 });\r\n    this.fillType6 = adjust(this.primaryColor, { h: 128 });\r\n    this.fillType7 = adjust(this.secondaryColor, { h: 128 });\r\n\r\n    /* pie */\r\n    this.pie1 = this.pie1 || '#0b0000';\r\n    this.pie2 = this.pie2 || '#4d1037';\r\n    this.pie3 = this.pie3 || '#3f5258';\r\n    this.pie4 = this.pie4 || '#4f2f1b';\r\n    this.pie5 = this.pie5 || '#6e0a0a';\r\n    this.pie6 = this.pie6 || '#3b0048';\r\n    this.pie7 = this.pie7 || '#995a01';\r\n    this.pie8 = this.pie8 || '#154706';\r\n    this.pie9 = this.pie9 || '#161722';\r\n    this.pie10 = this.pie10 || '#00296f';\r\n    this.pie11 = this.pie11 || '#01629c';\r\n    this.pie12 = this.pie12 || '#010029';\r\n    this.pieTitleTextSize = this.pieTitleTextSize || '25px';\r\n    this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;\r\n    this.pieSectionTextSize = this.pieSectionTextSize || '17px';\r\n    this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;\r\n    this.pieLegendTextSize = this.pieLegendTextSize || '17px';\r\n    this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;\r\n    this.pieStrokeColor = this.pieStrokeColor || 'black';\r\n    this.pieStrokeWidth = this.pieStrokeWidth || '2px';\r\n    this.pieOpacity = this.pieOpacity || '0.7';\r\n\r\n    /* class */\r\n    this.classText = this.primaryTextColor;\r\n\r\n    /* requirement-diagram */\r\n    this.requirementBackground = this.requirementBackground || this.primaryColor;\r\n    this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;\r\n    this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;\r\n    this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;\r\n    this.relationColor = this.relationColor || this.lineColor;\r\n    this.relationLabelBackground =\r\n      this.relationLabelBackground ||\r\n      (this.darkMode ? darken(this.secondaryColor, 30) : this.secondaryColor);\r\n    this.relationLabelColor = this.relationLabelColor || this.actorTextColor;\r\n  }\r\n  calculate(overrides) {\r\n    if (typeof overrides !== 'object') {\r\n      // Calculate colors form base colors\r\n      this.updateColors();\r\n      return;\r\n    }\r\n\r\n    const keys = Object.keys(overrides);\r\n\r\n    // Copy values from overrides, this is mainly for base colors\r\n    keys.forEach((k) => {\r\n      this[k] = overrides[k];\r\n    });\r\n\r\n    // Calculate colors form base colors\r\n    this.updateColors();\r\n    // Copy values from overrides again in case of an override of derived value\r\n    keys.forEach((k) => {\r\n      this[k] = overrides[k];\r\n    });\r\n  }\r\n}\r\n\r\nexport const getThemeVariables = (userOverrides) => {\r\n  const theme = new Theme();\r\n  theme.calculate(userOverrides);\r\n  return theme;\r\n};\r\n","import { invert, lighten, rgba, adjust } from 'khroma';\r\nimport { mkBorder } from './theme-helpers';\r\n\r\nclass Theme {\r\n  constructor() {\r\n    /* Base variables */\r\n    this.background = '#f4f4f4';\r\n    this.primaryColor = '#ECECFF';\r\n\r\n    this.secondaryColor = adjust(this.primaryColor, { h: 120 });\r\n    this.secondaryColor = '#ffffde';\r\n    this.tertiaryColor = adjust(this.primaryColor, { h: -160 });\r\n    this.primaryBorderColor = mkBorder(this.primaryColor, this.darkMode);\r\n    this.secondaryBorderColor = mkBorder(this.secondaryColor, this.darkMode);\r\n    this.tertiaryBorderColor = mkBorder(this.tertiaryColor, this.darkMode);\r\n    // this.noteBorderColor = mkBorder(this.noteBkgColor, this.darkMode);\r\n\r\n    this.primaryTextColor = invert(this.primaryColor);\r\n    this.secondaryTextColor = invert(this.secondaryColor);\r\n    this.tertiaryTextColor = invert(this.tertiaryColor);\r\n    this.lineColor = invert(this.background);\r\n    this.textColor = invert(this.background);\r\n\r\n    this.background = 'white';\r\n    this.mainBkg = '#ECECFF';\r\n    this.secondBkg = '#ffffde';\r\n    this.lineColor = '#333333';\r\n    this.border1 = '#9370DB';\r\n    this.border2 = '#aaaa33';\r\n    this.arrowheadColor = '#333333';\r\n    this.fontFamily = '\"trebuchet ms\", verdana, arial, sans-serif';\r\n    this.fontSize = '16px';\r\n    this.labelBackground = '#e8e8e8';\r\n    this.textColor = '#333';\r\n\r\n    /* Flowchart variables */\r\n\r\n    this.nodeBkg = 'calculated';\r\n    this.nodeBorder = 'calculated';\r\n    this.clusterBkg = 'calculated';\r\n    this.clusterBorder = 'calculated';\r\n    this.defaultLinkColor = 'calculated';\r\n    this.titleColor = 'calculated';\r\n    this.edgeLabelBackground = 'calculated';\r\n\r\n    /* Sequence Diagram variables */\r\n\r\n    this.actorBorder = 'calculated';\r\n    this.actorBkg = 'calculated';\r\n    this.actorTextColor = 'black';\r\n    this.actorLineColor = 'grey';\r\n    this.signalColor = 'calculated';\r\n    this.signalTextColor = 'calculated';\r\n    this.labelBoxBkgColor = 'calculated';\r\n    this.labelBoxBorderColor = 'calculated';\r\n    this.labelTextColor = 'calculated';\r\n    this.loopTextColor = 'calculated';\r\n    this.noteBorderColor = 'calculated';\r\n    this.noteBkgColor = '#fff5ad';\r\n    this.noteTextColor = 'calculated';\r\n    this.activationBorderColor = '#666';\r\n    this.activationBkgColor = '#f4f4f4';\r\n    this.sequenceNumberColor = 'white';\r\n\r\n    /* Gantt chart variables */\r\n\r\n    this.sectionBkgColor = 'calculated';\r\n    this.altSectionBkgColor = 'calculated';\r\n    this.sectionBkgColor2 = 'calculated';\r\n    this.taskBorderColor = 'calculated';\r\n    this.taskBkgColor = 'calculated';\r\n    this.taskTextLightColor = 'calculated';\r\n    this.taskTextColor = this.taskTextLightColor;\r\n    this.taskTextDarkColor = 'calculated';\r\n    this.taskTextOutsideColor = this.taskTextDarkColor;\r\n    this.taskTextClickableColor = 'calculated';\r\n    this.activeTaskBorderColor = 'calculated';\r\n    this.activeTaskBkgColor = 'calculated';\r\n    this.gridColor = 'calculated';\r\n    this.doneTaskBkgColor = 'calculated';\r\n    this.doneTaskBorderColor = 'calculated';\r\n    this.critBorderColor = 'calculated';\r\n    this.critBkgColor = 'calculated';\r\n    this.todayLineColor = 'calculated';\r\n\r\n    this.sectionBkgColor = rgba(102, 102, 255, 0.49);\r\n    this.altSectionBkgColor = 'white';\r\n    this.sectionBkgColor2 = '#fff400';\r\n    this.taskBorderColor = '#534fbc';\r\n    this.taskBkgColor = '#8a90dd';\r\n    this.taskTextLightColor = 'white';\r\n    this.taskTextColor = 'calculated';\r\n    this.taskTextDarkColor = 'black';\r\n    this.taskTextOutsideColor = 'calculated';\r\n    this.taskTextClickableColor = '#003163';\r\n    this.activeTaskBorderColor = '#534fbc';\r\n    this.activeTaskBkgColor = '#bfc7ff';\r\n    this.gridColor = 'lightgrey';\r\n    this.doneTaskBkgColor = 'lightgrey';\r\n    this.doneTaskBorderColor = 'grey';\r\n    this.critBorderColor = '#ff8888';\r\n    this.critBkgColor = 'red';\r\n    this.todayLineColor = 'red';\r\n\r\n    /* state colors */\r\n    this.labelColor = 'black';\r\n    this.errorBkgColor = '#552222';\r\n    this.errorTextColor = '#552222';\r\n    this.updateColors();\r\n  }\r\n  updateColors() {\r\n    /* Flowchart variables */\r\n\r\n    this.nodeBkg = this.mainBkg;\r\n    this.nodeBorder = this.border1; // border 1\r\n    this.clusterBkg = this.secondBkg;\r\n    this.clusterBorder = this.border2;\r\n    this.defaultLinkColor = this.lineColor;\r\n    this.titleColor = this.textColor;\r\n    this.edgeLabelBackground = this.labelBackground;\r\n\r\n    /* Sequence Diagram variables */\r\n\r\n    // this.actorBorder = lighten(this.border1, 0.5);\r\n    this.actorBorder = lighten(this.border1, 23);\r\n    this.actorBkg = this.mainBkg;\r\n    this.labelBoxBkgColor = this.actorBkg;\r\n    this.signalColor = this.textColor;\r\n    this.signalTextColor = this.textColor;\r\n    this.labelBoxBorderColor = this.actorBorder;\r\n    this.labelTextColor = this.actorTextColor;\r\n    this.loopTextColor = this.actorTextColor;\r\n    this.noteBorderColor = this.border2;\r\n    this.noteTextColor = this.actorTextColor;\r\n\r\n    /* Gantt chart variables */\r\n\r\n    this.taskTextColor = this.taskTextLightColor;\r\n    this.taskTextOutsideColor = this.taskTextDarkColor;\r\n\r\n    /* state colors */\r\n    this.transitionColor = this.transitionColor || this.lineColor;\r\n    this.transitionLabelColor = this.transitionLabelColor || this.textColor;\r\n    this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;\r\n\r\n    this.stateBkg = this.stateBkg || this.mainBkg;\r\n    this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;\r\n    this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;\r\n    this.altBackground = this.altBackground || '#f0f0f0';\r\n    this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;\r\n    this.compositeBorder = this.compositeBorder || this.nodeBorder;\r\n    this.innerEndBackground = this.nodeBorder;\r\n    this.specialStateColor = this.lineColor;\r\n\r\n    this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;\r\n    this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;\r\n    this.transitionColor = this.transitionColor || this.lineColor;\r\n    /* class */\r\n    this.classText = this.primaryTextColor;\r\n    /* journey */\r\n    this.fillType0 = this.primaryColor;\r\n    this.fillType1 = this.secondaryColor;\r\n    this.fillType2 = adjust(this.primaryColor, { h: 64 });\r\n    this.fillType3 = adjust(this.secondaryColor, { h: 64 });\r\n    this.fillType4 = adjust(this.primaryColor, { h: -64 });\r\n    this.fillType5 = adjust(this.secondaryColor, { h: -64 });\r\n    this.fillType6 = adjust(this.primaryColor, { h: 128 });\r\n    this.fillType7 = adjust(this.secondaryColor, { h: 128 });\r\n\r\n    /* pie */\r\n    this.pie1 = this.pie1 || this.primaryColor;\r\n    this.pie2 = this.pie2 || this.secondaryColor;\r\n    this.pie3 = this.pie3 || adjust(this.tertiaryColor, { l: -40 });\r\n    this.pie4 = this.pie4 || adjust(this.primaryColor, { l: -10 });\r\n    this.pie5 = this.pie5 || adjust(this.secondaryColor, { l: -30 });\r\n    this.pie6 = this.pie6 || adjust(this.tertiaryColor, { l: -20 });\r\n    this.pie7 = this.pie7 || adjust(this.primaryColor, { h: +60, l: -20 });\r\n    this.pie8 = this.pie8 || adjust(this.primaryColor, { h: -60, l: -40 });\r\n    this.pie9 = this.pie9 || adjust(this.primaryColor, { h: 120, l: -40 });\r\n    this.pie10 = this.pie10 || adjust(this.primaryColor, { h: +60, l: -40 });\r\n    this.pie11 = this.pie11 || adjust(this.primaryColor, { h: -90, l: -40 });\r\n    this.pie12 = this.pie12 || adjust(this.primaryColor, { h: 120, l: -30 });\r\n    this.pieTitleTextSize = this.pieTitleTextSize || '25px';\r\n    this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;\r\n    this.pieSectionTextSize = this.pieSectionTextSize || '17px';\r\n    this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;\r\n    this.pieLegendTextSize = this.pieLegendTextSize || '17px';\r\n    this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;\r\n    this.pieStrokeColor = this.pieStrokeColor || 'black';\r\n    this.pieStrokeWidth = this.pieStrokeWidth || '2px';\r\n    this.pieOpacity = this.pieOpacity || '0.7';\r\n\r\n    /* requirement-diagram */\r\n    this.requirementBackground = this.requirementBackground || this.primaryColor;\r\n    this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;\r\n    this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;\r\n    this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;\r\n    this.relationColor = this.relationColor || this.lineColor;\r\n    this.relationLabelBackground = this.relationLabelBackground || this.labelBackground;\r\n    this.relationLabelColor = this.relationLabelColor || this.actorTextColor;\r\n  }\r\n  calculate(overrides) {\r\n    if (typeof overrides !== 'object') {\r\n      // Calculate colors form base colors\r\n      this.updateColors();\r\n      return;\r\n    }\r\n\r\n    const keys = Object.keys(overrides);\r\n\r\n    // Copy values from overrides, this is mainly for base colors\r\n    keys.forEach((k) => {\r\n      this[k] = overrides[k];\r\n    });\r\n\r\n    // Calculate colors form base colors\r\n    this.updateColors();\r\n    // Copy values from overrides again in case of an override of derived value\r\n    keys.forEach((k) => {\r\n      this[k] = overrides[k];\r\n    });\r\n  }\r\n}\r\n\r\nexport const getThemeVariables = (userOverrides) => {\r\n  const theme = new Theme();\r\n  theme.calculate(userOverrides);\r\n  return theme;\r\n};\r\n","import { darken, lighten, adjust, invert } from 'khroma';\r\nimport { mkBorder } from './theme-helpers';\r\nclass Theme {\r\n  constructor() {\r\n    /* Base vales */\r\n    this.background = '#f4f4f4';\r\n    this.primaryColor = '#cde498';\r\n    this.secondaryColor = '#cdffb2';\r\n    this.background = 'white';\r\n    this.mainBkg = '#cde498';\r\n    this.secondBkg = '#cdffb2';\r\n    this.lineColor = 'green';\r\n    this.border1 = '#13540c';\r\n    this.border2 = '#6eaa49';\r\n    this.arrowheadColor = 'green';\r\n    this.fontFamily = '\"trebuchet ms\", verdana, arial, sans-serif';\r\n    this.fontSize = '16px';\r\n\r\n    this.tertiaryColor = lighten('#cde498', 10);\r\n    this.primaryBorderColor = mkBorder(this.primaryColor, this.darkMode);\r\n    this.secondaryBorderColor = mkBorder(this.secondaryColor, this.darkMode);\r\n    this.tertiaryBorderColor = mkBorder(this.tertiaryColor, this.darkMode);\r\n    this.primaryTextColor = invert(this.primaryColor);\r\n    this.secondaryTextColor = invert(this.secondaryColor);\r\n    this.tertiaryTextColor = invert(this.primaryColor);\r\n    this.lineColor = invert(this.background);\r\n    this.textColor = invert(this.background);\r\n\r\n    /* Flowchart variables */\r\n    this.nodeBkg = 'calculated';\r\n    this.nodeBorder = 'calculated';\r\n    this.clusterBkg = 'calculated';\r\n    this.clusterBorder = 'calculated';\r\n    this.defaultLinkColor = 'calculated';\r\n    this.titleColor = '#333';\r\n    this.edgeLabelBackground = '#e8e8e8';\r\n\r\n    /* Sequence Diagram variables */\r\n\r\n    this.actorBorder = 'calculated';\r\n    this.actorBkg = 'calculated';\r\n    this.actorTextColor = 'black';\r\n    this.actorLineColor = 'grey';\r\n    this.signalColor = '#333';\r\n    this.signalTextColor = '#333';\r\n    this.labelBoxBkgColor = 'calculated';\r\n    this.labelBoxBorderColor = '#326932';\r\n    this.labelTextColor = 'calculated';\r\n    this.loopTextColor = 'calculated';\r\n    this.noteBorderColor = 'calculated';\r\n    this.noteBkgColor = '#fff5ad';\r\n    this.noteTextColor = 'calculated';\r\n    this.activationBorderColor = '#666';\r\n    this.activationBkgColor = '#f4f4f4';\r\n    this.sequenceNumberColor = 'white';\r\n\r\n    /* Gantt chart variables */\r\n\r\n    this.sectionBkgColor = '#6eaa49';\r\n    this.altSectionBkgColor = 'white';\r\n    this.sectionBkgColor2 = '#6eaa49';\r\n    this.taskBorderColor = 'calculated';\r\n    this.taskBkgColor = '#487e3a';\r\n    this.taskTextLightColor = 'white';\r\n    this.taskTextColor = 'calculated';\r\n    this.taskTextDarkColor = 'black';\r\n    this.taskTextOutsideColor = 'calculated';\r\n    this.taskTextClickableColor = '#003163';\r\n    this.activeTaskBorderColor = 'calculated';\r\n    this.activeTaskBkgColor = 'calculated';\r\n    this.gridColor = 'lightgrey';\r\n    this.doneTaskBkgColor = 'lightgrey';\r\n    this.doneTaskBorderColor = 'grey';\r\n    this.critBorderColor = '#ff8888';\r\n    this.critBkgColor = 'red';\r\n    this.todayLineColor = 'red';\r\n\r\n    /* state colors */\r\n    this.labelColor = 'black';\r\n\r\n    this.errorBkgColor = '#552222';\r\n    this.errorTextColor = '#552222';\r\n  }\r\n  updateColors() {\r\n    /* Flowchart variables */\r\n\r\n    this.nodeBkg = this.mainBkg;\r\n    this.nodeBorder = this.border1;\r\n    this.clusterBkg = this.secondBkg;\r\n    this.clusterBorder = this.border2;\r\n    this.defaultLinkColor = this.lineColor;\r\n\r\n    /* Sequence Diagram variables */\r\n\r\n    this.actorBorder = darken(this.mainBkg, 20);\r\n    this.actorBkg = this.mainBkg;\r\n    this.labelBoxBkgColor = this.actorBkg;\r\n    this.labelTextColor = this.actorTextColor;\r\n    this.loopTextColor = this.actorTextColor;\r\n    this.noteBorderColor = this.border2;\r\n    this.noteTextColor = this.actorTextColor;\r\n\r\n    /* Gantt chart variables */\r\n\r\n    this.taskBorderColor = this.border1;\r\n    this.taskTextColor = this.taskTextLightColor;\r\n    this.taskTextOutsideColor = this.taskTextDarkColor;\r\n    this.activeTaskBorderColor = this.taskBorderColor;\r\n    this.activeTaskBkgColor = this.mainBkg;\r\n\r\n    /* state colors */\r\n    this.transitionColor = this.transitionColor || this.lineColor;\r\n    this.transitionLabelColor = this.transitionLabelColor || this.textColor;\r\n    this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;\r\n\r\n    this.stateBkg = this.stateBkg || this.mainBkg;\r\n    this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;\r\n    this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;\r\n    this.altBackground = this.altBackground || '#f0f0f0';\r\n    this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;\r\n    this.compositeBorder = this.compositeBorder || this.nodeBorder;\r\n    this.innerEndBackground = this.primaryBorderColor;\r\n    this.specialStateColor = this.lineColor;\r\n\r\n    this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;\r\n    this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;\r\n    this.transitionColor = this.transitionColor || this.lineColor;\r\n    /* class */\r\n    this.classText = this.primaryTextColor;\r\n    /* journey */\r\n    this.fillType0 = this.primaryColor;\r\n    this.fillType1 = this.secondaryColor;\r\n    this.fillType2 = adjust(this.primaryColor, { h: 64 });\r\n    this.fillType3 = adjust(this.secondaryColor, { h: 64 });\r\n    this.fillType4 = adjust(this.primaryColor, { h: -64 });\r\n    this.fillType5 = adjust(this.secondaryColor, { h: -64 });\r\n    this.fillType6 = adjust(this.primaryColor, { h: 128 });\r\n    this.fillType7 = adjust(this.secondaryColor, { h: 128 });\r\n\r\n    /* pie */\r\n    this.pie1 = this.pie1 || this.primaryColor;\r\n    this.pie2 = this.pie2 || this.secondaryColor;\r\n    this.pie3 = this.pie3 || this.tertiaryColor;\r\n    this.pie4 = this.pie4 || adjust(this.primaryColor, { l: -30 });\r\n    this.pie5 = this.pie5 || adjust(this.secondaryColor, { l: -30 });\r\n    this.pie6 = this.pie6 || adjust(this.tertiaryColor, { h: +40, l: -40 });\r\n    this.pie7 = this.pie7 || adjust(this.primaryColor, { h: +60, l: -10 });\r\n    this.pie8 = this.pie8 || adjust(this.primaryColor, { h: -60, l: -10 });\r\n    this.pie9 = this.pie9 || adjust(this.primaryColor, { h: 120, l: 0 });\r\n    this.pie10 = this.pie10 || adjust(this.primaryColor, { h: +60, l: -50 });\r\n    this.pie11 = this.pie11 || adjust(this.primaryColor, { h: -60, l: -50 });\r\n    this.pie12 = this.pie12 || adjust(this.primaryColor, { h: 120, l: -50 });\r\n    this.pieTitleTextSize = this.pieTitleTextSize || '25px';\r\n    this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;\r\n    this.pieSectionTextSize = this.pieSectionTextSize || '17px';\r\n    this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;\r\n    this.pieLegendTextSize = this.pieLegendTextSize || '17px';\r\n    this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;\r\n    this.pieStrokeColor = this.pieStrokeColor || 'black';\r\n    this.pieStrokeWidth = this.pieStrokeWidth || '2px';\r\n    this.pieOpacity = this.pieOpacity || '0.7';\r\n\r\n    /* requirement-diagram */\r\n    this.requirementBackground = this.requirementBackground || this.primaryColor;\r\n    this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;\r\n    this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;\r\n    this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;\r\n    this.relationColor = this.relationColor || this.lineColor;\r\n    this.relationLabelBackground = this.relationLabelBackground || this.edgeLabelBackground;\r\n    this.relationLabelColor = this.relationLabelColor || this.actorTextColor;\r\n  }\r\n  calculate(overrides) {\r\n    if (typeof overrides !== 'object') {\r\n      // Calculate colors form base colors\r\n      this.updateColors();\r\n      return;\r\n    }\r\n\r\n    const keys = Object.keys(overrides);\r\n\r\n    // Copy values from overrides, this is mainly for base colors\r\n    keys.forEach((k) => {\r\n      this[k] = overrides[k];\r\n    });\r\n\r\n    // Calculate colors form base colors\r\n    this.updateColors();\r\n    // Copy values from overrides again in case of an override of derived value\r\n    keys.forEach((k) => {\r\n      this[k] = overrides[k];\r\n    });\r\n  }\r\n}\r\n\r\nexport const getThemeVariables = (userOverrides) => {\r\n  const theme = new Theme();\r\n  theme.calculate(userOverrides);\r\n  return theme;\r\n};\r\n","import { adjust } from 'khroma';\r\n\r\nexport const mkBorder = (col, darkMode) =>\r\n  darkMode ? adjust(col, { s: -40, l: 10 }) : adjust(col, { s: -40, l: -10 });\r\n","import { invert, darken, lighten, adjust } from 'khroma';\r\nimport { mkBorder } from './theme-helpers';\r\n\r\n// const Color = require ( 'khroma/dist/color' ).default\r\n// Color.format.hex.stringify(Color.parse('hsl(210, 66.6666666667%, 95%)')); // => \"#EAF2FB\"\r\n\r\nclass Theme {\r\n  constructor() {\r\n    this.primaryColor = '#eee';\r\n    this.contrast = '#707070';\r\n    this.secondaryColor = lighten(this.contrast, 55);\r\n    this.background = '#ffffff';\r\n\r\n    // this.secondaryColor = adjust(this.primaryColor, { h: 120 });\r\n    this.tertiaryColor = adjust(this.primaryColor, { h: -160 });\r\n    this.primaryBorderColor = mkBorder(this.primaryColor, this.darkMode);\r\n    this.secondaryBorderColor = mkBorder(this.secondaryColor, this.darkMode);\r\n    this.tertiaryBorderColor = mkBorder(this.tertiaryColor, this.darkMode);\r\n    // this.noteBorderColor = mkBorder(this.noteBkgColor, this.darkMode);\r\n\r\n    this.primaryTextColor = invert(this.primaryColor);\r\n    this.secondaryTextColor = invert(this.secondaryColor);\r\n    this.tertiaryTextColor = invert(this.tertiaryColor);\r\n    this.lineColor = invert(this.background);\r\n    this.textColor = invert(this.background);\r\n\r\n    // this.altBackground = lighten(this.contrast, 55);\r\n    this.mainBkg = '#eee';\r\n    this.secondBkg = 'calculated';\r\n    this.lineColor = '#666';\r\n    this.border1 = '#999';\r\n    this.border2 = 'calculated';\r\n    this.note = '#ffa';\r\n    this.text = '#333';\r\n    this.critical = '#d42';\r\n    this.done = '#bbb';\r\n    this.arrowheadColor = '#333333';\r\n    this.fontFamily = '\"trebuchet ms\", verdana, arial, sans-serif';\r\n    this.fontSize = '16px';\r\n\r\n    /* Flowchart variables */\r\n\r\n    this.nodeBkg = 'calculated';\r\n    this.nodeBorder = 'calculated';\r\n    this.clusterBkg = 'calculated';\r\n    this.clusterBorder = 'calculated';\r\n    this.defaultLinkColor = 'calculated';\r\n    this.titleColor = 'calculated';\r\n    this.edgeLabelBackground = 'white';\r\n\r\n    /* Sequence Diagram variables */\r\n\r\n    this.actorBorder = 'calculated';\r\n    this.actorBkg = 'calculated';\r\n    this.actorTextColor = 'calculated';\r\n    this.actorLineColor = 'calculated';\r\n    this.signalColor = 'calculated';\r\n    this.signalTextColor = 'calculated';\r\n    this.labelBoxBkgColor = 'calculated';\r\n    this.labelBoxBorderColor = 'calculated';\r\n    this.labelTextColor = 'calculated';\r\n    this.loopTextColor = 'calculated';\r\n    this.noteBorderColor = 'calculated';\r\n    this.noteBkgColor = 'calculated';\r\n    this.noteTextColor = 'calculated';\r\n    this.activationBorderColor = '#666';\r\n    this.activationBkgColor = '#f4f4f4';\r\n    this.sequenceNumberColor = 'white';\r\n\r\n    /* Gantt chart variables */\r\n\r\n    this.sectionBkgColor = 'calculated';\r\n    this.altSectionBkgColor = 'white';\r\n    this.sectionBkgColor2 = 'calculated';\r\n    this.taskBorderColor = 'calculated';\r\n    this.taskBkgColor = 'calculated';\r\n    this.taskTextLightColor = 'white';\r\n    this.taskTextColor = 'calculated';\r\n    this.taskTextDarkColor = 'calculated';\r\n    this.taskTextOutsideColor = 'calculated';\r\n    this.taskTextClickableColor = '#003163';\r\n    this.activeTaskBorderColor = 'calculated';\r\n    this.activeTaskBkgColor = 'calculated';\r\n    this.gridColor = 'calculated';\r\n    this.doneTaskBkgColor = 'calculated';\r\n    this.doneTaskBorderColor = 'calculated';\r\n    this.critBkgColor = 'calculated';\r\n    this.critBorderColor = 'calculated';\r\n    this.todayLineColor = 'calculated';\r\n\r\n    /* state colors */\r\n    this.labelColor = 'black';\r\n\r\n    this.errorBkgColor = '#552222';\r\n    this.errorTextColor = '#552222';\r\n  }\r\n  updateColors() {\r\n    this.secondBkg = lighten(this.contrast, 55);\r\n    this.border2 = this.contrast;\r\n\r\n    /* Flowchart variables */\r\n\r\n    this.nodeBkg = this.mainBkg;\r\n    this.nodeBorder = this.border1;\r\n    this.clusterBkg = this.secondBkg;\r\n    this.clusterBorder = this.border2;\r\n    this.defaultLinkColor = this.lineColor;\r\n    this.titleColor = this.text;\r\n\r\n    /* Sequence Diagram variables */\r\n\r\n    this.actorBorder = lighten(this.border1, 23);\r\n    this.actorBkg = this.mainBkg;\r\n    this.actorTextColor = this.text;\r\n    this.actorLineColor = this.lineColor;\r\n    this.signalColor = this.text;\r\n    this.signalTextColor = this.text;\r\n    this.labelBoxBkgColor = this.actorBkg;\r\n    this.labelBoxBorderColor = this.actorBorder;\r\n    this.labelTextColor = this.text;\r\n    this.loopTextColor = this.text;\r\n    this.noteBorderColor = '#999';\r\n    this.noteBkgColor = '#666';\r\n    this.noteTextColor = '#fff';\r\n\r\n    /* Gantt chart variables */\r\n\r\n    this.sectionBkgColor = lighten(this.contrast, 30);\r\n    this.sectionBkgColor2 = lighten(this.contrast, 30);\r\n\r\n    this.taskBorderColor = darken(this.contrast, 10);\r\n\r\n    this.taskBkgColor = this.contrast;\r\n    this.taskTextColor = this.taskTextLightColor;\r\n    this.taskTextDarkColor = this.text;\r\n    this.taskTextOutsideColor = this.taskTextDarkColor;\r\n    this.activeTaskBorderColor = this.taskBorderColor;\r\n    this.activeTaskBkgColor = this.mainBkg;\r\n    this.gridColor = lighten(this.border1, 30);\r\n\r\n    this.doneTaskBkgColor = this.done;\r\n    this.doneTaskBorderColor = this.lineColor;\r\n    this.critBkgColor = this.critical;\r\n    this.critBorderColor = darken(this.critBkgColor, 10);\r\n\r\n    this.todayLineColor = this.critBkgColor;\r\n\r\n    /* state colors */\r\n    this.transitionColor = this.transitionColor || '#000';\r\n    this.transitionLabelColor = this.transitionLabelColor || this.textColor;\r\n    this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;\r\n\r\n    this.stateBkg = this.stateBkg || this.mainBkg;\r\n    this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;\r\n    this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;\r\n    this.altBackground = this.altBackground || '#f4f4f4';\r\n    this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;\r\n    this.stateBorder = this.stateBorder || '#000';\r\n    this.innerEndBackground = this.primaryBorderColor;\r\n    this.specialStateColor = '#222';\r\n\r\n    this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;\r\n    this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;\r\n\r\n    /* class */\r\n    this.classText = this.primaryTextColor;\r\n    /* journey */\r\n    this.fillType0 = this.primaryColor;\r\n    this.fillType1 = this.secondaryColor;\r\n    this.fillType2 = adjust(this.primaryColor, { h: 64 });\r\n    this.fillType3 = adjust(this.secondaryColor, { h: 64 });\r\n    this.fillType4 = adjust(this.primaryColor, { h: -64 });\r\n    this.fillType5 = adjust(this.secondaryColor, { h: -64 });\r\n    this.fillType6 = adjust(this.primaryColor, { h: 128 });\r\n    this.fillType7 = adjust(this.secondaryColor, { h: 128 });\r\n\r\n    // /* pie */\r\n    this.pie1 = this.pie1 || '#F4F4F4';\r\n    this.pie2 = this.pie2 || '#555';\r\n    this.pie3 = this.pie3 || '#BBB';\r\n    this.pie4 = this.pie4 || '#777';\r\n    this.pie5 = this.pie5 || '#999';\r\n    this.pie6 = this.pie6 || '#DDD';\r\n    this.pie7 = this.pie7 || '#FFF';\r\n    this.pie8 = this.pie8 || '#DDD';\r\n    this.pie9 = this.pie9 || '#BBB';\r\n    this.pie10 = this.pie10 || '#999';\r\n    this.pie11 = this.pie11 || '#777';\r\n    this.pie12 = this.pie12 || '#555';\r\n    this.pieTitleTextSize = this.pieTitleTextSize || '25px';\r\n    this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;\r\n    this.pieSectionTextSize = this.pieSectionTextSize || '17px';\r\n    this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;\r\n    this.pieLegendTextSize = this.pieLegendTextSize || '17px';\r\n    this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;\r\n    this.pieStrokeColor = this.pieStrokeColor || 'black';\r\n    this.pieStrokeWidth = this.pieStrokeWidth || '2px';\r\n    this.pieOpacity = this.pieOpacity || '0.7';\r\n\r\n    // this.pie1 = this.pie1 || '#212529';\r\n    // this.pie2 = this.pie2 || '#343A40';\r\n    // this.pie3 = this.pie3 || '#495057';\r\n    // this.pie4 = this.pie4 || '#6C757D';\r\n    // this.pie5 = this.pie5 || adjust(this.secondaryColor, { l: -10 });\r\n    // this.pie6 = this.pie6 || adjust(this.tertiaryColor, { l: -10 });\r\n    // this.pie7 = this.pie7 || adjust(this.primaryColor, { h: +60, l: -10 });\r\n    // this.pie8 = this.pie8 || adjust(this.primaryColor, { h: -60, l: -10 });\r\n    // this.pie9 = this.pie9 || adjust(this.primaryColor, { h: 120, l: 0 });\r\n    // this.pie10 = this.pie10 || adjust(this.primaryColor, { h: +60, l: -20 });\r\n    // this.pie11 = this.pie11 || adjust(this.primaryColor, { h: -60, l: -20 });\r\n    // this.pie12 = this.pie12 || adjust(this.primaryColor, { h: 120, l: -10 });\r\n\r\n    /* requirement-diagram */\r\n    this.requirementBackground = this.requirementBackground || this.primaryColor;\r\n    this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;\r\n    this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;\r\n    this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;\r\n    this.relationColor = this.relationColor || this.lineColor;\r\n    this.relationLabelBackground = this.relationLabelBackground || this.edgeLabelBackground;\r\n    this.relationLabelColor = this.relationLabelColor || this.actorTextColor;\r\n  }\r\n  calculate(overrides) {\r\n    if (typeof overrides !== 'object') {\r\n      // Calculate colors form base colors\r\n      this.updateColors();\r\n      return;\r\n    }\r\n\r\n    const keys = Object.keys(overrides);\r\n\r\n    // Copy values from overrides, this is mainly for base colors\r\n    keys.forEach((k) => {\r\n      this[k] = overrides[k];\r\n    });\r\n\r\n    // Calculate colors form base colors\r\n    this.updateColors();\r\n    // Copy values from overrides again in case of an override of derived value\r\n    keys.forEach((k) => {\r\n      this[k] = overrides[k];\r\n    });\r\n  }\r\n}\r\n\r\nexport const getThemeVariables = (userOverrides) => {\r\n  const theme = new Theme();\r\n  theme.calculate(userOverrides);\r\n  return theme;\r\n};\r\n","import { sanitizeUrl } from '@braintree/sanitize-url';\r\nimport {\r\n  curveBasis,\r\n  curveBasisClosed,\r\n  curveBasisOpen,\r\n  curveLinear,\r\n  curveLinearClosed,\r\n  curveMonotoneX,\r\n  curveMonotoneY,\r\n  curveNatural,\r\n  curveStep,\r\n  curveStepAfter,\r\n  curveStepBefore,\r\n  select,\r\n} from 'd3';\r\nimport common from './diagrams/common/common';\r\nimport { configKeys } from './defaultConfig';\r\nimport { log } from './logger';\r\n\r\n// Effectively an enum of the supported curve types, accessible by name\r\nconst d3CurveTypes = {\r\n  curveBasis: curveBasis,\r\n  curveBasisClosed: curveBasisClosed,\r\n  curveBasisOpen: curveBasisOpen,\r\n  curveLinear: curveLinear,\r\n  curveLinearClosed: curveLinearClosed,\r\n  curveMonotoneX: curveMonotoneX,\r\n  curveMonotoneY: curveMonotoneY,\r\n  curveNatural: curveNatural,\r\n  curveStep: curveStep,\r\n  curveStepAfter: curveStepAfter,\r\n  curveStepBefore: curveStepBefore,\r\n};\r\nconst directive =\r\n  /[%]{2}[{]\\s*(?:(?:(\\w+)\\s*:|(\\w+))\\s*(?:(?:(\\w+))|((?:(?![}][%]{2}).|\\r?\\n)*))?\\s*)(?:[}][%]{2})?/gi;\r\nconst directiveWithoutOpen =\r\n  /\\s*(?:(?:(\\w+)(?=:):|(\\w+))\\s*(?:(?:(\\w+))|((?:(?![}][%]{2}).|\\r?\\n)*))?\\s*)(?:[}][%]{2})?/gi;\r\nconst anyComment = /\\s*%%.*\\n/gm;\r\n\r\n/**\r\n * @function detectInit\r\n * Detects the init config object from the text\r\n * ```mermaid\r\n * %%{init: {\"theme\": \"debug\", \"logLevel\": 1 }}%%\r\n * graph LR\r\n *  a-->b\r\n *  b-->c\r\n *  c-->d\r\n *  d-->e\r\n *  e-->f\r\n *  f-->g\r\n *  g-->h\r\n * ```\r\n * or\r\n * ```mermaid\r\n * %%{initialize: {\"theme\": \"dark\", logLevel: \"debug\" }}%%\r\n * graph LR\r\n *  a-->b\r\n *  b-->c\r\n *  c-->d\r\n *  d-->e\r\n *  e-->f\r\n *  f-->g\r\n *  g-->h\r\n * ```\r\n *\r\n * @param {string} text The text defining the graph\r\n * @returns {object} the json object representing the init passed to mermaid.initialize()\r\n */\r\nexport const detectInit = function (text, cnf) {\r\n  let inits = detectDirective(text, /(?:init\\b)|(?:initialize\\b)/);\r\n  let results = {};\r\n\r\n  if (Array.isArray(inits)) {\r\n    let args = inits.map((init) => init.args);\r\n    directiveSanitizer(args);\r\n\r\n    results = assignWithDepth(results, [...args]);\r\n  } else {\r\n    results = inits.args;\r\n  }\r\n  if (results) {\r\n    let type = detectType(text, cnf);\r\n    ['config'].forEach((prop) => {\r\n      if (typeof results[prop] !== 'undefined') {\r\n        if (type === 'flowchart-v2') {\r\n          type = 'flowchart';\r\n        }\r\n        results[type] = results[prop];\r\n        delete results[prop];\r\n      }\r\n    });\r\n  }\r\n\r\n  // Todo: refactor this, these results are never used\r\n  return results;\r\n};\r\n\r\n/**\r\n * @function detectDirective\r\n * Detects the directive from the text. Text can be single line or multiline. If type is null or omitted\r\n * the first directive encountered in text will be returned\r\n * ```mermaid\r\n * graph LR\r\n *  %%{somedirective}%%\r\n *  a-->b\r\n *  b-->c\r\n *  c-->d\r\n *  d-->e\r\n *  e-->f\r\n *  f-->g\r\n *  g-->h\r\n * ```\r\n *\r\n * @param {string} text The text defining the graph\r\n * @param {string|RegExp} type The directive to return (default: null)\r\n * @returns {object | Array} An object or Array representing the directive(s): { type: string, args: object|null } matched by the input type\r\n *          if a single directive was found, that directive object will be returned.\r\n */\r\nexport const detectDirective = function (text, type = null) {\r\n  try {\r\n    const commentWithoutDirectives = new RegExp(\r\n      `[%]{2}(?![{]${directiveWithoutOpen.source})(?=[}][%]{2}).*\\n`,\r\n      'ig'\r\n    );\r\n    text = text.trim().replace(commentWithoutDirectives, '').replace(/'/gm, '\"');\r\n    log.debug(\r\n      `Detecting diagram directive${type !== null ? ' type:' + type : ''} based on the text:${text}`\r\n    );\r\n    let match,\r\n      result = [];\r\n    while ((match = directive.exec(text)) !== null) {\r\n      // This is necessary to avoid infinite loops with zero-width matches\r\n      if (match.index === directive.lastIndex) {\r\n        directive.lastIndex++;\r\n      }\r\n      if (\r\n        (match && !type) ||\r\n        (type && match[1] && match[1].match(type)) ||\r\n        (type && match[2] && match[2].match(type))\r\n      ) {\r\n        let type = match[1] ? match[1] : match[2];\r\n        let args = match[3] ? match[3].trim() : match[4] ? JSON.parse(match[4].trim()) : null;\r\n        result.push({ type, args });\r\n      }\r\n    }\r\n    if (result.length === 0) {\r\n      result.push({ type: text, args: null });\r\n    }\r\n\r\n    return result.length === 1 ? result[0] : result;\r\n  } catch (error) {\r\n    log.error(\r\n      `ERROR: ${error.message} - Unable to parse directive\r\n      ${type !== null ? ' type:' + type : ''} based on the text:${text}`\r\n    );\r\n    return { type: null, args: null };\r\n  }\r\n};\r\n\r\n/**\r\n * @function detectType\r\n * Detects the type of the graph text. Takes into consideration the possible existence of an %%init\r\n * directive\r\n * ```mermaid\r\n * %%{initialize: {\"startOnLoad\": true, logLevel: \"fatal\" }}%%\r\n * graph LR\r\n *  a-->b\r\n *  b-->c\r\n *  c-->d\r\n *  d-->e\r\n *  e-->f\r\n *  f-->g\r\n *  g-->h\r\n * ```\r\n *\r\n * @param {string} text The text defining the graph\r\n * @returns {string} A graph definition key\r\n */\r\nexport const detectType = function (text, cnf) {\r\n  text = text.replace(directive, '').replace(anyComment, '\\n');\r\n  if (text.match(/^\\s*sequenceDiagram/)) {\r\n    return 'sequence';\r\n  }\r\n\r\n  if (text.match(/^\\s*gantt/)) {\r\n    return 'gantt';\r\n  }\r\n  if (text.match(/^\\s*classDiagram-v2/)) {\r\n    return 'classDiagram';\r\n  }\r\n  if (text.match(/^\\s*classDiagram/)) {\r\n    if (cnf && cnf.class && cnf.class.defaultRenderer === 'dagre-wrapper') return 'classDiagram';\r\n    return 'class';\r\n  }\r\n\r\n  if (text.match(/^\\s*stateDiagram-v2/)) {\r\n    return 'stateDiagram';\r\n  }\r\n\r\n  if (text.match(/^\\s*stateDiagram/)) {\r\n    if (cnf && cnf.class && cnf.state.defaultRenderer === 'dagre-wrapper') return 'stateDiagram';\r\n    return 'state';\r\n  }\r\n\r\n  if (text.match(/^\\s*gitGraph/)) {\r\n    return 'git';\r\n  }\r\n  if (text.match(/^\\s*flowchart/)) {\r\n    return 'flowchart-v2';\r\n  }\r\n\r\n  if (text.match(/^\\s*info/)) {\r\n    return 'info';\r\n  }\r\n  if (text.match(/^\\s*pie/)) {\r\n    return 'pie';\r\n  }\r\n\r\n  if (text.match(/^\\s*erDiagram/)) {\r\n    return 'er';\r\n  }\r\n\r\n  if (text.match(/^\\s*journey/)) {\r\n    return 'journey';\r\n  }\r\n\r\n  if (text.match(/^\\s*requirement/) || text.match(/^\\s*requirementDiagram/)) {\r\n    return 'requirement';\r\n  }\r\n  if (cnf && cnf.flowchart && cnf.flowchart.defaultRenderer === 'dagre-wrapper')\r\n    return 'flowchart-v2';\r\n\r\n  return 'flowchart';\r\n};\r\n\r\nconst memoize = (fn, resolver) => {\r\n  let cache = {};\r\n  return (...args) => {\r\n    let n = resolver ? resolver.apply(this, args) : args[0];\r\n    if (n in cache) {\r\n      return cache[n];\r\n    } else {\r\n      let result = fn(...args);\r\n      cache[n] = result;\r\n      return result;\r\n    }\r\n  };\r\n};\r\n\r\n/**\r\n * @function isSubstringInArray\r\n * Detects whether a substring in present in a given array\r\n * @param {string} str The substring to detect\r\n * @param {array} arr The array to search\r\n * @returns {number} the array index containing the substring or -1 if not present\r\n **/\r\nexport const isSubstringInArray = function (str, arr) {\r\n  for (let i = 0; i < arr.length; i++) {\r\n    if (arr[i].match(str)) return i;\r\n  }\r\n  return -1;\r\n};\r\n\r\nexport const interpolateToCurve = (interpolate, defaultCurve) => {\r\n  if (!interpolate) {\r\n    return defaultCurve;\r\n  }\r\n  const curveName = `curve${interpolate.charAt(0).toUpperCase() + interpolate.slice(1)}`;\r\n  return d3CurveTypes[curveName] || defaultCurve;\r\n};\r\n\r\nexport const formatUrl = (linkStr, config) => {\r\n  let url = linkStr.trim();\r\n\r\n  if (url) {\r\n    if (config.securityLevel !== 'loose') {\r\n      return sanitizeUrl(url);\r\n    }\r\n\r\n    return url;\r\n  }\r\n};\r\n\r\nexport const runFunc = (functionName, ...params) => {\r\n  const arrPaths = functionName.split('.');\r\n\r\n  const len = arrPaths.length - 1;\r\n  const fnName = arrPaths[len];\r\n\r\n  let obj = window;\r\n  for (let i = 0; i < len; i++) {\r\n    obj = obj[arrPaths[i]];\r\n    if (!obj) return;\r\n  }\r\n\r\n  obj[fnName](...params);\r\n};\r\n\r\nconst distance = (p1, p2) =>\r\n  p1 && p2 ? Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2)) : 0;\r\n\r\nconst traverseEdge = (points) => {\r\n  let prevPoint;\r\n  let totalDistance = 0;\r\n\r\n  points.forEach((point) => {\r\n    totalDistance += distance(point, prevPoint);\r\n    prevPoint = point;\r\n  });\r\n\r\n  // Traverse half of total distance along points\r\n  let remainingDistance = totalDistance / 2;\r\n  let center = undefined;\r\n  prevPoint = undefined;\r\n  points.forEach((point) => {\r\n    if (prevPoint && !center) {\r\n      const vectorDistance = distance(point, prevPoint);\r\n      if (vectorDistance < remainingDistance) {\r\n        remainingDistance -= vectorDistance;\r\n      } else {\r\n        // The point is remainingDistance from prevPoint in the vector between prevPoint and point\r\n        // Calculate the coordinates\r\n        const distanceRatio = remainingDistance / vectorDistance;\r\n        if (distanceRatio <= 0) center = prevPoint;\r\n        if (distanceRatio >= 1) center = { x: point.x, y: point.y };\r\n        if (distanceRatio > 0 && distanceRatio < 1) {\r\n          center = {\r\n            x: (1 - distanceRatio) * prevPoint.x + distanceRatio * point.x,\r\n            y: (1 - distanceRatio) * prevPoint.y + distanceRatio * point.y,\r\n          };\r\n        }\r\n      }\r\n    }\r\n    prevPoint = point;\r\n  });\r\n  return center;\r\n};\r\n\r\nconst calcLabelPosition = (points) => {\r\n  return traverseEdge(points);\r\n};\r\n\r\nconst calcCardinalityPosition = (isRelationTypePresent, points, initialPosition) => {\r\n  let prevPoint;\r\n  let totalDistance = 0; // eslint-disable-line\r\n  log.info('our points', points);\r\n  if (points[0] !== initialPosition) {\r\n    points = points.reverse();\r\n  }\r\n  points.forEach((point) => {\r\n    totalDistance += distance(point, prevPoint);\r\n    prevPoint = point;\r\n  });\r\n\r\n  // Traverse only 25 total distance along points to find cardinality point\r\n  const distanceToCardinalityPoint = 25;\r\n\r\n  let remainingDistance = distanceToCardinalityPoint;\r\n  let center;\r\n  prevPoint = undefined;\r\n  points.forEach((point) => {\r\n    if (prevPoint && !center) {\r\n      const vectorDistance = distance(point, prevPoint);\r\n      if (vectorDistance < remainingDistance) {\r\n        remainingDistance -= vectorDistance;\r\n      } else {\r\n        // The point is remainingDistance from prevPoint in the vector between prevPoint and point\r\n        // Calculate the coordinates\r\n        const distanceRatio = remainingDistance / vectorDistance;\r\n        if (distanceRatio <= 0) center = prevPoint;\r\n        if (distanceRatio >= 1) center = { x: point.x, y: point.y };\r\n        if (distanceRatio > 0 && distanceRatio < 1) {\r\n          center = {\r\n            x: (1 - distanceRatio) * prevPoint.x + distanceRatio * point.x,\r\n            y: (1 - distanceRatio) * prevPoint.y + distanceRatio * point.y,\r\n          };\r\n        }\r\n      }\r\n    }\r\n    prevPoint = point;\r\n  });\r\n  // if relation is present (Arrows will be added), change cardinality point off-set distance (d)\r\n  let d = isRelationTypePresent ? 10 : 5;\r\n  //Calculate Angle for x and y axis\r\n  let angle = Math.atan2(points[0].y - center.y, points[0].x - center.x);\r\n  let cardinalityPosition = { x: 0, y: 0 };\r\n  //Calculation cardinality position using angle, center point on the line/curve but pendicular and with offset-distance\r\n  cardinalityPosition.x = Math.sin(angle) * d + (points[0].x + center.x) / 2;\r\n  cardinalityPosition.y = -Math.cos(angle) * d + (points[0].y + center.y) / 2;\r\n  return cardinalityPosition;\r\n};\r\n\r\n/**\r\n * position ['start_left', 'start_right', 'end_left', 'end_right']\r\n */\r\nconst calcTerminalLabelPosition = (terminalMarkerSize, position, _points) => {\r\n  // Todo looking to faster cloning method\r\n  let points = JSON.parse(JSON.stringify(_points));\r\n  let prevPoint;\r\n  let totalDistance = 0; // eslint-disable-line\r\n  log.info('our points', points);\r\n  if (position !== 'start_left' && position !== 'start_right') {\r\n    points = points.reverse();\r\n  }\r\n\r\n  points.forEach((point) => {\r\n    totalDistance += distance(point, prevPoint);\r\n    prevPoint = point;\r\n  });\r\n\r\n  // Traverse only 25 total distance along points to find cardinality point\r\n  const distanceToCardinalityPoint = 25 + terminalMarkerSize;\r\n\r\n  let remainingDistance = distanceToCardinalityPoint;\r\n  let center;\r\n  prevPoint = undefined;\r\n  points.forEach((point) => {\r\n    if (prevPoint && !center) {\r\n      const vectorDistance = distance(point, prevPoint);\r\n      if (vectorDistance < remainingDistance) {\r\n        remainingDistance -= vectorDistance;\r\n      } else {\r\n        // The point is remainingDistance from prevPoint in the vector between prevPoint and point\r\n        // Calculate the coordinates\r\n        const distanceRatio = remainingDistance / vectorDistance;\r\n        if (distanceRatio <= 0) center = prevPoint;\r\n        if (distanceRatio >= 1) center = { x: point.x, y: point.y };\r\n        if (distanceRatio > 0 && distanceRatio < 1) {\r\n          center = {\r\n            x: (1 - distanceRatio) * prevPoint.x + distanceRatio * point.x,\r\n            y: (1 - distanceRatio) * prevPoint.y + distanceRatio * point.y,\r\n          };\r\n        }\r\n      }\r\n    }\r\n    prevPoint = point;\r\n  });\r\n  // if relation is present (Arrows will be added), change cardinality point off-set distance (d)\r\n  let d = 10 + terminalMarkerSize * 0.5;\r\n  //Calculate Angle for x and y axis\r\n  let angle = Math.atan2(points[0].y - center.y, points[0].x - center.x);\r\n\r\n  let cardinalityPosition = { x: 0, y: 0 };\r\n\r\n  //Calculation cardinality position using angle, center point on the line/curve but pendicular and with offset-distance\r\n\r\n  cardinalityPosition.x = Math.sin(angle) * d + (points[0].x + center.x) / 2;\r\n  cardinalityPosition.y = -Math.cos(angle) * d + (points[0].y + center.y) / 2;\r\n  if (position === 'start_left') {\r\n    cardinalityPosition.x = Math.sin(angle + Math.PI) * d + (points[0].x + center.x) / 2;\r\n    cardinalityPosition.y = -Math.cos(angle + Math.PI) * d + (points[0].y + center.y) / 2;\r\n  }\r\n  if (position === 'end_right') {\r\n    cardinalityPosition.x = Math.sin(angle - Math.PI) * d + (points[0].x + center.x) / 2 - 5;\r\n    cardinalityPosition.y = -Math.cos(angle - Math.PI) * d + (points[0].y + center.y) / 2 - 5;\r\n  }\r\n  if (position === 'end_left') {\r\n    cardinalityPosition.x = Math.sin(angle) * d + (points[0].x + center.x) / 2 - 5;\r\n    cardinalityPosition.y = -Math.cos(angle) * d + (points[0].y + center.y) / 2 - 5;\r\n  }\r\n  return cardinalityPosition;\r\n};\r\n\r\nexport const getStylesFromArray = (arr) => {\r\n  let style = '';\r\n  let labelStyle = '';\r\n\r\n  for (let i = 0; i < arr.length; i++) {\r\n    if (typeof arr[i] !== 'undefined') {\r\n      // add text properties to label style definition\r\n      if (arr[i].startsWith('color:') || arr[i].startsWith('text-align:')) {\r\n        labelStyle = labelStyle + arr[i] + ';';\r\n      } else {\r\n        style = style + arr[i] + ';';\r\n      }\r\n    }\r\n  }\r\n\r\n  return { style: style, labelStyle: labelStyle };\r\n};\r\n\r\nlet cnt = 0;\r\nexport const generateId = () => {\r\n  cnt++;\r\n  return 'id-' + Math.random().toString(36).substr(2, 12) + '-' + cnt;\r\n};\r\n\r\nfunction makeid(length) {\r\n  var result = '';\r\n  var characters = '0123456789abcdef';\r\n  var charactersLength = characters.length;\r\n  for (var i = 0; i < length; i++) {\r\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n  }\r\n  return result;\r\n}\r\n\r\nexport const random = (options) => {\r\n  return makeid(options.length);\r\n};\r\n\r\n/**\r\n * @function assignWithDepth\r\n * Extends the functionality of {@link ObjectConstructor.assign} with the ability to merge arbitrary-depth objects\r\n * For each key in src with path `k` (recursively) performs an Object.assign(dst[`k`], src[`k`]) with\r\n * a slight change from the typical handling of undefined for dst[`k`]: instead of raising an error,\r\n * dst[`k`] is auto-initialized to {} and effectively merged with src[`k`]\r\n * <p>\r\n * Additionally, dissimilar types will not clobber unless the config.clobber parameter === true. Example:\r\n * ```\r\n * let config_0 = { foo: { bar: 'bar' }, bar: 'foo' };\r\n * let config_1 = { foo: 'foo', bar: 'bar' };\r\n * let result = assignWithDepth(config_0, config_1);\r\n * console.log(result);\r\n * //-> result: { foo: { bar: 'bar' }, bar: 'bar' }\r\n * ```\r\n * <p>\r\n * Traditional Object.assign would have clobbered foo in config_0 with foo in config_1.\r\n * <p>\r\n * If src is a destructured array of objects and dst is not an array, assignWithDepth will apply each element of src to dst\r\n * in order.\r\n * @param dst:any - the destination of the merge\r\n * @param src:any - the source object(s) to merge into destination\r\n * @param config:{ depth: number, clobber: boolean } - depth: depth to traverse within src and dst for merging -\r\n * clobber: should dissimilar types clobber (default: { depth: 2, clobber: false })\r\n * @returns {*}\r\n */\r\nexport const assignWithDepth = function (dst, src, config) {\r\n  const { depth, clobber } = Object.assign({ depth: 2, clobber: false }, config);\r\n  if (Array.isArray(src) && !Array.isArray(dst)) {\r\n    src.forEach((s) => assignWithDepth(dst, s, config));\r\n    return dst;\r\n  } else if (Array.isArray(src) && Array.isArray(dst)) {\r\n    src.forEach((s) => {\r\n      if (dst.indexOf(s) === -1) {\r\n        dst.push(s);\r\n      }\r\n    });\r\n    return dst;\r\n  }\r\n  if (typeof dst === 'undefined' || depth <= 0) {\r\n    if (dst !== undefined && dst !== null && typeof dst === 'object' && typeof src === 'object') {\r\n      return Object.assign(dst, src);\r\n    } else {\r\n      return src;\r\n    }\r\n  }\r\n  if (typeof src !== 'undefined' && typeof dst === 'object' && typeof src === 'object') {\r\n    Object.keys(src).forEach((key) => {\r\n      if (\r\n        typeof src[key] === 'object' &&\r\n        (dst[key] === undefined || typeof dst[key] === 'object')\r\n      ) {\r\n        if (dst[key] === undefined) {\r\n          dst[key] = Array.isArray(src[key]) ? [] : {};\r\n        }\r\n        dst[key] = assignWithDepth(dst[key], src[key], { depth: depth - 1, clobber });\r\n      } else if (clobber || (typeof dst[key] !== 'object' && typeof src[key] !== 'object')) {\r\n        dst[key] = src[key];\r\n      }\r\n    });\r\n  }\r\n  return dst;\r\n};\r\n\r\nexport const getTextObj = function () {\r\n  return {\r\n    x: 0,\r\n    y: 0,\r\n    fill: undefined,\r\n    anchor: 'start',\r\n    style: '#666',\r\n    width: 100,\r\n    height: 100,\r\n    textMargin: 0,\r\n    rx: 0,\r\n    ry: 0,\r\n    valign: undefined,\r\n  };\r\n};\r\n\r\nexport const drawSimpleText = function (elem, textData) {\r\n  // Remove and ignore br:s\r\n  const nText = textData.text.replace(common.lineBreakRegex, ' ');\r\n\r\n  const textElem = elem.append('text');\r\n  textElem.attr('x', textData.x);\r\n  textElem.attr('y', textData.y);\r\n  textElem.style('text-anchor', textData.anchor);\r\n  textElem.style('font-family', textData.fontFamily);\r\n  textElem.style('font-size', textData.fontSize);\r\n  textElem.style('font-weight', textData.fontWeight);\r\n  textElem.attr('fill', textData.fill);\r\n  if (typeof textData.class !== 'undefined') {\r\n    textElem.attr('class', textData.class);\r\n  }\r\n\r\n  const span = textElem.append('tspan');\r\n  span.attr('x', textData.x + textData.textMargin * 2);\r\n  span.attr('fill', textData.fill);\r\n  span.text(nText);\r\n\r\n  return textElem;\r\n};\r\n\r\nexport const wrapLabel = memoize(\r\n  (label, maxWidth, config) => {\r\n    if (!label) {\r\n      return label;\r\n    }\r\n    config = Object.assign(\r\n      { fontSize: 12, fontWeight: 400, fontFamily: 'Arial', joinWith: '<br/>' },\r\n      config\r\n    );\r\n    if (common.lineBreakRegex.test(label)) {\r\n      return label;\r\n    }\r\n    const words = label.split(' ');\r\n    const completedLines = [];\r\n    let nextLine = '';\r\n    words.forEach((word, index) => {\r\n      const wordLength = calculateTextWidth(`${word} `, config);\r\n      const nextLineLength = calculateTextWidth(nextLine, config);\r\n      if (wordLength > maxWidth) {\r\n        const { hyphenatedStrings, remainingWord } = breakString(word, maxWidth, '-', config);\r\n        completedLines.push(nextLine, ...hyphenatedStrings);\r\n        nextLine = remainingWord;\r\n      } else if (nextLineLength + wordLength >= maxWidth) {\r\n        completedLines.push(nextLine);\r\n        nextLine = word;\r\n      } else {\r\n        nextLine = [nextLine, word].filter(Boolean).join(' ');\r\n      }\r\n      const currentWord = index + 1;\r\n      const isLastWord = currentWord === words.length;\r\n      if (isLastWord) {\r\n        completedLines.push(nextLine);\r\n      }\r\n    });\r\n    return completedLines.filter((line) => line !== '').join(config.joinWith);\r\n  },\r\n  (label, maxWidth, config) =>\r\n    `${label}-${maxWidth}-${config.fontSize}-${config.fontWeight}-${config.fontFamily}-${config.joinWith}`\r\n);\r\n\r\nconst breakString = memoize(\r\n  (word, maxWidth, hyphenCharacter = '-', config) => {\r\n    config = Object.assign(\r\n      { fontSize: 12, fontWeight: 400, fontFamily: 'Arial', margin: 0 },\r\n      config\r\n    );\r\n    const characters = word.split('');\r\n    const lines = [];\r\n    let currentLine = '';\r\n    characters.forEach((character, index) => {\r\n      const nextLine = `${currentLine}${character}`;\r\n      const lineWidth = calculateTextWidth(nextLine, config);\r\n      if (lineWidth >= maxWidth) {\r\n        const currentCharacter = index + 1;\r\n        const isLastLine = characters.length === currentCharacter;\r\n        const hyphenatedNextLine = `${nextLine}${hyphenCharacter}`;\r\n        lines.push(isLastLine ? nextLine : hyphenatedNextLine);\r\n        currentLine = '';\r\n      } else {\r\n        currentLine = nextLine;\r\n      }\r\n    });\r\n    return { hyphenatedStrings: lines, remainingWord: currentLine };\r\n  },\r\n  (word, maxWidth, hyphenCharacter = '-', config) =>\r\n    `${word}-${maxWidth}-${hyphenCharacter}-${config.fontSize}-${config.fontWeight}-${config.fontFamily}`\r\n);\r\n\r\n/**\r\n * This calculates the text's height, taking into account the wrap breaks and\r\n * both the statically configured height, width, and the length of the text (in pixels).\r\n *\r\n * If the wrapped text text has greater height, we extend the height, so it's\r\n * value won't overflow.\r\n *\r\n * @return - The height for the given text\r\n * @param text the text to measure\r\n * @param config - the config for fontSize, fontFamily, and fontWeight all impacting the resulting size\r\n */\r\nexport const calculateTextHeight = function (text, config) {\r\n  config = Object.assign(\r\n    { fontSize: 12, fontWeight: 400, fontFamily: 'Arial', margin: 15 },\r\n    config\r\n  );\r\n  return calculateTextDimensions(text, config).height;\r\n};\r\n\r\n/**\r\n * This calculates the width of the given text, font size and family.\r\n *\r\n * @return - The width for the given text\r\n * @param text - The text to calculate the width of\r\n * @param config - the config for fontSize, fontFamily, and fontWeight all impacting the resulting size\r\n */\r\nexport const calculateTextWidth = function (text, config) {\r\n  config = Object.assign({ fontSize: 12, fontWeight: 400, fontFamily: 'Arial' }, config);\r\n  return calculateTextDimensions(text, config).width;\r\n};\r\n\r\n/**\r\n * This calculates the dimensions of the given text, font size, font family, font weight, and margins.\r\n *\r\n * @return - The width for the given text\r\n * @param text - The text to calculate the width of\r\n * @param config - the config for fontSize, fontFamily, fontWeight, and margin all impacting the resulting size\r\n */\r\nexport const calculateTextDimensions = memoize(\r\n  function (text, config) {\r\n    config = Object.assign({ fontSize: 12, fontWeight: 400, fontFamily: 'Arial' }, config);\r\n    const { fontSize, fontFamily, fontWeight } = config;\r\n    if (!text) {\r\n      return { width: 0, height: 0 };\r\n    }\r\n\r\n    // We can't really know if the user supplied font family will render on the user agent;\r\n    // thus, we'll take the max width between the user supplied font family, and a default\r\n    // of sans-serif.\r\n    const fontFamilies = ['sans-serif', fontFamily];\r\n    const lines = text.split(common.lineBreakRegex);\r\n    let dims = [];\r\n\r\n    const body = select('body');\r\n    // We don't want to leak DOM elements - if a removal operation isn't available\r\n    // for any reason, do not continue.\r\n    if (!body.remove) {\r\n      return { width: 0, height: 0, lineHeight: 0 };\r\n    }\r\n\r\n    const g = body.append('svg');\r\n\r\n    for (let fontFamily of fontFamilies) {\r\n      let cheight = 0;\r\n      let dim = { width: 0, height: 0, lineHeight: 0 };\r\n      for (let line of lines) {\r\n        const textObj = getTextObj();\r\n        textObj.text = line;\r\n        const textElem = drawSimpleText(g, textObj)\r\n          .style('font-size', fontSize)\r\n          .style('font-weight', fontWeight)\r\n          .style('font-family', fontFamily);\r\n\r\n        let bBox = (textElem._groups || textElem)[0][0].getBBox();\r\n        dim.width = Math.round(Math.max(dim.width, bBox.width));\r\n        cheight = Math.round(bBox.height);\r\n        dim.height += cheight;\r\n        dim.lineHeight = Math.round(Math.max(dim.lineHeight, cheight));\r\n      }\r\n      dims.push(dim);\r\n    }\r\n\r\n    g.remove();\r\n\r\n    let index =\r\n      isNaN(dims[1].height) ||\r\n      isNaN(dims[1].width) ||\r\n      isNaN(dims[1].lineHeight) ||\r\n      (dims[0].height > dims[1].height &&\r\n        dims[0].width > dims[1].width &&\r\n        dims[0].lineHeight > dims[1].lineHeight)\r\n        ? 0\r\n        : 1;\r\n    return dims[index];\r\n  },\r\n  (text, config) => `${text}-${config.fontSize}-${config.fontWeight}-${config.fontFamily}`\r\n);\r\n\r\nconst d3Attrs = function (d3Elem, attrs) {\r\n  for (let attr of attrs) {\r\n    d3Elem.attr(attr[0], attr[1]);\r\n  }\r\n};\r\n\r\nexport const calculateSvgSizeAttrs = function (height, width, useMaxWidth) {\r\n  let attrs = new Map();\r\n  attrs.set('height', height);\r\n  if (useMaxWidth) {\r\n    attrs.set('width', '100%');\r\n    attrs.set('style', `max-width: ${width}px;`);\r\n  } else {\r\n    attrs.set('width', width);\r\n  }\r\n  return attrs;\r\n};\r\n\r\nexport const configureSvgSize = function (svgElem, height, width, useMaxWidth) {\r\n  const attrs = calculateSvgSizeAttrs(height, width, useMaxWidth);\r\n  d3Attrs(svgElem, attrs);\r\n};\r\n\r\nexport const initIdGeneratior = class iterator {\r\n  constructor(deterministic, seed) {\r\n    this.deterministic = deterministic;\r\n    this.seed = seed;\r\n\r\n    this.count = seed ? seed.length : 0;\r\n  }\r\n\r\n  next() {\r\n    if (!this.deterministic) return Date.now();\r\n\r\n    return this.count++;\r\n  }\r\n};\r\n\r\n// Source https://github.com/shrpne/entity-decode/blob/master/browser.js\r\nlet decoder;\r\nexport const entityDecode = function (html) {\r\n  decoder = decoder || document.createElement('div');\r\n  // Escape HTML before decoding for HTML Entities\r\n  html = escape(html).replace(/%26/g, '&').replace(/%23/g, '#').replace(/%3B/g, ';');\r\n  // decoding\r\n  decoder.innerHTML = html;\r\n  return unescape(decoder.textContent);\r\n};\r\n\r\nexport const directiveSanitizer = (args) => {\r\n  log.debug('directiveSanitizer called with', args);\r\n  if (typeof args === 'object') {\r\n    // check for array\r\n    if (args.length) {\r\n      args.forEach((arg) => directiveSanitizer(arg));\r\n    } else {\r\n      // This is an object\r\n      Object.keys(args).forEach((key) => {\r\n        log.debug('Checking key', key);\r\n        if (key.indexOf('__') === 0) {\r\n          log.debug('sanitize deleting __ option', key);\r\n          delete args[key];\r\n        }\r\n\r\n        if (key.indexOf('proto') >= 0) {\r\n          log.debug('sanitize deleting proto option', key);\r\n          delete args[key];\r\n        }\r\n\r\n        if (key.indexOf('constr') >= 0) {\r\n          log.debug('sanitize deleting constr option', key);\r\n          delete args[key];\r\n        }\r\n        if (configKeys.indexOf(key) < 0) {\r\n          log.debug('sanitize deleting option', key);\r\n          delete args[key];\r\n        } else {\r\n          if (typeof args[key] === 'object') {\r\n            log.debug('sanitize deleting object', key);\r\n            directiveSanitizer(args[key]);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\nexport default {\r\n  assignWithDepth,\r\n  wrapLabel,\r\n  calculateTextHeight,\r\n  calculateTextWidth,\r\n  calculateTextDimensions,\r\n  calculateSvgSizeAttrs,\r\n  configureSvgSize,\r\n  detectInit,\r\n  detectDirective,\r\n  detectType,\r\n  isSubstringInArray,\r\n  interpolateToCurve,\r\n  calcLabelPosition,\r\n  calcCardinalityPosition,\r\n  calcTerminalLabelPosition,\r\n  formatUrl,\r\n  getStylesFromArray,\r\n  generateId,\r\n  random,\r\n  memoize,\r\n  runFunc,\r\n  entityDecode,\r\n  initIdGeneratior,\r\n  directiveSanitizer,\r\n};\r\n","// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47 /*/*/)\n      break;\n    else\n      code = 47 /*/*/;\n    if (code === 47 /*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += '/..';\n          else\n            res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += '/' + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 /*.*/ && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0)\n        path = arguments[i];\n      else {\n        if (cwd === undefined)\n          cwd = process.cwd();\n        path = cwd;\n      }\n\n      assertPath(path);\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return '/' + resolvedPath;\n      else\n        return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n\n  normalize: function normalize(path) {\n    assertPath(path);\n\n    if (path.length === 0) return '.';\n\n    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;\n\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;\n  },\n\n  join: function join() {\n    if (arguments.length === 0)\n      return '.';\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === undefined)\n          joined = arg;\n        else\n          joined += '/' + arg;\n      }\n    }\n    if (joined === undefined)\n      return '.';\n    return posix.normalize(joined);\n  },\n\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n\n    if (from === to) return '';\n\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n\n    if (from === to) return '';\n\n    // Trim any leading backslashes\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47 /*/*/)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart;\n\n    // Trim any leading backslashes\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47 /*/*/)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = toEnd - toStart;\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47 /*/*/)\n        lastCommonSep = i;\n    }\n\n    var out = '';\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n        if (out.length === 0)\n          out += '..';\n        else\n          out += '/..';\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47 /*/*/)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47 /*/*/;\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          if (!matchedSlash) {\n            end = i;\n            break;\n          }\n        } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n        if (code === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1)\n            startDot = i;\n          else if (preDotState !== 1)\n            preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n    return path.slice(startDot, end);\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n    return _format('/', pathObject);\n  },\n\n  parse: function parse(path) {\n    assertPath(path);\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47 /*/*/;\n    var start;\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1;\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n\n    return ret;\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\n\nposix.posix = posix;\n\nmodule.exports = posix;\n","module.exports = require(\"@braintree/sanitize-url\");","module.exports = require(\"d3\");","module.exports = require(\"dagre\");","module.exports = require(\"dagre-d3\");","module.exports = require(\"dagre-d3/lib/label/add-html-label.js\");","module.exports = require(\"dompurify\");","module.exports = require(\"graphlib\");","module.exports = require(\"khroma\");","module.exports = require(\"moment-mini\");","module.exports = require(\"stylis\");","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the module cache\n__webpack_require__.c = __webpack_module_cache__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","","// module cache are used so entry inlining is disabled\n// startup\n// Load entry module and return exports\nvar __webpack_exports__ = __webpack_require__(__webpack_require__.s = \"./src/mermaid.js\");\n",""],"names":["assignWithDepth","log","theme","config","defaultConfig","Object","freeze","siteConfig","configFromInitialize","directives","currentConfig","updateCurrentConfig","siteCfg","_directives","cfg","sumOfDirectives","i","length","d","sanitize","tmpConfigFromInitialize","themeVariables","getThemeVariables","setSiteConfig","conf","saveConfigFromInitilize","updateSiteConfig","getSiteConfig","setConfig","getConfig","options","keys","secure","forEach","key","debug","indexOf","addDirective","directive","fontFamily","push","reset","intersectRect","createLabel","select","evaluate","rect","parent","node","trace","id","shapeSvg","insert","attr","class","label","text","appendChild","labelText","labelStyle","undefined","bbox","getBBox","flowchart","htmlLabels","div","children","dv","getBoundingClientRect","width","height","padding","halfPadding","diff","JSON","stringify","style","rx","ry","x","y","rectBox","intersect","point","noteGroup","roundedWithTitle","classes","innerRect","append","divider","shapes","clusterElems","insertCluster","elem","shape","getClusterTitleWidth","removeChild","clear","positionCluster","info","el","applyStyle","dom","styleFn","addHtmlLabel","fo","document","createElementNS","labelClass","isNode","html","_vertexText","isTitle","vertexText","replace","s","vertexNode","svgLabel","setAttribute","rows","split","Array","isArray","j","tspan","setAttributeNS","textContent","trim","line","curveBasis","utils","edgeLabels","terminalLabels","insertEdgeLabel","edge","labelElement","edgeLabel","startLabelLeft","startLabelElement","startEdgeLabelLeft","inner","slBox","startLeft","setTerminalWidth","startLabelRight","startEdgeLabelRight","startRight","endLabelLeft","endLabelElement","endEdgeLabelLeft","endLeft","endLabelRight","endEdgeLabelRight","endRight","value","positionEdgeLabel","paths","path","updatedPath","originalPath","pos","calcLabelPosition","calcTerminalLabelPosition","arrowTypeStart","arrowTypeEnd","outsideNode","dx","Math","abs","dy","w","h","intersection","outsidePoint","insidePoint","warn","r","Q","R","q","res","_x","_y","cutPathAtIntersect","_points","boundryNode","points","lastPointOutside","isInside","inter","pointPresent","p","find","e","insertEdge","clusterDb","diagramType","graph","pointsHasChanged","tail","v","head","slice","unshift","toCluster","fromCluster","reverse","lineData","filter","Number","isNaN","curve","lineFunction","strokeClasses","thickness","pattern","svgPath","url","state","arrowMarkerAbsolute","window","location","protocol","host","pathname","search","dagre","graphlib","insertMarkers","updateNodeBounds","clearGraphlib","adjustClustersAndEdges","findNonClusterChild","sortNodesByHierarchy","insertNode","positionNode","clearNodes","setNodeElem","clearClusters","clearEdges","recursiveRender","_elem","diagramtype","parentCluster","json","write","dir","rankdir","nodes","edges","clusters","edgePaths","data","parse","clusterData","setNode","setParent","clusterNode","o","newEl","name","layout","n","type","render","markers","circle","ellipse","polygon","intersectEllipse","intersectCircle","cx","cy","px","py","det","sqrt","intersectLine","p1","p2","q1","q2","a1","a2","b1","b2","c1","c2","r1","r2","r3","r4","denom","offset","num","sameSign","module","exports","intersectNode","intersectPolygon","polyPoints","x1","y1","intersections","minX","POSITIVE_INFINITY","minY","entry","min","left","top","sort","pdx","pdy","distp","qdx","qdy","distq","sx","sy","markerArray","markerName","extension","composition","aggregation","dependency","cross","barb","decendants","parents","isDecendant","ancenstorId","edgeInCluster","clusterId","copy","newGraph","rootId","setEdge","error","removeNode","extractDecendants","concat","validate","_id","getAnchorId","externalConnections","depth","d1","d2","removeEdge","extractor","hasChildren","graphSettings","clusterGraph","Graph","multigraph","compound","setGraph","nodesep","ranksep","marginx","marginy","setDefaultEdgeLabel","sorter","result","assign","sorted","labelHelper","insertPolygonShape","note","parseMember","question","questionElem","choice","domId","map","join","hexagon","f","m","hex","rect_left_inv_arrow","lean_right","lean_left","trapezoid","inv_trapezoid","rect_right_inv_arrow","cylinder","rectWithTitle","innerLine","text2","flat","title","textRows","titleBox","descr","stadium","subroutine","start","forkJoin","end","innerCircle","class_box","rowPadding","lineHeight","topLine","bottomLine","maxWidth","maxHeight","labelContainer","verticalPos","hasInterface","classData","annotations","interfaceLabelText","interfaceLabel","interfaceBBox","classTitleString","classTitleLabel","classTitleBBox","classAttributes","members","str","parsedText","displayText","lbl","classMethods","methods","parsedInfo","cssStyle","diffX","fork","nodeElems","link","linkTarget","tooltip","haveCallback","_classes","element","themeCSS","maxTextSize","logLevel","securityLevel","startOnLoad","deterministicIds","deterministicIDSeed","diagramPadding","nodeSpacing","rankSpacing","useMaxWidth","defaultRenderer","sequence","activationWidth","diagramMarginX","diagramMarginY","actorMargin","boxMargin","boxTextMargin","noteMargin","messageMargin","messageAlign","mirrorActors","bottomMarginAdj","rightAngles","showSequenceNumbers","actorFontSize","actorFontFamily","actorFontWeight","noteFontSize","noteFontFamily","noteFontWeight","noteAlign","messageFontSize","messageFontFamily","messageFontWeight","wrap","wrapPadding","labelBoxWidth","labelBoxHeight","messageFont","fontSize","fontWeight","noteFont","actorFont","gantt","titleTopMargin","barHeight","barGap","topPadding","rightPadding","leftPadding","gridLineStartPadding","sectionFontSize","numberSectionStyles","axisFormat","topAxis","useWidth","journey","leftMargin","taskFontSize","taskFontFamily","taskMargin","textPlacement","actorColours","sectionFills","sectionColours","git","dividerMargin","sizeUnit","textHeight","titleShift","forkWidth","forkHeight","miniPadding","fontSizeFactor","labelHeight","edgeLengthFactor","compositTitleSize","radius","er","layoutDirection","minEntityWidth","minEntityHeight","entityPadding","stroke","fill","pie","requirement","rect_fill","text_color","rect_border_size","rect_border_color","rect_min_width","rect_min_height","rect_padding","line_height","keyify","obj","prefix","reduce","configKeys","configApi","common","mermaidAPI","MERMAID_DOM_ID_PREFIX","relations","classCounter","funs","parseDirective","statement","context","splitClassNameAndType","genericType","className","addClass","classId","cssClasses","lookUpDomId","classKeys","setupToolTips","getClass","getClasses","getRelations","addRelation","relation","id1","id2","addAnnotation","annotation","validatedClassName","addMember","member","theClass","memberString","startsWith","endsWith","substring","addMembers","cleanupLabel","substr","setCssClass","ids","match","setTooltip","sanitizeText","setLink","linkStr","target","formatUrl","setClickEvent","functionName","functionArgs","setClickFunc","elemId","argList","item","charAt","querySelector","addEventListener","runFunc","bindFunctions","fun","lineType","LINE","DOTTED_LINE","relationType","AGGREGATION","EXTENSION","COMPOSITION","DEPENDENCY","tooltipElem","_groups","svg","selectAll","on","transition","duration","scrollX","right","scrollY","body","scrollTop","classed","direction","getDirection","setDirection","classDb","parser","svgDraw","curveLinear","interpolateToCurve","getStylesFromArray","configureSvgSize","yy","idCache","addClasses","g","vertex","cssClassStr","styles","radious","_shape","addRelations","cnt","defaultStyle","defaultLabelStyle","edgeData","arrowhead","relationTitle1","relationTitle2","getArrowMarker","type1","type2","interpolate","defaultInterpolate","arrowheadStyle","labelpos","labelType","lineBreakRegex","getGraphId","setConf","cnf","drawOld","diagram","isMultiGraph","classDef","drawClass","drawEdge","svgBounds","vBox","draw","_label","labels","querySelectorAll","k","dim","insertBefore","firstChild","marker","getStyles","nodeBorder","classText","mainBkg","lineColor","edgeCount","getRelationType","l","labelPosition","p1_card_x","p1_card_y","p2_card_x","p2_card_y","cardinality_1_point","calcCardinalityPosition","cardinality_2_point","bounds","classInfo","isFirst","titleText2","classTitle","titleHeight","membersLine","addTspan","membersBox","methodsLine","method","classBox","rectWidth","childNodes","fieldRegEx","methodRegEx","fieldMatch","methodMatch","buildFieldDisplay","buildMethodDisplay","buildLegacyDisplay","visibility","fieldType","parseGenericTypes","fieldName","err","methodName","parameters","classifier","returnType","parseClassifier","memberText","methodStart","methodEnd","firstChar","textEl","txt","tSpan","cleanedText","DOMPurify","getRows","breakToPlaceholder","removeScript","rs","idx","sanitizeMore","level","placeholderToBreak","hasBreaks","test","splitBreaks","getUrl","useAbsolute","val","entities","relationships","Cardinality","ZERO_OR_ONE","ZERO_OR_MORE","ONE_OR_MORE","ONLY_ONE","Identification","NON_IDENTIFYING","IDENTIFYING","addEntity","attributes","getEntities","addAttributes","entityName","attribs","entity","attributeName","addRelationship","entA","rolA","entB","rSpec","rel","entityA","roleA","entityB","relSpec","getRelationships","setTitle","getTitle","ERMarkers","ONLY_ONE_START","ONLY_ONE_END","ZERO_OR_ONE_START","ZERO_OR_ONE_END","ONE_OR_MORE_START","ONE_OR_MORE_END","ZERO_OR_MORE_START","ZERO_OR_MORE_END","erDb","erParser","erMarkers","drawAttributes","groupNode","entityTextNode","heightPadding","widthPadding","attrFontSize","labelBBox","attributeNodes","hasKeyType","hasComment","maxTypeWidth","maxNameWidth","maxKeyWidth","maxCommentWidth","cumulativeHeight","attrNum","attrPrefix","nodeWidth","nodeHeight","typeNode","attributeType","nameNode","attributeNode","tn","nn","typeBBox","nameBBox","max","attributeKeyType","keyTypeNode","kn","keyTypeBBox","attributeComment","commentNode","cn","commentNodeBBox","bBox","spareWidth","heightOffset","attribStyle","alignY","typeRect","parseFloat","drawEntities","svgNode","firstOne","textId","textNode","entityWidth","entityHeight","rectNode","rectBBox","adjustEntities","getEdgeName","addRelationships","relationship","relCnt","drawRelationshipFromLayout","relType","cardA","cardB","len","getTotalLength","labelPoint","getPointAtLength","labelId","labelNode","directed","edgesep","firstEntity","tertiaryColor","dagreD3","addToRender","addToRenderV2","addShape","vertexCounter","vertices","subGraphs","subGraphLookup","tooltips","subCount","firstGraphFlag","version","veritceKeys","addVertex","addSingleLink","_start","_end","linktext","addLink","updateLinkInterpolate","positions","interp","updateLink","isSubstringInArray","textStyles","newStyle1","newStyle2","setClass","setClickFun","getTooltip","getVertices","getEdges","ver","setGen","addSubGraph","list","_title","uniq","a","prims","boolean","number","string","objs","nodeList","stmt","hasOwnProperty","apply","nl","subGraph","makeUniq","getPosForId","secCount","posCrossRef","indexNodes2","count","posCount","childPos","getDepthFirstPos","indexNodes","getSubGraphs","firstGraph","destructStartLink","_str","countChar","char","destructEndLink","dots","destructLink","_startStr","startInfo","exists","allSgs","sg","allSubgraphs","lex","flowDb","flow","addVertices","vert","svgId","classStr","parentNode","addEdges","linkIdCnt","defaultStyles","linkIdBase","linkId","linkNameStart","linkNameEnd","minlen","subG","linkNode","flowChartShapes","Render","arrows","none","normal","util","clusterRects","clusterEl","xPos","baseVal","yPos","cluster","te","classList","add","nodeTextColor","textColor","titleColor","arrowheadColor","edgeLabelBackground","clusterBkg","clusterBorder","border2","moment","sanitizeUrl","dateFormat","todayMarker","excludes","sections","tasks","currentSection","tags","inclusiveEndDates","lastOrder","taskCnt","lastTask","lastTaskID","rawTasks","setAxisFormat","getAxisFormat","setTodayMarker","getTodayMarker","setDateFormat","enableInclusiveEndDates","endDatesAreInclusive","enableTopAxis","topAxisEnabled","getDateFormat","setExcludes","toLowerCase","getExcludes","addSection","getSections","getTasks","allItemsPricessed","compileTasks","maxDepth","iterationCount","isInvalidDate","date","isoWeekday","format","checkTaskDates","task","manualEndTime","startTime","endTime","renderEndTime","fixTaskDates","toDate","invalid","getStartDate","prevTime","re","afterStatement","exec","latestEndingTask","findTaskById","dt","Date","setHours","mDate","isValid","durationToDate","durationStatement","relativeTime","getEndDate","inclusive","parseId","idStr","compileData","prevTask","dataStr","ds","getTaskTags","endTimeData","parseData","prevTaskId","startData","taskDb","addTask","rawTask","section","processed","raw","taskInfo","active","done","crit","milestone","order","addTaskOrg","newTask","description","compileTask","allProcessed","_linkStr","pushFun","open","callbackFunction","matchFound","t","regex","RegExp","shift","scaleTime","scaleLinear","interpolateHcl","axisBottom","axisTop","timeFormat","ganttDb","getElementById","parentElement","offsetWidth","taskArray","timeScale","domain","rangeRound","categories","catsUnfiltered","checkUnique","taskCompare","b","taskA","taskB","makeGant","pageWidth","pageHeight","gap","colorScale","range","makeGrid","drawRects","vertLabels","drawToday","theArray","theGap","theTopPad","theSidePad","theBarHeight","theColorScale","enter","rectangles","toString","secNum","taskClass","startX","endX","textWidth","taskType","bottomXAxis","tickSize","tickFormat","call","topXAxis","numOccurances","prevGap","getCount","todayG","today","todayLine","arr","hash","getCounts","word","sectionBkgColor","sectionBkgColor2","altSectionBkgColor","ganttFontSize","gridColor","todayLineColor","taskTextDarkColor","taskTextClickableColor","taskTextColor","taskBkgColor","taskBorderColor","taskTextOutsideColor","activeTaskBkgColor","activeTaskBorderColor","doneTaskBorderColor","doneTaskBkgColor","critBorderColor","critBkgColor","random","commits","branches","master","curBranch","seq","getId","isfastforwardable","currentCommit","otherCommit","isReachableFrom","currentSeq","otherSeq","uniqBy","fn","recordMap","create","out","setOptions","rawOptString","message","getOptions","commit","msg","branch","merge","otherBranch","checkout","commitRef","ref","parentCount","parseInt","upsert","newval","index","splice","prettyPrintCommitHistory","commitArr","c","newCommit","nextCommit","prettyPrint","getCommitsArray","getBranchesAsObjArray","branchArr","getBranches","getCommits","getCurrentBranch","getHead","db","gitGraphParser","allCommitsDict","branchNum","nodeFillColor","nodeStrokeWidth","nodeStrokeColor","lineStrokeWidth","branchOffset","branchColors","nodeRadius","nodeLabel","apiConfig","svgCreateDefs","svgDrawLine","colorIdx","color","lineGen","round","getElementCoords","coords","ctm","getCTM","xn","yn","svgDrawLineForCommits","fromId","toId","fromBbox","toBbox","lineStart","lineEnd","cloneNode","selector","renderCommitHistory","commitid","numCommits","size","branchName","renderLines","branchColor","lineDrawn","setMessage","getMessage","setInfo","inf","getInfo","infoParser","showData","setShowData","toggle","getShowData","cleanupValue","scaleOrdinal","d3pie","arc","pieData","pieParser","margin","legendRectSize","legendSpacing","sum","myGeneratedColors","pie1","pie2","pie3","pie4","pie5","pie6","pie7","pie8","pie9","pie10","pie11","pie12","dataReady","entries","arcGenerator","innerRadius","outerRadius","toFixed","centroid","legend","horz","pieStrokeColor","pieStrokeWidth","pieOpacity","pieTitleTextSize","pieTitleTextColor","pieSectionTextColor","pieSectionTextSize","pieLegendTextColor","pieLegendTextSize","latestRequirement","requirements","latestElement","elements","RequirementType","REQUIREMENT","FUNCTIONAL_REQUIREMENT","INTERFACE_REQUIREMENT","PERFORMANCE_REQUIREMENT","PHYSICAL_REQUIREMENT","DESIGN_CONSTRAINT","RiskLevel","LOW_RISK","MED_RISK","HIGH_RISK","VerifyType","VERIFY_ANALYSIS","VERIFY_DEMONSTRATION","VERIFY_INSPECTION","VERIFY_TEST","Relationships","CONTAINS","COPIES","DERIVES","SATISFIES","VERIFIES","REFINES","TRACES","addRequirement","risk","verifyMethod","getRequirements","setNewReqId","setNewReqText","setNewReqRisk","setNewReqVerifyMethod","addElement","docRef","getElements","setNewElementType","setNewElementDocRef","src","dst","req","ReqMarkers","ARROW","insertLineEndings","containsNode","requirementDb","newRectNode","newTitleNode","txts","textStr","yPadding","linePadding","totalY","titleNode","newBodyNode","yStart","currentRow","charLimit","wrappedTxts","currentTextLen","firstPart","lastStr","addEdgeLabel","elementString","drawReqs","reqs","reqName","titleNodeInfo","bodyNode","drawElements","els","elName","relationColor","requirementBackground","requirementBorderColor","requirementBorderSize","requirementTextColor","relationLabelBackground","relationLabelColor","prevActor","actors","messages","notes","titleWrapped","sequenceNumbersEnabled","wrapEnabled","addActor","old","autoWrap","nextActor","activationCount","part","LINETYPE","ACTIVE_START","from","actor","ACTIVE_END","addMessage","idFrom","idTo","answer","to","addSignal","messageType","Error","token","loc","first_line","last_line","first_column","last_column","expected","getMessages","getActors","getActor","getActorKeys","getTitleWrapped","enableSequenceNumbers","setWrap","wrapSetting","parseMessage","SOLID","DOTTED","NOTE","SOLID_CROSS","DOTTED_CROSS","SOLID_OPEN","DOTTED_OPEN","LOOP_START","LOOP_END","ALT_START","ALT_ELSE","ALT_END","OPT_START","OPT_END","PAR_START","PAR_AND","PAR_END","RECT_START","RECT_END","SOLID_POINT","DOTTED_POINT","ARROWTYPE","FILLED","OPEN","PLACEMENT","LEFTOF","RIGHTOF","OVER","addNote","placement","titleWrap","param","signalType","loopText","optText","altText","parText","drawText","sequenceDb","startx","stopx","starty","stopy","sequenceItems","activations","models","getHeight","loops","it","acc","actorModel","addLoop","loopModel","msgModel","noteModel","lastActor","lastLoop","lastMessage","lastNote","init","updateVal","updateBounds","_self","updateFn","updateItemBounds","_startx","_stopx","_starty","_stopy","newActivation","actorRect","stackedSize","actorActivations","anchored","anchorElement","endActivation","lastActorActivationIdx","activation","lastIndexOf","createLoop","newLoop","endLoop","pop","addSectionToLoop","loop","sectionTitles","getVerticalPos","bumpVerticalPos","bump","getBounds","drawNote","getNoteRect","rectElem","drawRect","textObj","getTextObj","anchor","textMargin","valign","textElem","curr","drawMessage","sequenceIndex","lines","textDims","calculateTextDimensions","totalOffset","lineStarty","fromBounds","toBounds","drawActors","actorKeys","prevWidth","prevMargin","drawActor","activationBounds","actorObj","adjustLoopHeightForWrap","loopWidths","preMargin","postMargin","addLoopFn","heightAdjust","loopWidth","textConf","wrapLabel","maxMessageWidthPerActor","getMaxMessageWidthPerActor","calculateActorMargins","calculateLoopBounds","insertArrowHead","insertArrowCrossHead","insertArrowFilledHead","insertSequenceNumber","activeEnd","activationData","drawActivation","drawLoop","drawBackgroundRect","includes","box","actorLines","extraVertForTitle","isNote","isMessage","textFont","wrappedMessage","messageDimensions","messageWidth","actorToMessageWidth","prop","actDims","actorKey","actorWidth","buildNoteModel","shouldWrap","textDimensions","buildMessageModel","process","fromIdx","toIdx","allBounds","boundedWidth","msgDims","stack","current","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","toAdd","enabled","stk","actorBorder","actorBkg","actorTextColor","actorLineColor","signalColor","sequenceNumberColor","signalTextColor","labelBoxBorderColor","labelBoxBkgColor","labelTextColor","loopTextColor","noteBorderColor","noteBkgColor","noteTextColor","activationBkgColor","activationBorderColor","rectData","textData","prevTextHeight","textElems","yfunc","dominantBaseline","alignmentBaseline","span","drawLabel","txtObject","genPoints","cut","actorCnt","center","_drawTextCandidateFunc","drawLoopLine","sectionHeight","lower","defs","byText","content","textAttrs","_setTextAttrs","byTspan","byFo","toText","fromTextAttrsDict","set","get","stateDb","drawStartState","drawDivider","drawSimpleState","stateDef","drawDescrState","descriptions","isSecond","descrLine","descrBox","addTitleAndBox","altBkg","pad","dblPad","orgBox","orgWidth","orgX","titleWidth","graphBox","doc","lineY","drawEndState","drawForkJoinState","parentId","tmp","nText","_drawLongText","_text","tHeight","textBounds","drawState","stateInfo","stateBox","titleRows","boundstmp","boxHeight","heightAdj","generateId","clone","rootDoc","setRootDoc","getRootDoc","docTranslator","first","state1","state2","currentDoc","newNode","docNode","getRootDocV2","extract","_doc","addState","newDoc","states","documents","root","currentDocument","startCnt","endCnt","addDescription","des","getState","getStates","logDocuments","_id1","_id2","_descr","theState","dividerCnt","getDividerId","trimColon","nodeDb","setupNode","altFlag","getDir","nodeData","noteData","groupData","position","arrowType","setupDoc","startId","endId","defaultDir","transformationLog","renderDoc","svgWidth","getLabelWidth","edgeFreeDoc","ranker","nodeSep","sub","boxBounds","noteDef","nodeCount","svgElem","dividers","pWidth","pShift","getAttribute","transitionColor","stateLabelColor","background","labelBackgroundColor","transitionLabelColor","tertiaryTextColor","specialStateColor","innerEndBackground","compositeBackground","stateBkg","stateBorder","compositeTitleBackground","altBackground","allItemsProcessed","updateActors","tempActors","people","unique","Set","taskData","pieces","score","peeps","peopleList","journeyDb","drawActorLegend","person","colour","circleData","drawCircle","labelData","LEFT_MARGIN","initGraphics","actorNames","actorPos","actorName","drawTasks","fills","textColours","lastSection","sectionVHeight","taskPos","sectionNumber","drawSection","taskActors","drawTask","faceColor","fillType0","fillType1","fillType2","fillType3","fillType4","fillType5","fillType6","fillType7","actor0","actor1","actor2","actor3","actor4","actor5","d3arc","drawFace","faceData","circleElement","face","smile","startAngle","PI","endAngle","sad","ambivalent","labelMargin","taskCount","graphics","LEVELS","fatal","setLogLevel","console","bind","time","arguments","mermaid","sequenceConfig","callback","Node","ganttConfig","idGeneratior","initIdGeneratior","next","innerHTML","entityDecode","detectInit","svgCode","parseError","initialize","contentLoaded","compile","serialize","pkg","classRenderer","classRendererV2","classParser","erRenderer","flowRenderer","flowRendererV2","flowParser","ganttRenderer","ganttParser","gitGraphAst","gitGraphRenderer","infoDb","infoRenderer","pieDb","pieRenderer","requirementParser","requirementRenderer","sequenceParser","sequenceRenderer","stateParser","stateRenderer","stateRendererV2","journeyRenderer","journeyParser","errorRenderer","directiveSanitizer","graphInit","reinitialize","graphType","detectType","encodeEntities","innerTxt","isInt","decodeEntities","_txt","cb","container","existingSvg","remove","userStyles","altFontFamily","stylis","rules","style1","createElement","sequenceDiagram","currentDirective","args","handleDirective","updateRendererConfigs","default","globalReset","classDiagram","stateDiagram","themes","calcThemeVariables","userOverRides","calcColors","errorBkgColor","errorTextColor","baseThemeVariables","darkThemeVariables","defaultThemeVariables","forestThemeVariables","neutralThemeVariables","base","dark","forest","neutral","darken","lighten","adjust","invert","mkBorder","Theme","darkMode","primaryColor","primaryTextColor","secondaryColor","primaryBorderColor","secondaryBorderColor","tertiaryBorderColor","secondaryTextColor","nodeBkg","defaultLinkColor","taskTextLightColor","compositeBorder","overrides","updateColors","userOverrides","calculate","rgba","secondBkg","mainContrastColor","darkTextColor","border1","labelBackground","labelColor","col","contrast","critical","curveBasisClosed","curveBasisOpen","curveLinearClosed","curveMonotoneX","curveMonotoneY","curveNatural","curveStep","curveStepAfter","curveStepBefore","d3CurveTypes","directiveWithoutOpen","anyComment","inits","detectDirective","results","commentWithoutDirectives","source","lastIndex","memoize","resolver","cache","defaultCurve","curveName","toUpperCase","arrPaths","fnName","params","distance","pow","traverseEdge","prevPoint","totalDistance","remainingDistance","vectorDistance","distanceRatio","isRelationTypePresent","initialPosition","distanceToCardinalityPoint","angle","atan2","cardinalityPosition","sin","cos","terminalMarkerSize","makeid","characters","charactersLength","floor","clobber","drawSimpleText","joinWith","words","completedLines","nextLine","wordLength","calculateTextWidth","nextLineLength","breakString","hyphenatedStrings","remainingWord","Boolean","currentWord","isLastWord","hyphenCharacter","currentLine","character","lineWidth","currentCharacter","isLastLine","hyphenatedNextLine","calculateTextHeight","fontFamilies","dims","cheight","d3Attrs","d3Elem","attrs","calculateSvgSizeAttrs","Map","deterministic","seed","now","decoder","escape","unescape","arg"],"sourceRoot":""}